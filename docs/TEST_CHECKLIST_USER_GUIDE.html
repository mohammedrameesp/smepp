<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Durj Platform - Comprehensive Test Checklist (1580 Test Cases)</title>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
            color: #333;
        }
        .container { max-width: 1400px; margin: 0 auto; }
        header { text-align: center; color: white; padding: 40px 20px; margin-bottom: 30px; }
        header h1 { font-size: 2.5em; margin-bottom: 10px; }
        header p { font-size: 1.2em; opacity: 0.9; }
        .stats-bar { display: flex; justify-content: center; gap: 20px; margin-top: 20px; flex-wrap: wrap; }
        .stat { background: rgba(255,255,255,0.2); padding: 15px 25px; border-radius: 10px; text-align: center; min-width: 100px; }
        .stat-number { font-size: 1.8em; font-weight: bold; }
        .stat-label { font-size: 0.85em; opacity: 0.9; }
        .controls-bar {
            background: white; border-radius: 15px; padding: 20px; margin-bottom: 25px;
            box-shadow: 0 10px 40px rgba(0,0,0,0.1);
            display: flex; justify-content: space-between; align-items: center; flex-wrap: wrap; gap: 15px;
        }
        .search-box { flex: 1; min-width: 250px; max-width: 400px; }
        .search-box input {
            width: 100%; padding: 12px 15px; border: 2px solid #e5e7eb;
            border-radius: 8px; font-size: 1em;
        }
        .search-box input:focus { outline: none; border-color: #667eea; }
        .btn-group { display: flex; gap: 10px; flex-wrap: wrap; }
        .btn {
            padding: 10px 20px; border: none; border-radius: 8px;
            cursor: pointer; font-size: 0.9em; transition: all 0.2s;
        }
        .btn-primary { background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); color: white; }
        .btn-secondary { background: #f3f4f6; color: #374151; }
        .btn-danger { background: #ef4444; color: white; }
        .btn:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(0,0,0,0.15); }
        .toc { background: white; border-radius: 15px; margin-bottom: 25px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
        .toc-header {
            padding: 20px 25px; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; cursor: pointer; display: flex; justify-content: space-between; align-items: center;
        }
        .toc-header h2 { font-size: 1.3em; }
        .toc-content { padding: 20px 25px; display: none; max-height: 500px; overflow-y: auto; }
        .toc-content.active { display: block; }
        .toc-list { column-count: 3; column-gap: 30px; list-style: none; }
        .toc-list li { break-inside: avoid; margin-bottom: 8px; }
        .toc-list a { color: #4b5563; text-decoration: none; font-size: 0.9em; display: block; padding: 5px 10px; border-radius: 5px; transition: all 0.2s; }
        .toc-list a:hover { background: #f3f4f6; color: #667eea; }
        .section { background: white; border-radius: 15px; margin-bottom: 20px; overflow: hidden; box-shadow: 0 10px 40px rgba(0,0,0,0.1); }
        .section-header {
            padding: 18px 25px; cursor: pointer; display: flex; justify-content: space-between;
            align-items: center; background: #f9fafb; border-bottom: 1px solid #e5e7eb;
        }
        .section-header:hover { background: #f3f4f6; }
        .section-title { display: flex; align-items: center; gap: 15px; }
        .section-title h3 { font-size: 1.1em; color: #1f2937; }
        .section-badge {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white; padding: 4px 10px; border-radius: 20px; font-size: 0.75em; font-weight: 600;
        }
        .section-progress { display: flex; align-items: center; gap: 10px; }
        .progress-text { font-size: 0.85em; color: #6b7280; min-width: 60px; text-align: right; }
        .progress-bar-mini { width: 100px; height: 6px; background: #e5e7eb; border-radius: 3px; overflow: hidden; }
        .progress-fill-mini { height: 100%; background: linear-gradient(90deg, #10b981, #3b82f6); border-radius: 3px; transition: width 0.3s; }
        .toggle-icon { font-size: 1.2em; color: #9ca3af; transition: transform 0.3s; }
        .section.active .toggle-icon { transform: rotate(180deg); }
        .section-content { display: none; padding: 25px; }
        .section.active .section-content { display: block; }
        .subsection { margin-bottom: 25px; }
        .subsection-header {
            color: #6b7280; font-size: 0.85em; text-transform: uppercase; letter-spacing: 1px;
            margin-bottom: 12px; padding-bottom: 8px; border-bottom: 2px solid #e5e7eb;
        }
        .checklist { list-style: none; }
        .checklist li {
            padding: 10px 15px; margin-bottom: 6px; background: #f9fafb;
            border-radius: 8px; display: flex; align-items: flex-start; gap: 12px;
            transition: all 0.2s; border-left: 3px solid transparent;
        }
        .checklist li:hover { background: #f3f4f6; transform: translateX(3px); }
        .checklist li.checked { background: #ecfdf5; border-left-color: #10b981; }
        .checklist li.critical { border-left-color: #ef4444; }
        .checklist input[type="checkbox"] { width: 18px; height: 18px; margin-top: 2px; cursor: pointer; accent-color: #667eea; }
        .checklist label { flex: 1; cursor: pointer; line-height: 1.5; font-size: 0.95em; }
        .checklist li.checked label { color: #059669; }
        .file-ref {
            background: #fef3c7; border-left: 4px solid #f59e0b; padding: 12px 15px;
            margin-bottom: 15px; border-radius: 0 8px 8px 0; font-size: 0.85em;
        }
        .file-ref strong { color: #92400e; }
        .file-ref code { background: rgba(0,0,0,0.05); padding: 2px 6px; border-radius: 4px; font-family: 'Consolas', monospace; font-size: 0.9em; }
        footer { text-align: center; color: white; padding: 30px; opacity: 0.9; }
        .overall-progress { margin-top: 15px; }
        .overall-progress .progress-bar { width: 100%; max-width: 400px; height: 12px; background: rgba(255,255,255,0.3); border-radius: 6px; margin: 10px auto; overflow: hidden; }
        .overall-progress .progress-fill { height: 100%; background: white; border-radius: 6px; transition: width 0.3s; }
        .print-btn {
            position: fixed; bottom: 20px; right: 20px; background: white; border: none;
            padding: 15px 25px; border-radius: 50px; box-shadow: 0 4px 15px rgba(0,0,0,0.2);
            cursor: pointer; font-size: 1em; display: flex; align-items: center; gap: 8px; z-index: 1000;
        }
        .print-btn:hover { transform: scale(1.05); }
        @media (max-width: 1024px) { .toc-list { column-count: 2; } }
        @media (max-width: 768px) {
            header h1 { font-size: 1.8em; }
            .stats-bar { gap: 10px; }
            .stat { padding: 10px 15px; min-width: 80px; }
            .toc-list { column-count: 1; }
            .controls-bar { flex-direction: column; }
            .search-box { max-width: 100%; }
            .progress-bar-mini { display: none; }
        }
        @media print {
            body { background: white; padding: 0; }
            .print-btn, .controls-bar, .toc { display: none !important; }
            .section { break-inside: avoid; box-shadow: none; border: 1px solid #e5e7eb; }
            .section-content { display: block !important; }
            .checklist input[type="checkbox"] { -webkit-appearance: none; appearance: none; width: 14px; height: 14px; border: 2px solid #333; border-radius: 2px; }
            header { color: #333; padding: 20px; }
            .stat { background: #f3f4f6; color: #333; }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>Durj Platform - Comprehensive Test Checklist</h1>
            <p>Complete manual testing checklist with 1580 test cases across 37 sections</p>
            <div class="stats-bar">
                <div class="stat">
                    <div class="stat-number" id="total-tests">1580</div>
                    <div class="stat-label">Total Tests</div>
                </div>
                <div class="stat">
                    <div class="stat-number">37</div>
                    <div class="stat-label">Sections</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="completed-count">0</div>
                    <div class="stat-label">Completed</div>
                </div>
                <div class="stat">
                    <div class="stat-number" id="remaining-count">1580</div>
                    <div class="stat-label">Remaining</div>
                </div>
            </div>
        </header>

        <div class="controls-bar">
            <div class="search-box">
                <input type="text" id="search-input" placeholder="Search test cases..." oninput="filterTests()">
            </div>
            <div class="btn-group">
                <button class="btn btn-secondary" onclick="expandAll()">Expand All</button>
                <button class="btn btn-secondary" onclick="collapseAll()">Collapse All</button>
                <button class="btn btn-primary" onclick="exportProgress()">Export Progress</button>
                <button class="btn btn-danger" onclick="resetProgress()">Reset All</button>
            </div>
        </div>

        <div class="toc">
            <div class="toc-header" onclick="toggleToc()">
                <h2>Table of Contents (37 Sections)</h2>
                <span class="toggle-icon">&#9660;</span>
            </div>
            <div class="toc-content" id="toc-content">
                <ul class="toc-list">
                    <!-- Authentication & Security (Sections 1-11) -->
                    <li><a href="#section-1">Section 1: AUTHENTICATION &amp; SESSION MANAGEMENT</a></li>
                    <li><a href="#section-3">Section 3: PASSWORD VALIDATION</a></li>
                    <li><a href="#section-4">Section 4: MULTI-TENANT ISOLATION</a></li>
                    <li><a href="#section-6">Section 6: SUBDOMAIN &amp; TENANT ROUTING</a></li>
                    <li><a href="#section-7">Section 7: ROLE-BASED ACCESS CONTROL (RBAC)</a></li>
                    <li><a href="#section-8">Section 8: CSRF PROTECTION</a></li>
                    <li><a href="#section-9">Section 9: CSRF PROTECTION DETAILS</a></li>
                    <li><a href="#section-11">Section 11: IMPERSONATION SECURITY</a></li>
                    <!-- Assets Module (Sections 12-15) -->
                    <li><a href="#section-12">Section 12: ASSETS - LIST PAGE</a></li>
                    <li><a href="#section-13">Section 13: ASSETS - CREATE &amp; EDIT</a></li>
                    <li><a href="#section-14">Section 14: ASSETS - DETAIL &amp; ACTIONS</a></li>
                    <li><a href="#section-15">Section 15: ASSETS - TRASH &amp; REQUESTS</a></li>
                    <!-- HR Module (Sections 16-17) -->
                    <li><a href="#section-16">Section 16: EMPLOYEES - LIST &amp; MANAGEMENT</a></li>
                    <li><a href="#section-17">Section 17: LEAVE MANAGEMENT</a></li>
                    <!-- Payroll Module (Sections 18-19) -->
                    <li><a href="#section-18">Section 18: PAYROLL - RUNS &amp; PROCESSING</a></li>
                    <li><a href="#section-19">Section 19: PAYROLL - SALARY &amp; LOANS</a></li>
                    <!-- Operations (Sections 20-22) -->
                    <li><a href="#section-20">Section 20: SUBSCRIPTIONS</a></li>
                    <li><a href="#section-21">Section 21: SUPPLIERS</a></li>
                    <li><a href="#section-22">Section 22: PURCHASE REQUESTS</a></li>
                    <!-- Approvals & Integrations (Sections 23-25) -->
                    <li><a href="#section-23">Section 23: APPROVAL WORKFLOWS</a></li>
                    <li><a href="#section-24">Section 24: WHATSAPP INTEGRATION</a></li>
                    <li><a href="#section-25">Section 25: NOTIFICATIONS</a></li>
                    <!-- System & Admin (Sections 26-31) -->
                    <li><a href="#section-26">Section 26: ORGANIZATION MANAGEMENT</a></li>
                    <li><a href="#section-27">Section 27: ORGANIZATION CONFIGURATION</a></li>
                    <li><a href="#section-28">Section 28: ONBOARDING</a></li>
                    <li><a href="#section-29">Section 29: SETTINGS &amp; LOCATIONS</a></li>
                    <li><a href="#section-30">Section 30: COMPANY DOCUMENTS &amp; FILES</a></li>
                    <li><a href="#section-31">Section 31: SUPER ADMIN</a></li>
                    <!-- Cross-Cutting & Quality (Sections 32-40) -->
                    <li><a href="#section-32">Section 32: DATA IMPORT &amp; EXPORT</a></li>
                    <li><a href="#section-33">Section 33: PDF &amp; PRINT FUNCTIONALITY</a></li>
                    <li><a href="#section-34">Section 34: ERROR RECOVERY &amp; RESILIENCE</a></li>
                    <li><a href="#section-35">Section 35: CONCURRENT EDITING &amp; CONFLICTS</a></li>
                    <li><a href="#section-36">Section 36: SEARCH &amp; FILTER EDGE CASES</a></li>
                    <li><a href="#section-37">Section 37: ACCESSIBILITY (A11Y)</a></li>
                    <li><a href="#section-38">Section 38: BULK OPERATIONS</a></li>
                    <li><a href="#section-39">Section 39: SESSION &amp; BROWSER TESTING</a></li>
                    <li><a href="#section-40">Section 40: AUDIT, PERFORMANCE &amp; LOCALIZATION</a></li>
                </ul>
            </div>
        </div>


        <div class="section active" id="section-1" data-section="1">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 1</span>
                    <h3>AUTHENTICATION &amp; SESSION MANAGEMENT</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">97</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Key Files:</strong> <code>tests/unit/security/account-lockout.test.ts tests/unit/security/password-validation.test.ts tests/unit/security/password-validation.test.ts tests/unit/security/password-validation.test.ts</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>1.1 Login Functionality</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1" onchange="updateProgress()"><label for="c1">Email/password login with valid credentials</label></li>
                        <li><input type="checkbox" id="c2" onchange="updateProgress()"><label for="c2">Email/password login with invalid email format</label></li>
                        <li><input type="checkbox" id="c3" onchange="updateProgress()"><label for="c3">Email/password login with non-existent email</label></li>
                        <li><input type="checkbox" id="c4" onchange="updateProgress()"><label for="c4">Email/password login with wrong password</label></li>
                        <li><input type="checkbox" id="c5" onchange="updateProgress()"><label for="c5">Google OAuth login (new user - creates account)</label></li>
                        <li><input type="checkbox" id="c6" onchange="updateProgress()"><label for="c6">Google OAuth login (existing user - signs in)</label></li>
                        <li><input type="checkbox" id="c7" onchange="updateProgress()"><label for="c7">Microsoft/Azure AD OAuth login (new user)</label></li>
                        <li><input type="checkbox" id="c8" onchange="updateProgress()"><label for="c8">Microsoft/Azure AD OAuth login (existing user)</label></li>
                        <li><input type="checkbox" id="c9" onchange="updateProgress()"><label for="c9">Custom OAuth per organization (Google with org-specific client)</label></li>
                        <li><input type="checkbox" id="c10" onchange="updateProgress()"><label for="c10">Custom OAuth per organization (Azure with org-specific client)</label></li>
                        <li><input type="checkbox" id="c11" onchange="updateProgress()"><label for="c11">Login redirect to correct subdomain after auth</label></li>
                        <li><input type="checkbox" id="c12" onchange="updateProgress()"><label for="c12">Login preserves return URL after authentication</label></li>
                        <li><input type="checkbox" id="c13" onchange="updateProgress()"><label for="c13">Session expiration after timeout</label></li>
                        <li><input type="checkbox" id="c14" onchange="updateProgress()"><label for="c14">Session refresh mechanism</label></li>
                        <li><input type="checkbox" id="c15" onchange="updateProgress()"><label for="c15">Logout clears session completely</label></li>
                        <li><input type="checkbox" id="c16" onchange="updateProgress()"><label for="c16">Logout from all devices option</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Progressive Lockout Thresholds</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c17" onchange="updateProgress()"><label for="c17">5 failed attempts → 5 minute lockout</label></li>
                        <li><input type="checkbox" id="c18" onchange="updateProgress()"><label for="c18">10 failed attempts → 15 minute lockout</label></li>
                        <li><input type="checkbox" id="c19" onchange="updateProgress()"><label for="c19">15 failed attempts → 30 minute lockout</label></li>
                        <li><input type="checkbox" id="c20" onchange="updateProgress()"><label for="c20">20+ failed attempts → 60 minute lockout</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Lockout Behavior</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c21" onchange="updateProgress()"><label for="c21">Lockout clears automatically after duration expires</label></li>
                        <li><input type="checkbox" id="c22" onchange="updateProgress()"><label for="c22">Successful login resets failed attempt counter to 0</label></li>
                        <li><input type="checkbox" id="c23" onchange="updateProgress()"><label for="c23">Lockout applies per user/email (not per IP)</label></li>
                        <li><input type="checkbox" id="c24" onchange="updateProgress()"><label for="c24">Admin can manually unlock account via `unlockAccount()`</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Security - Information Disclosure Prevention</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c25" onchange="updateProgress()"><label for="c25">Lockout response does NOT reveal if email exists in system</label></li>
                        <li><input type="checkbox" id="c26" onchange="updateProgress()"><label for="c26">Non-existent email returns plausible &quot;not locked&quot; response</label></li>
                        <li><input type="checkbox" id="c27" onchange="updateProgress()"><label for="c27">`attemptsRemaining` returned to give user feedback</label></li>
                        <li><input type="checkbox" id="c28" onchange="updateProgress()"><label for="c28">Email normalized to lowercase before lookup</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Edge Cases</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c29" onchange="updateProgress()"><label for="c29">User with no `lockedUntil` date → not locked</label></li>
                        <li><input type="checkbox" id="c30" onchange="updateProgress()"><label for="c30">Non-existent user → not locked (no error revealed)</label></li>
                        <li><input type="checkbox" id="c31" onchange="updateProgress()"><label for="c31">`lockedUntil` in future → locked, returns `minutesRemaining`</label></li>
                        <li><input type="checkbox" id="c32" onchange="updateProgress()"><label for="c32">Expired lock (past date) → auto-cleared, returns not locked</label></li>
                        <li><input type="checkbox" id="c33" onchange="updateProgress()"><label for="c33">`getLockoutStatus()` throws &quot;User not found&quot; for non-existent user (admin API only)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>TeamMember Lockout (Organization Users)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c34" onchange="updateProgress()"><label for="c34">Separate lockout tracking for TeamMember entities</label></li>
                        <li><input type="checkbox" id="c35" onchange="updateProgress()"><label for="c35">Same progressive lockout durations apply</label></li>
                        <li><input type="checkbox" id="c36" onchange="updateProgress()"><label for="c36">`isTeamMemberLocked()` checks organization user lockout</label></li>
                        <li><input type="checkbox" id="c37" onchange="updateProgress()"><label for="c37">`recordTeamMemberFailedLogin()` increments attempts</label></li>
                        <li><input type="checkbox" id="c38" onchange="updateProgress()"><label for="c38">`clearTeamMemberFailedLogins()` resets on successful login</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>1.3 Password Validation (Default Users)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c39" onchange="updateProgress()"><label for="c39">**Minimum 8 characters required** - &quot;Password must be at least 8 characters&quot;</label></li>
                        <li><input type="checkbox" id="c40" onchange="updateProgress()"><label for="c40">7-character password rejected (e.g., &quot;Short1!&quot;)</label></li>
                        <li><input type="checkbox" id="c41" onchange="updateProgress()"><label for="c41">8-character password accepted (e.g., &quot;LongEnough1&quot;)</label></li>
                        <li><input type="checkbox" id="c42" onchange="updateProgress()"><label for="c42">**Uppercase letter required** - &quot;Password must contain at least one uppercase letter&quot;</label></li>
                        <li><input type="checkbox" id="c43" onchange="updateProgress()"><label for="c43">All lowercase rejected (e.g., &quot;lowercase123&quot;)</label></li>
                        <li><input type="checkbox" id="c44" onchange="updateProgress()"><label for="c44">**Lowercase letter required** - &quot;Password must contain at least one lowercase letter&quot;</label></li>
                        <li><input type="checkbox" id="c45" onchange="updateProgress()"><label for="c45">All uppercase rejected (e.g., &quot;UPPERCASE123&quot;)</label></li>
                        <li><input type="checkbox" id="c46" onchange="updateProgress()"><label for="c46">**Number required** - &quot;Password must contain at least one number&quot;</label></li>
                        <li><input type="checkbox" id="c47" onchange="updateProgress()"><label for="c47">No numbers rejected (e.g., &quot;NoNumbers!&quot;)</label></li>
                        <li><input type="checkbox" id="c48" onchange="updateProgress()"><label for="c48">Special character optional but increases score</label></li>
                        <li><input type="checkbox" id="c49" onchange="updateProgress()"><label for="c49">**Strength Classification:**</label></li>
                        <li><input type="checkbox" id="c50" onchange="updateProgress()"><label for="c50">**Common Password Detection (score = 0):**</label></li>
                        <li><input type="checkbox" id="c51" onchange="updateProgress()"><label for="c51">**Pattern Penalties:**</label></li>
                        <li><input type="checkbox" id="c52" onchange="updateProgress()"><label for="c52">**Length Bonuses:**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>1.4 Password Validation (Admin Users - Stricter)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c53" onchange="updateProgress()"><label for="c53">**Minimum 12 characters required for admins** (ADMIN_PASSWORD_REQUIREMENTS)</label></li>
                        <li><input type="checkbox" id="c54" onchange="updateProgress()"><label for="c54">11-character admin password rejected (e.g., &quot;ShortPass1!&quot;)</label></li>
                        <li><input type="checkbox" id="c55" onchange="updateProgress()"><label for="c55">12-character admin password accepted (e.g., &quot;AdminPass123!&quot;)</label></li>
                        <li><input type="checkbox" id="c56" onchange="updateProgress()"><label for="c56">Uppercase letter required</label></li>
                        <li><input type="checkbox" id="c57" onchange="updateProgress()"><label for="c57">Lowercase letter required</label></li>
                        <li><input type="checkbox" id="c58" onchange="updateProgress()"><label for="c58">Number required</label></li>
                        <li><input type="checkbox" id="c59" onchange="updateProgress()"><label for="c59">**Special character REQUIRED for admins** - &quot;Password must contain at least one special character (!@#$%^&amp;*...)&quot;</label></li>
                        <li><input type="checkbox" id="c60" onchange="updateProgress()"><label for="c60">Admin password without special char rejected (e.g., &quot;AdminPass123&quot;)</label></li>
                        <li><input type="checkbox" id="c61" onchange="updateProgress()"><label for="c61">Accepts: !@#$%^&amp;* and similar special characters</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>1.4a Edge Cases</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c62" onchange="updateProgress()"><label for="c62">Empty string: invalid with multiple errors</label></li>
                        <li><input type="checkbox" id="c63" onchange="updateProgress()"><label for="c63">Very long password (100+ chars): valid and scores &quot;strong&quot;</label></li>
                        <li><input type="checkbox" id="c64" onchange="updateProgress()"><label for="c64">**Unicode characters accepted** (e.g., &quot;Pässwörd123!&quot;)</label></li>
                        <li><input type="checkbox" id="c65" onchange="updateProgress()"><label for="c65">**Whitespace in passwords allowed** (e.g., &quot;Pass word 123!&quot;) - increases entropy</label></li>
                        <li><input type="checkbox" id="c66" onchange="updateProgress()"><label for="c66">Only special characters valid with custom requirements (e.g., &quot;!@#$%^&amp;*()&quot;)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>1.5 Signup Flow</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c67" onchange="updateProgress()"><label for="c67">Create account with valid email</label></li>
                        <li><input type="checkbox" id="c68" onchange="updateProgress()"><label for="c68">Email verification sent after signup</label></li>
                        <li><input type="checkbox" id="c69" onchange="updateProgress()"><label for="c69">Cannot login until email verified</label></li>
                        <li><input type="checkbox" id="c70" onchange="updateProgress()"><label for="c70">Resend verification email option</label></li>
                        <li><input type="checkbox" id="c71" onchange="updateProgress()"><label for="c71">Verification link expires after 24 hours</label></li>
                        <li><input type="checkbox" id="c72" onchange="updateProgress()"><label for="c72">Organization creation after account verification</label></li>
                        <li><input type="checkbox" id="c73" onchange="updateProgress()"><label for="c73">Organization name validation (2-100 chars)</label></li>
                        <li><input type="checkbox" id="c74" onchange="updateProgress()"><label for="c74">Organization slug auto-generation from name</label></li>
                        <li><input type="checkbox" id="c75" onchange="updateProgress()"><label for="c75">Organization slug uniqueness validation</label></li>
                        <li><input type="checkbox" id="c76" onchange="updateProgress()"><label for="c76">Organization slug format (alphanumeric + hyphens, 3-63 chars)</label></li>
                        <li><input type="checkbox" id="c77" onchange="updateProgress()"><label for="c77">Duplicate slug gets counter suffix (-1, -2, etc.)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>1.6 Invitation Flow</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c78" onchange="updateProgress()"><label for="c78">Invite team member with valid email</label></li>
                        <li><input type="checkbox" id="c79" onchange="updateProgress()"><label for="c79">Cannot invite email already in organization</label></li>
                        <li><input type="checkbox" id="c80" onchange="updateProgress()"><label for="c80">Cannot invite email already invited (pending)</label></li>
                        <li><input type="checkbox" id="c81" onchange="updateProgress()"><label for="c81">Invitation link sent via email</label></li>
                        <li><input type="checkbox" id="c82" onchange="updateProgress()"><label for="c82">Invitation expires after 7 days</label></li>
                        <li><input type="checkbox" id="c83" onchange="updateProgress()"><label for="c83">Accepting invitation joins organization</label></li>
                        <li><input type="checkbox" id="c84" onchange="updateProgress()"><label for="c84">Accepting invitation with SSO creates account</label></li>
                        <li><input type="checkbox" id="c85" onchange="updateProgress()"><label for="c85">Accepting invitation with credentials requires password setup</label></li>
                        <li><input type="checkbox" id="c86" onchange="updateProgress()"><label for="c86">Revoke invitation before acceptance</label></li>
                        <li><input type="checkbox" id="c87" onchange="updateProgress()"><label for="c87">Resend invitation email</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>1.7 Password Change</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c88" onchange="updateProgress()"><label for="c88">Current password required to change</label></li>
                        <li><input type="checkbox" id="c89" onchange="updateProgress()"><label for="c89">New password must meet strength requirements</label></li>
                        <li><input type="checkbox" id="c90" onchange="updateProgress()"><label for="c90">Confirmation must match new password</label></li>
                        <li><input type="checkbox" id="c91" onchange="updateProgress()"><label for="c91">Password change invalidates other sessions (optional)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>1.8 Rate Limiting</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c92" onchange="updateProgress()"><label for="c92">General API: 60 requests per 60 seconds</label></li>
                        <li><input type="checkbox" id="c93" onchange="updateProgress()"><label for="c93">Authentication: 5 attempts per 15 minutes</label></li>
                        <li><input type="checkbox" id="c94" onchange="updateProgress()"><label for="c94">Rate limit returns 429 status with Retry-After header</label></li>
                        <li><input type="checkbox" id="c95" onchange="updateProgress()"><label for="c95">Rate limit per user (authenticated)</label></li>
                        <li><input type="checkbox" id="c96" onchange="updateProgress()"><label for="c96">Rate limit per IP (unauthenticated)</label></li>
                        <li><input type="checkbox" id="c97" onchange="updateProgress()"><label for="c97">Rate limit per tenant + IP combination</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-3" data-section="3">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 3</span>
                    <h3>PASSWORD VALIDATION</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">51</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Key Files:</strong> <code>tests/unit/security/password-validation.test.ts src/lib/security/password-validation.ts</code></div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Default Users</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3663" onchange="updateProgress()"><label for="c3663">**Minimum 8 characters**</label></li>
                        <li><input type="checkbox" id="c3664" onchange="updateProgress()"><label for="c3664">7 characters → rejected with error message</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Admin Users</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3665" onchange="updateProgress()"><label for="c3665">**Minimum 12 characters**</label></li>
                        <li><input type="checkbox" id="c3666" onchange="updateProgress()"><label for="c3666">Admin with 11 chars → rejected</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Length Bonuses</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3667" onchange="updateProgress()"><label for="c3667">**12+ chars → bonus score**</label></li>
                        <li><input type="checkbox" id="c3668" onchange="updateProgress()"><label for="c3668">**16+ chars → additional bonus**</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Uppercase</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3669" onchange="updateProgress()"><label for="c3669">**Uppercase required** (default)</label></li>
                        <li><input type="checkbox" id="c3670" onchange="updateProgress()"><label for="c3670">Missing uppercase → error message</label></li>
                        <li><input type="checkbox" id="c3671" onchange="updateProgress()"><label for="c3671">Presence increases score</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Lowercase</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3672" onchange="updateProgress()"><label for="c3672">**Lowercase required**</label></li>
                        <li><input type="checkbox" id="c3673" onchange="updateProgress()"><label for="c3673">Missing lowercase → error message</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Numbers</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3674" onchange="updateProgress()"><label for="c3674">**Number required**</label></li>
                        <li><input type="checkbox" id="c3675" onchange="updateProgress()"><label for="c3675">Missing number → error message</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Special Characters</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3676" onchange="updateProgress()"><label for="c3676">**Optional for default users**</label></li>
                        <li><input type="checkbox" id="c3677" onchange="updateProgress()"><label for="c3677">**Required for admin users**</label></li>
                        <li><input type="checkbox" id="c3678" onchange="updateProgress()"><label for="c3678">Presence increases score</label></li>
                        <li><input type="checkbox" id="c3679" onchange="updateProgress()"><label for="c3679">Missing for admin → specific error message</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Detected Passwords</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3680" onchange="updateProgress()"><label for="c3680">**&quot;password&quot; → score 0**</label></li>
                        <li><input type="checkbox" id="c3681" onchange="updateProgress()"><label for="c3681">**&quot;123456&quot; → score 0**</label></li>
                        <li><input type="checkbox" id="c3682" onchange="updateProgress()"><label for="c3682">**&quot;qwerty&quot; → score 0**</label></li>
                        <li><input type="checkbox" id="c3683" onchange="updateProgress()"><label for="c3683">**&quot;admin&quot; → score 0**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Variations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3684" onchange="updateProgress()"><label for="c3684">password123 → still detected (low score)</label></li>
                        <li><input type="checkbox" id="c3685" onchange="updateProgress()"><label for="c3685">admin12345 → detected</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Score Reduction</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3686" onchange="updateProgress()"><label for="c3686">**Only letters → reduced score**</label></li>
                        <li><input type="checkbox" id="c3687" onchange="updateProgress()"><label for="c3687">**Only numbers → reduced score**</label></li>
                        <li><input type="checkbox" id="c3688" onchange="updateProgress()"><label for="c3688">**Repeated characters → reduced score** (Aaaaaa123)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Mixed Characters</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3689" onchange="updateProgress()"><label for="c3689">Mixed types improve score</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Score Ranges</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3690" onchange="updateProgress()"><label for="c3690">**Score 0-1 → &quot;weak&quot;**</label></li>
                        <li><input type="checkbox" id="c3691" onchange="updateProgress()"><label for="c3691">**Score 2 → &quot;fair&quot;**</label></li>
                        <li><input type="checkbox" id="c3692" onchange="updateProgress()"><label for="c3692">**Score 3 → &quot;good&quot;**</label></li>
                        <li><input type="checkbox" id="c3693" onchange="updateProgress()"><label for="c3693">**Score 4 → &quot;strong&quot;**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Colors</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3694" onchange="updateProgress()"><label for="c3694">weak → red (#ef4444)</label></li>
                        <li><input type="checkbox" id="c3695" onchange="updateProgress()"><label for="c3695">fair → orange</label></li>
                        <li><input type="checkbox" id="c3696" onchange="updateProgress()"><label for="c3696">good → yellow</label></li>
                        <li><input type="checkbox" id="c3697" onchange="updateProgress()"><label for="c3697">strong → green (#22c55e)</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>DEFAULT_PASSWORD_REQUIREMENTS</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3698" onchange="updateProgress()"><label for="c3698">minLength: 8</label></li>
                        <li><input type="checkbox" id="c3699" onchange="updateProgress()"><label for="c3699">requireUppercase: true</label></li>
                        <li><input type="checkbox" id="c3700" onchange="updateProgress()"><label for="c3700">requireLowercase: true</label></li>
                        <li><input type="checkbox" id="c3701" onchange="updateProgress()"><label for="c3701">requireNumber: true</label></li>
                        <li><input type="checkbox" id="c3702" onchange="updateProgress()"><label for="c3702">requireSpecial: false</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>ADMIN_PASSWORD_REQUIREMENTS</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3703" onchange="updateProgress()"><label for="c3703">minLength: 12</label></li>
                        <li><input type="checkbox" id="c3704" onchange="updateProgress()"><label for="c3704">requireUppercase: true</label></li>
                        <li><input type="checkbox" id="c3705" onchange="updateProgress()"><label for="c3705">requireLowercase: true</label></li>
                        <li><input type="checkbox" id="c3706" onchange="updateProgress()"><label for="c3706">requireNumber: true</label></li>
                        <li><input type="checkbox" id="c3707" onchange="updateProgress()"><label for="c3707">**requireSpecial: true**</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Empty/Invalid</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3708" onchange="updateProgress()"><label for="c3708">**Empty string → invalid** with errors</label></li>
                        <li><input type="checkbox" id="c3709" onchange="updateProgress()"><label for="c3709">**Very long passwords → valid** (100+ chars)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Unicode</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3710" onchange="updateProgress()"><label for="c3710">**Unicode characters accepted** (Pässwörd123!)</label></li>
                        <li><input type="checkbox" id="c3711" onchange="updateProgress()"><label for="c3711">Number requirement still validated</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Special Cases</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3712" onchange="updateProgress()"><label for="c3712">**Only special chars → valid** (if meeting requirements)</label></li>
                        <li><input type="checkbox" id="c3713" onchange="updateProgress()"><label for="c3713">**Whitespace in password → valid** (increases entropy)</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-4" data-section="4">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 4</span>
                    <h3>MULTI-TENANT ISOLATION</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">72</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Key Files:</strong> <code>tests/unit/multi-tenant/subdomain.test.ts tests/unit/multi-tenant/limits.test.ts</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>2.1 Data Isolation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c98" onchange="updateProgress()"><label for="c98">User can only see data from their organization</label></li>
                        <li><input type="checkbox" id="c99" onchange="updateProgress()"><label for="c99">Assets filtered by tenantId automatically</label></li>
                        <li><input type="checkbox" id="c100" onchange="updateProgress()"><label for="c100">Employees filtered by tenantId automatically</label></li>
                        <li><input type="checkbox" id="c101" onchange="updateProgress()"><label for="c101">Leave requests filtered by tenantId automatically</label></li>
                        <li><input type="checkbox" id="c102" onchange="updateProgress()"><label for="c102">Payroll runs filtered by tenantId automatically</label></li>
                        <li><input type="checkbox" id="c103" onchange="updateProgress()"><label for="c103">Subscriptions filtered by tenantId automatically</label></li>
                        <li><input type="checkbox" id="c104" onchange="updateProgress()"><label for="c104">Suppliers filtered by tenantId automatically</label></li>
                        <li><input type="checkbox" id="c105" onchange="updateProgress()"><label for="c105">Purchase requests filtered by tenantId automatically</label></li>
                        <li><input type="checkbox" id="c106" onchange="updateProgress()"><label for="c106">Notifications filtered by tenantId automatically</label></li>
                        <li><input type="checkbox" id="c107" onchange="updateProgress()"><label for="c107">Approval policies filtered by tenantId automatically</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>2.2 IDOR Prevention (Insecure Direct Object Reference)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c108" onchange="updateProgress()"><label for="c108">Cannot access asset by ID from another organization</label></li>
                        <li><input type="checkbox" id="c109" onchange="updateProgress()"><label for="c109">Cannot access employee by ID from another organization</label></li>
                        <li><input type="checkbox" id="c110" onchange="updateProgress()"><label for="c110">Cannot access leave request by ID from another organization</label></li>
                        <li><input type="checkbox" id="c111" onchange="updateProgress()"><label for="c111">Cannot access payroll run by ID from another organization</label></li>
                        <li><input type="checkbox" id="c112" onchange="updateProgress()"><label for="c112">Cannot access subscription by ID from another organization</label></li>
                        <li><input type="checkbox" id="c113" onchange="updateProgress()"><label for="c113">Cannot access supplier by ID from another organization</label></li>
                        <li><input type="checkbox" id="c114" onchange="updateProgress()"><label for="c114">Cannot access purchase request by ID from another organization</label></li>
                        <li><input type="checkbox" id="c115" onchange="updateProgress()"><label for="c115">Cannot update asset from another organization</label></li>
                        <li><input type="checkbox" id="c116" onchange="updateProgress()"><label for="c116">Cannot delete asset from another organization</label></li>
                        <li><input type="checkbox" id="c117" onchange="updateProgress()"><label for="c117">findUnique operations verify tenant ownership post-fetch</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>2.3 Subdomain Routing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c118" onchange="updateProgress()"><label for="c118">Organization accessible via {slug}.durj.com</label></li>
                        <li><input type="checkbox" id="c119" onchange="updateProgress()"><label for="c119">Redirect to correct subdomain if user accesses wrong one</label></li>
                        <li><input type="checkbox" id="c120" onchange="updateProgress()"><label for="c120">Subdomain extracted from host header</label></li>
                        <li><input type="checkbox" id="c121" onchange="updateProgress()"><label for="c121">Invalid subdomain shows 404 or redirect</label></li>
                        <li><input type="checkbox" id="c122" onchange="updateProgress()"><label for="c122">Localhost subdomain handling in development</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>2.4 Cross-Tenant Headers</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c123" onchange="updateProgress()"><label for="c123">x-tenant-id header injected by middleware</label></li>
                        <li><input type="checkbox" id="c124" onchange="updateProgress()"><label for="c124">x-tenant-slug header injected by middleware</label></li>
                        <li><input type="checkbox" id="c125" onchange="updateProgress()"><label for="c125">x-user-id header injected by middleware</label></li>
                        <li><input type="checkbox" id="c126" onchange="updateProgress()"><label for="c126">Headers read by API handler for context</label></li>
                        <li><input type="checkbox" id="c127" onchange="updateProgress()"><label for="c127">Missing tenant context returns 401/403</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Reserved Subdomains</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c128" onchange="updateProgress()"><label for="c128">**Reserved system subdomains blocked:**</label></li>
                        <li><input type="checkbox" id="c129" onchange="updateProgress()"><label for="c129">`isReservedSubdomain()` returns true for all reserved words</label></li>
                        <li><input type="checkbox" id="c130" onchange="updateProgress()"><label for="c130">Reserved check is case-insensitive (&quot;WWW&quot; = &quot;www&quot;)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Slug Format Validation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c131" onchange="updateProgress()"><label for="c131">**Length:** 3-63 characters (minimum 3, maximum 63)</label></li>
                        <li><input type="checkbox" id="c132" onchange="updateProgress()"><label for="c132">**Characters allowed:** lowercase alphanumeric only [a-z0-9]</label></li>
                        <li><input type="checkbox" id="c133" onchange="updateProgress()"><label for="c133">**Hyphens:** allowed in middle, NOT at start/end</label></li>
                        <li><input type="checkbox" id="c134" onchange="updateProgress()"><label for="c134">Valid slugs accepted: &quot;acme-corp&quot;, &quot;company123&quot;, &quot;my-org&quot;</label></li>
                        <li class="critical"><input type="checkbox" id="c135" onchange="updateProgress()"><label for="c135">**CRITICAL:** Slugs &lt; 3 chars rejected (e.g., &quot;ab&quot;)</label></li>
                        <li class="critical"><input type="checkbox" id="c136" onchange="updateProgress()"><label for="c136">**CRITICAL:** Slugs &gt; 63 chars rejected</label></li>
                        <li class="critical"><input type="checkbox" id="c137" onchange="updateProgress()"><label for="c137">**CRITICAL:** Uppercase rejected - must be lowercase</label></li>
                        <li class="critical"><input type="checkbox" id="c138" onchange="updateProgress()"><label for="c138">**CRITICAL:** Special characters rejected (underscores, dots, etc.)</label></li>
                        <li><input type="checkbox" id="c139" onchange="updateProgress()"><label for="c139">Empty string rejected</label></li>
                        <li><input type="checkbox" id="c140" onchange="updateProgress()"><label for="c140">Null/undefined returns false (not valid)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Slug Generation from Organization Name</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c141" onchange="updateProgress()"><label for="c141">`generateSlug()` converts name to valid slug</label></li>
                        <li><input type="checkbox" id="c142" onchange="updateProgress()"><label for="c142">Converts to lowercase</label></li>
                        <li><input type="checkbox" id="c143" onchange="updateProgress()"><label for="c143">Replaces spaces with hyphens</label></li>
                        <li><input type="checkbox" id="c144" onchange="updateProgress()"><label for="c144">Removes non-alphanumeric characters (except hyphens)</label></li>
                        <li><input type="checkbox" id="c145" onchange="updateProgress()"><label for="c145">Trims leading/trailing hyphens</label></li>
                        <li><input type="checkbox" id="c146" onchange="updateProgress()"><label for="c146">Truncates to max 63 characters</label></li>
                        <li><input type="checkbox" id="c147" onchange="updateProgress()"><label for="c147">Example: &quot;Acme Corp!&quot; → &quot;acme-corp&quot;</label></li>
                        <li><input type="checkbox" id="c148" onchange="updateProgress()"><label for="c148">Example: &quot;My Company 123&quot; → &quot;my-company-123&quot;</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Unique Slug Generation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c149" onchange="updateProgress()"><label for="c149">`generateUniqueSlug()` ensures uniqueness in database</label></li>
                        <li><input type="checkbox" id="c150" onchange="updateProgress()"><label for="c150">If slug exists, appends counter suffix: &quot;-1&quot;, &quot;-2&quot;, etc.</label></li>
                        <li><input type="checkbox" id="c151" onchange="updateProgress()"><label for="c151">Example: &quot;acme-corp&quot; exists → generates &quot;acme-corp-1&quot;</label></li>
                        <li><input type="checkbox" id="c152" onchange="updateProgress()"><label for="c152">Checks against existing Organization slugs</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Security Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c153" onchange="updateProgress()"><label for="c153">**SQL injection prevention:** alphanumeric-only prevents injection</label></li>
                        <li><input type="checkbox" id="c154" onchange="updateProgress()"><label for="c154">**Path traversal prevention:** no slashes, dots, or special chars</label></li>
                        <li><input type="checkbox" id="c155" onchange="updateProgress()"><label for="c155">Reserved subdomain check blocks system routes hijacking</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Resource Types</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c156" onchange="updateProgress()"><label for="c156">Users resource limit checking</label></li>
                        <li><input type="checkbox" id="c157" onchange="updateProgress()"><label for="c157">Assets resource limit checking</label></li>
                        <li><input type="checkbox" id="c158" onchange="updateProgress()"><label for="c158">Subscriptions resource limit checking</label></li>
                        <li><input type="checkbox" id="c159" onchange="updateProgress()"><label for="c159">Suppliers resource limit checking</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Usage Counting Logic</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c160" onchange="updateProgress()"><label for="c160">**Users counted with:** `tenantId` AND `isDeleted: false`</label></li>
                        <li><input type="checkbox" id="c161" onchange="updateProgress()"><label for="c161">Deleted users NOT counted against limit</label></li>
                        <li><input type="checkbox" id="c162" onchange="updateProgress()"><label for="c162">Count query is tenant-scoped</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Limit Checking Response</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c163" onchange="updateProgress()"><label for="c163">Returns `{ current: number, limit: number, isAtLimit: boolean }`</label></li>
                        <li><input type="checkbox" id="c164" onchange="updateProgress()"><label for="c164">`isAtLimit` = true when current &gt;= limit</label></li>
                        <li><input type="checkbox" id="c165" onchange="updateProgress()"><label for="c165">Currently returns unlimited (-1) with `isAtLimit: false` (placeholder)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Tier-Based Limits</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c166" onchange="updateProgress()"><label for="c166">FREE tier: 5 users, 50 assets</label></li>
                        <li><input type="checkbox" id="c167" onchange="updateProgress()"><label for="c167">STARTER tier: 15 users, 200 assets</label></li>
                        <li><input type="checkbox" id="c168" onchange="updateProgress()"><label for="c168">PROFESSIONAL tier: 50 users, 1000 assets</label></li>
                        <li><input type="checkbox" id="c169" onchange="updateProgress()"><label for="c169">ENTERPRISE tier: unlimited (-1)</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-6" data-section="6">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 6</span>
                    <h3>SUBDOMAIN &amp; TENANT ROUTING</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">68</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Key Files:</strong> <code>tests/unit/multi-tenant/subdomain.test.ts src/lib/multi-tenant/subdomain.ts</code></div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>System Subdomains</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3406" onchange="updateProgress()"><label for="c3406">**www reserved**</label></li>
                        <li><input type="checkbox" id="c3407" onchange="updateProgress()"><label for="c3407">**app reserved**</label></li>
                        <li><input type="checkbox" id="c3408" onchange="updateProgress()"><label for="c3408">**api reserved**</label></li>
                        <li><input type="checkbox" id="c3409" onchange="updateProgress()"><label for="c3409">**admin reserved**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Authentication Subdomains</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3410" onchange="updateProgress()"><label for="c3410">login, signup, auth, oauth, sso reserved</label></li>
                        <li><input type="checkbox" id="c3411" onchange="updateProgress()"><label for="c3411">All authentication subdomains blocked for tenant use</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Infrastructure Subdomains</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3412" onchange="updateProgress()"><label for="c3412">mail, smtp, ftp, cdn reserved</label></li>
                        <li><input type="checkbox" id="c3413" onchange="updateProgress()"><label for="c3413">Infrastructure subdomains protected</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Environment Subdomains</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3414" onchange="updateProgress()"><label for="c3414">dev, staging, test, demo, beta reserved</label></li>
                        <li><input type="checkbox" id="c3415" onchange="updateProgress()"><label for="c3415">Environment subdomains protected</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Billing Subdomains</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3416" onchange="updateProgress()"><label for="c3416">billing, payment, pricing reserved</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Organization Subdomains</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3417" onchange="updateProgress()"><label for="c3417">org, organization, team, workspace reserved</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Main Domain Detection</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3418" onchange="updateProgress()"><label for="c3418">**durj.com → main domain** (no subdomain)</label></li>
                        <li><input type="checkbox" id="c3419" onchange="updateProgress()"><label for="c3419">Correctly identifies main domain</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Tenant Subdomain Extraction</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3420" onchange="updateProgress()"><label for="c3420">**acme.durj.com → subdomain &quot;acme&quot;**</label></li>
                        <li><input type="checkbox" id="c3421" onchange="updateProgress()"><label for="c3421">Extracts subdomain correctly</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Reserved Subdomain Check</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3422" onchange="updateProgress()"><label for="c3422">**www → identified as reserved**</label></li>
                        <li><input type="checkbox" id="c3423" onchange="updateProgress()"><label for="c3423">Case-insensitive: WWW → reserved</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Nested Subdomains</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3424" onchange="updateProgress()"><label for="c3424">**team.acme.durj.com → takes first part &quot;team&quot;**</label></li>
                        <li><input type="checkbox" id="c3425" onchange="updateProgress()"><label for="c3425">Handles nested subdomains</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Localhost Development</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3426" onchange="updateProgress()"><label for="c3426">**acme.localhost:3000 → subdomain &quot;acme&quot;**</label></li>
                        <li><input type="checkbox" id="c3427" onchange="updateProgress()"><label for="c3427">Supports localhost development format</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Empty/Invalid Subdomain</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3428" onchange="updateProgress()"><label for="c3428">**Empty subdomain → returns null**</label></li>
                        <li><input type="checkbox" id="c3429" onchange="updateProgress()"><label for="c3429">**Reserved subdomain → returns null**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Valid Subdomain</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3430" onchange="updateProgress()"><label for="c3430">Returns tenant info: id, slug, name, subscriptionTier</label></li>
                        <li><input type="checkbox" id="c3431" onchange="updateProgress()"><label for="c3431">Normalizes to lowercase for lookup</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Non-Existent Organization</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3432" onchange="updateProgress()"><label for="c3432">**Non-existent slug → returns null**</label></li>
                        <li><input type="checkbox" id="c3433" onchange="updateProgress()"><label for="c3433">No organization found for subdomain</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Character Handling</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3434" onchange="updateProgress()"><label for="c3434">Converts to lowercase</label></li>
                        <li><input type="checkbox" id="c3435" onchange="updateProgress()"><label for="c3435">Removes spaces</label></li>
                        <li><input type="checkbox" id="c3436" onchange="updateProgress()"><label for="c3436">Removes special characters (&amp; ! @ # etc.)</label></li>
                        <li><input type="checkbox" id="c3437" onchange="updateProgress()"><label for="c3437">Removes hyphens and underscores</label></li>
                        <li><input type="checkbox" id="c3438" onchange="updateProgress()"><label for="c3438">Only alphanumeric characters remain</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Length Limits</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3439" onchange="updateProgress()"><label for="c3439">**Max 63 characters** (subdomain limit)</label></li>
                        <li><input type="checkbox" id="c3440" onchange="updateProgress()"><label for="c3440">Trims whitespace</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Edge Cases</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3441" onchange="updateProgress()"><label for="c3441">Empty string → empty slug</label></li>
                        <li><input type="checkbox" id="c3442" onchange="updateProgress()"><label for="c3442">Numbers preserved (Company 123 → company123)</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Length Requirements</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3443" onchange="updateProgress()"><label for="c3443">**Empty slug → rejected**</label></li>
                        <li><input type="checkbox" id="c3444" onchange="updateProgress()"><label for="c3444">**&lt; 3 characters → rejected**</label></li>
                        <li><input type="checkbox" id="c3445" onchange="updateProgress()"><label for="c3445">**&gt; 63 characters → rejected**</label></li>
                        <li><input type="checkbox" id="c3446" onchange="updateProgress()"><label for="c3446">3 characters → accepted</label></li>
                        <li><input type="checkbox" id="c3447" onchange="updateProgress()"><label for="c3447">63 characters → accepted</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Character Requirements</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3448" onchange="updateProgress()"><label for="c3448">**Uppercase letters → rejected**</label></li>
                        <li><input type="checkbox" id="c3449" onchange="updateProgress()"><label for="c3449">**Special characters → rejected** (acme-corp fails)</label></li>
                        <li><input type="checkbox" id="c3450" onchange="updateProgress()"><label for="c3450">Lowercase alphanumeric only → accepted</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Reserved Check</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3451" onchange="updateProgress()"><label for="c3451">**Reserved subdomains → rejected**</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Validation First</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3452" onchange="updateProgress()"><label for="c3452">Invalid slug → not available</label></li>
                        <li><input type="checkbox" id="c3453" onchange="updateProgress()"><label for="c3453">Reserved slug → not available</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Database Check</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3454" onchange="updateProgress()"><label for="c3454">Existing slug → not available</label></li>
                        <li><input type="checkbox" id="c3455" onchange="updateProgress()"><label for="c3455">Unused slug → available</label></li>
                        <li><input type="checkbox" id="c3456" onchange="updateProgress()"><label for="c3456">Normalizes to lowercase for lookup</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Base Slug Available</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3457" onchange="updateProgress()"><label for="c3457">Returns base slug if available</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Collision Handling</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3458" onchange="updateProgress()"><label for="c3458">**Taken slug → appends -1, -2, etc.**</label></li>
                        <li><input type="checkbox" id="c3459" onchange="updateProgress()"><label for="c3459">Increments until available</label></li>
                        <li><input type="checkbox" id="c3460" onchange="updateProgress()"><label for="c3460">**After 100 attempts → uses timestamp fallback**</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Production URLs</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3461" onchange="updateProgress()"><label for="c3461">**https://acme.durj.com** format</label></li>
                        <li><input type="checkbox" id="c3462" onchange="updateProgress()"><label for="c3462">Uses HTTPS in production</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Development URLs</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3463" onchange="updateProgress()"><label for="c3463">**http://acme.localhost:3000** format</label></li>
                        <li><input type="checkbox" id="c3464" onchange="updateProgress()"><label for="c3464">Uses HTTP in development</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Main App URL</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3465" onchange="updateProgress()"><label for="c3465">Production: https://durj.com</label></li>
                        <li><input type="checkbox" id="c3466" onchange="updateProgress()"><label for="c3466">Development: http://localhost:3000</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Subdomain Hijacking Prevention</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3467" onchange="updateProgress()"><label for="c3467">All infrastructure subdomains reserved</label></li>
                        <li><input type="checkbox" id="c3468" onchange="updateProgress()"><label for="c3468">All authentication subdomains reserved</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>SQL Injection Prevention</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3469" onchange="updateProgress()"><label for="c3469">**Malicious slug rejected** ('; DROP TABLE...)</label></li>
                        <li><input type="checkbox" id="c3470" onchange="updateProgress()"><label for="c3470">Only alphanumeric characters allowed</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Path Traversal Prevention</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3471" onchange="updateProgress()"><label for="c3471">**../admin rejected** (contains special chars)</label></li>
                        <li><input type="checkbox" id="c3472" onchange="updateProgress()"><label for="c3472">All special characters blocked</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Enumeration Protection</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3473" onchange="updateProgress()"><label for="c3473">Non-existent orgs return null (no info leak)</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-7" data-section="7">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 7</span>
                    <h3>ROLE-BASED ACCESS CONTROL (RBAC)</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">51</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Key Files:</strong> <code>tests/unit/multi-tenant/feature-flags.test.ts</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>3.1 Team Member Roles</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c170" onchange="updateProgress()"><label for="c170">ADMIN can access all admin routes</label></li>
                        <li><input type="checkbox" id="c171" onchange="updateProgress()"><label for="c171">ADMIN can manage users</label></li>
                        <li><input type="checkbox" id="c172" onchange="updateProgress()"><label for="c172">ADMIN can manage settings</label></li>
                        <li><input type="checkbox" id="c173" onchange="updateProgress()"><label for="c173">ADMIN can view all data</label></li>
                        <li><input type="checkbox" id="c174" onchange="updateProgress()"><label for="c174">MEMBER cannot access admin-only routes</label></li>
                        <li><input type="checkbox" id="c175" onchange="updateProgress()"><label for="c175">MEMBER can only see own profile</label></li>
                        <li><input type="checkbox" id="c176" onchange="updateProgress()"><label for="c176">MEMBER can only see own leave requests</label></li>
                        <li><input type="checkbox" id="c177" onchange="updateProgress()"><label for="c177">MEMBER can only see own payslips</label></li>
                        <li><input type="checkbox" id="c178" onchange="updateProgress()"><label for="c178">MEMBER can request assets (not assign)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>3.2 Organization Roles</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c179" onchange="updateProgress()"><label for="c179">OWNER can access billing settings</label></li>
                        <li><input type="checkbox" id="c180" onchange="updateProgress()"><label for="c180">OWNER can transfer ownership</label></li>
                        <li><input type="checkbox" id="c181" onchange="updateProgress()"><label for="c181">OWNER can delete organization</label></li>
                        <li><input type="checkbox" id="c182" onchange="updateProgress()"><label for="c182">ADMIN can manage team members</label></li>
                        <li><input type="checkbox" id="c183" onchange="updateProgress()"><label for="c183">ADMIN cannot access billing (OWNER only)</label></li>
                        <li><input type="checkbox" id="c184" onchange="updateProgress()"><label for="c184">MANAGER can approve requests</label></li>
                        <li><input type="checkbox" id="c185" onchange="updateProgress()"><label for="c185">MANAGER cannot manage users</label></li>
                        <li><input type="checkbox" id="c186" onchange="updateProgress()"><label for="c186">MEMBER has basic self-service access</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>3.3 Approval Roles</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c187" onchange="updateProgress()"><label for="c187">MANAGER can approve first-level requests</label></li>
                        <li><input type="checkbox" id="c188" onchange="updateProgress()"><label for="c188">HR_MANAGER can approve leave requests</label></li>
                        <li><input type="checkbox" id="c189" onchange="updateProgress()"><label for="c189">FINANCE_MANAGER can approve purchase requests</label></li>
                        <li><input type="checkbox" id="c190" onchange="updateProgress()"><label for="c190">DIRECTOR can approve high-value requests</label></li>
                        <li><input type="checkbox" id="c191" onchange="updateProgress()"><label for="c191">Non-approvers cannot access approval endpoints</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>3.4 Module Access Control</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c192" onchange="updateProgress()"><label for="c192">Disabled modules return 403 on access</label></li>
                        <li><input type="checkbox" id="c193" onchange="updateProgress()"><label for="c193">Disabled modules hide navigation items</label></li>
                        <li><input type="checkbox" id="c194" onchange="updateProgress()"><label for="c194">Module can be enabled by admin</label></li>
                        <li><input type="checkbox" id="c195" onchange="updateProgress()"><label for="c195">Module can be disabled by admin</label></li>
                        <li><input type="checkbox" id="c196" onchange="updateProgress()"><label for="c196">Core modules cannot be uninstalled</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Tier Configuration</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c197" onchange="updateProgress()"><label for="c197">**FREE tier:**</label></li>
                        <li><input type="checkbox" id="c198" onchange="updateProgress()"><label for="c198">**PLUS tier:**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Module Access Functions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c199" onchange="updateProgress()"><label for="c199">`hasModuleAccess()` always returns true (restrictions disabled)</label></li>
                        <li><input type="checkbox" id="c200" onchange="updateProgress()"><label for="c200">All tiers have same module access (no tier-based restrictions)</label></li>
                        <li><input type="checkbox" id="c201" onchange="updateProgress()"><label for="c201">Unknown modules return true (lenient behavior)</label></li>
                        <li><input type="checkbox" id="c202" onchange="updateProgress()"><label for="c202">Modules: assets, subscriptions, suppliers, leave, payroll, purchase-requests, documents</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Feature Access Functions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c203" onchange="updateProgress()"><label for="c203">`hasFeatureAccess()` always returns true (restrictions disabled)</label></li>
                        <li><input type="checkbox" id="c204" onchange="updateProgress()"><label for="c204">Features: basic_reports, advanced_reports, in_app_notifications, email_notifications, whatsapp_notifications, api_access, google_sso, microsoft_sso, custom_branding, subdomain</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Tier Configuration Lookup</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c205" onchange="updateProgress()"><label for="c205">`getTierConfig('FREE')` returns FREE config</label></li>
                        <li><input type="checkbox" id="c206" onchange="updateProgress()"><label for="c206">`getTierConfig('PLUS')` returns PLUS config</label></li>
                        <li><input type="checkbox" id="c207" onchange="updateProgress()"><label for="c207">`getTierConfig('UNKNOWN')` fallbacks to FREE config</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Upgrade Requirement Functions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c208" onchange="updateProgress()"><label for="c208">`needsUpgradeForModule()` always returns null (no upgrade needed)</label></li>
                        <li><input type="checkbox" id="c209" onchange="updateProgress()"><label for="c209">`needsUpgradeForFeature()` always returns null (no upgrade needed)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Module Metadata</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c210" onchange="updateProgress()"><label for="c210">Each module has: name, description, icon</label></li>
                        <li><input type="checkbox" id="c211" onchange="updateProgress()"><label for="c211">Assets: &quot;Asset Management&quot;, icon &quot;Package&quot;</label></li>
                        <li><input type="checkbox" id="c212" onchange="updateProgress()"><label for="c212">Subscriptions: &quot;Subscription Tracking&quot;, icon &quot;CreditCard&quot;</label></li>
                        <li><input type="checkbox" id="c213" onchange="updateProgress()"><label for="c213">Suppliers: &quot;Supplier Management&quot;, icon &quot;Truck&quot;</label></li>
                        <li><input type="checkbox" id="c214" onchange="updateProgress()"><label for="c214">Leave: &quot;Leave Management&quot;, icon &quot;Calendar&quot;</label></li>
                        <li><input type="checkbox" id="c215" onchange="updateProgress()"><label for="c215">Payroll: &quot;Payroll Processing&quot;, icon &quot;DollarSign&quot;</label></li>
                        <li><input type="checkbox" id="c216" onchange="updateProgress()"><label for="c216">Purchase Requests: &quot;Purchase Requests&quot;, icon &quot;ShoppingCart&quot;</label></li>
                        <li><input type="checkbox" id="c217" onchange="updateProgress()"><label for="c217">Documents: &quot;Company Documents&quot;, icon &quot;FileCheck&quot;</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Module Naming Convention</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c218" onchange="updateProgress()"><label for="c218">Multi-word modules use hyphens: &quot;purchase-requests&quot;</label></li>
                        <li><input type="checkbox" id="c219" onchange="updateProgress()"><label for="c219">No spaces in module names</label></li>
                        <li><input type="checkbox" id="c220" onchange="updateProgress()"><label for="c220">Pattern: `^[a-z-]+$`</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-8" data-section="8">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 8</span>
                    <h3>CSRF PROTECTION</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">46</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Key Files:</strong> <code>tests/unit/security/csrf.test.ts tests/unit/security/csrf.test.ts tests/unit/security/headers.test.ts</code></div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Origin Header Validation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1474" onchange="updateProgress()"><label for="c1474">Same-origin requests (no Origin header): valid</label></li>
                        <li><input type="checkbox" id="c1475" onchange="updateProgress()"><label for="c1475">Valid Referer from same domain: valid</label></li>
                        <li><input type="checkbox" id="c1476" onchange="updateProgress()"><label for="c1476">Valid Referer from subdomain (*.example.com): valid</label></li>
                        <li><input type="checkbox" id="c1477" onchange="updateProgress()"><label for="c1477">Localhost in development: valid</label></li>
                        <li><input type="checkbox" id="c1478" onchange="updateProgress()"><label for="c1478">**Cross-origin from unknown domain: rejected**</label></li>
                        <li><input type="checkbox" id="c1479" onchange="updateProgress()"><label for="c1479">**Invalid Origin URL: rejected**</label></li>
                        <li><input type="checkbox" id="c1480" onchange="updateProgress()"><label for="c1480">No token required for valid Origin</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Token Generation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1481" onchange="updateProgress()"><label for="c1481">**64-character hex token** (32 bytes)</label></li>
                        <li><input type="checkbox" id="c1482" onchange="updateProgress()"><label for="c1482">Unique tokens generated each time</label></li>
                        <li><input type="checkbox" id="c1483" onchange="updateProgress()"><label for="c1483">HMAC-SHA256 signing using NEXTAUTH_SECRET</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Token Format</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1484" onchange="updateProgress()"><label for="c1484">Format: `{token}.{signature}`</label></li>
                        <li><input type="checkbox" id="c1485" onchange="updateProgress()"><label for="c1485">Signed token contains dot separator</label></li>
                        <li><input type="checkbox" id="c1486" onchange="updateProgress()"><label for="c1486">Invalid signature: rejected</label></li>
                        <li><input type="checkbox" id="c1487" onchange="updateProgress()"><label for="c1487">Token without signature: rejected</label></li>
                        <li><input type="checkbox" id="c1488" onchange="updateProgress()"><label for="c1488">Empty token: rejected</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Cookie Settings</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1489" onchange="updateProgress()"><label for="c1489">Cookie name: `__Host-csrf-token` (secure prefix)</label></li>
                        <li><input type="checkbox" id="c1490" onchange="updateProgress()"><label for="c1490">**HttpOnly: true** (prevents JS access)</label></li>
                        <li><input type="checkbox" id="c1491" onchange="updateProgress()"><label for="c1491">**SameSite: strict** (prevents CSRF from other sites)</label></li>
                        <li><input type="checkbox" id="c1492" onchange="updateProgress()"><label for="c1492">**Secure: true in production** (HTTPS only)</label></li>
                        <li><input type="checkbox" id="c1493" onchange="updateProgress()"><label for="c1493">Secure: false in development (allows HTTP)</label></li>
                        <li><input type="checkbox" id="c1494" onchange="updateProgress()"><label for="c1494">Path: /</label></li>
                        <li><input type="checkbox" id="c1495" onchange="updateProgress()"><label for="c1495">Max-Age: 86400 (24 hours)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Request Protection</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1496" onchange="updateProgress()"><label for="c1496">Safe methods skip CSRF: GET, HEAD, OPTIONS</label></li>
                        <li><input type="checkbox" id="c1497" onchange="updateProgress()"><label for="c1497">**Protected methods: POST, PUT, PATCH, DELETE**</label></li>
                        <li><input type="checkbox" id="c1498" onchange="updateProgress()"><label for="c1498">Only protects /api/ routes</label></li>
                        <li><input type="checkbox" id="c1499" onchange="updateProgress()"><label for="c1499">**Excluded: /api/auth/** (NextAuth handles)</label></li>
                        <li><input type="checkbox" id="c1500" onchange="updateProgress()"><label for="c1500">**Excluded: /api/webhooks/** (signature-verified)</label></li>
                        <li><input type="checkbox" id="c1501" onchange="updateProgress()"><label for="c1501">Invalid CSRF returns 403</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Token Management</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1502" onchange="updateProgress()"><label for="c1502">Existing valid token reused from cookie</label></li>
                        <li><input type="checkbox" id="c1503" onchange="updateProgress()"><label for="c1503">New token generated if cookie missing</label></li>
                        <li><input type="checkbox" id="c1504" onchange="updateProgress()"><label for="c1504">Token rotation optional</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Required Security Headers</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1505" onchange="updateProgress()"><label for="c1505">**X-Frame-Options: DENY** - Prevents clickjacking</label></li>
                        <li><input type="checkbox" id="c1506" onchange="updateProgress()"><label for="c1506">**X-Content-Type-Options: nosniff** - Prevents MIME type sniffing</label></li>
                        <li><input type="checkbox" id="c1507" onchange="updateProgress()"><label for="c1507">**X-XSS-Protection: 1; mode=block** - Browser XSS filter</label></li>
                        <li><input type="checkbox" id="c1508" onchange="updateProgress()"><label for="c1508">**Referrer-Policy: strict-origin-when-cross-origin**</label></li>
                        <li><input type="checkbox" id="c1509" onchange="updateProgress()"><label for="c1509">**X-Download-Options: noopen** - Prevents auto file execution</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Strict-Transport-Security (HSTS)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1510" onchange="updateProgress()"><label for="c1510">**Production:** `max-age=31536000; includeSubDomains` (1 year)</label></li>
                        <li><input type="checkbox" id="c1511" onchange="updateProgress()"><label for="c1511">**Development:** HSTS header NOT added</label></li>
                        <li><input type="checkbox" id="c1512" onchange="updateProgress()"><label for="c1512">includeSubDomains protects all subdomains</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Content-Security-Policy (CSP)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1513" onchange="updateProgress()"><label for="c1513">**Production:** Strict CSP (`script-src 'self'`, no unsafe-eval)</label></li>
                        <li><input type="checkbox" id="c1514" onchange="updateProgress()"><label for="c1514">**Development:** Relaxed CSP (`'unsafe-inline'`, `'unsafe-eval'` for dev tools)</label></li>
                        <li><input type="checkbox" id="c1515" onchange="updateProgress()"><label for="c1515">`default-src 'self'` baseline policy</label></li>
                        <li><input type="checkbox" id="c1516" onchange="updateProgress()"><label for="c1516">`img-src` allows HTTPS and data URIs</label></li>
                        <li><input type="checkbox" id="c1517" onchange="updateProgress()"><label for="c1517">`font-src` allows data URIs</label></li>
                        <li><input type="checkbox" id="c1518" onchange="updateProgress()"><label for="c1518">Blob URLs allowed for file handling</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>OWASP Top 10 Coverage</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c1519" onchange="updateProgress()"><label for="c1519">All 6 recommended headers present in production:</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-9" data-section="9">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 9</span>
                    <h3>CSRF PROTECTION DETAILS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">37</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Key Files:</strong> <code>tests/unit/security/csrf.test.ts src/lib/security/csrf.ts</code></div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Token Format</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3626" onchange="updateProgress()"><label for="c3626">**64-character hex token** (32 bytes)</label></li>
                        <li><input type="checkbox" id="c3627" onchange="updateProgress()"><label for="c3627">Uses cryptographically secure random bytes</label></li>
                        <li><input type="checkbox" id="c3628" onchange="updateProgress()"><label for="c3628">**Unique tokens per call**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Signing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3629" onchange="updateProgress()"><label for="c3629">**HMAC-SHA256 for signing**</label></li>
                        <li><input type="checkbox" id="c3630" onchange="updateProgress()"><label for="c3630">Format: token.signature</label></li>
                        <li><input type="checkbox" id="c3631" onchange="updateProgress()"><label for="c3631">Signature appended to token</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Valid Tokens</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3632" onchange="updateProgress()"><label for="c3632">Valid signed token → true</label></li>
                        <li><input type="checkbox" id="c3633" onchange="updateProgress()"><label for="c3633">Recreates signature to verify</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Invalid Tokens</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3634" onchange="updateProgress()"><label for="c3634">**Token without signature (no dot) → false**</label></li>
                        <li><input type="checkbox" id="c3635" onchange="updateProgress()"><label for="c3635">**Empty token → false**</label></li>
                        <li><input type="checkbox" id="c3636" onchange="updateProgress()"><label for="c3636">**Invalid signature → false**</label></li>
                        <li><input type="checkbox" id="c3637" onchange="updateProgress()"><label for="c3637">Signature must match expected</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Security Options</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3638" onchange="updateProgress()"><label for="c3638">**httpOnly: true** (no JavaScript access)</label></li>
                        <li><input type="checkbox" id="c3639" onchange="updateProgress()"><label for="c3639">**sameSite: strict** (CSRF prevention)</label></li>
                        <li><input type="checkbox" id="c3640" onchange="updateProgress()"><label for="c3640">**maxAge: 86400** (24 hours)</label></li>
                        <li><input type="checkbox" id="c3641" onchange="updateProgress()"><label for="c3641">**path: /** (all routes)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Environment-Aware</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3642" onchange="updateProgress()"><label for="c3642">**secure: true in production**</label></li>
                        <li><input type="checkbox" id="c3643" onchange="updateProgress()"><label for="c3643">**secure: false in development**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Cookie Prefix</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3644" onchange="updateProgress()"><label for="c3644">**__Host-csrf-token** (secure cookie binding)</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Same-Origin Requests</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3645" onchange="updateProgress()"><label for="c3645">**No origin header → same-origin → valid**</label></li>
                        <li><input type="checkbox" id="c3646" onchange="updateProgress()"><label for="c3646">**No referer header → same-origin → valid**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Valid Referer</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3647" onchange="updateProgress()"><label for="c3647">**Same domain → valid**</label></li>
                        <li><input type="checkbox" id="c3648" onchange="updateProgress()"><label for="c3648">**Subdomain → valid** (tenant.example.com)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Localhost Development</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3649" onchange="updateProgress()"><label for="c3649">**localhost:3000 → valid in dev mode**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Cross-Origin Rejection</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3650" onchange="updateProgress()"><label for="c3650">**Unknown domain → rejected**</label></li>
                        <li><input type="checkbox" id="c3651" onchange="updateProgress()"><label for="c3651">**Invalid URL → rejected**</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>Safe Methods (Skipped)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3652" onchange="updateProgress()"><label for="c3652">**GET → no CSRF check**</label></li>
                        <li><input type="checkbox" id="c3653" onchange="updateProgress()"><label for="c3653">**HEAD → no CSRF check**</label></li>
                        <li><input type="checkbox" id="c3654" onchange="updateProgress()"><label for="c3654">**OPTIONS → no CSRF check**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Protected Methods</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3655" onchange="updateProgress()"><label for="c3655">POST, PUT, PATCH, DELETE require CSRF</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Route Exclusions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3656" onchange="updateProgress()"><label for="c3656">**Non-API routes → skipped**</label></li>
                        <li><input type="checkbox" id="c3657" onchange="updateProgress()"><label for="c3657">**/api/auth/* → skipped** (auth callbacks)</label></li>
                        <li><input type="checkbox" id="c3658" onchange="updateProgress()"><label for="c3658">**/api/webhooks/* → skipped** (external webhooks)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>Failure Response</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3659" onchange="updateProgress()"><label for="c3659">**Invalid CSRF → 403 Forbidden**</label></li>
                    </ul>
                </div>


                <div class="subsection">
                    <div class="subsection-header">
                        <span>From Cookie</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3660" onchange="updateProgress()"><label for="c3660">Existing valid token reused</label></li>
                        <li><input type="checkbox" id="c3661" onchange="updateProgress()"><label for="c3661">Extracts unsigned token from signed value</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>New Token Generation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c3662" onchange="updateProgress()"><label for="c3662">**Missing cookie → new token generated**</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-11" data-section="11">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 11</span>
                    <h3>IMPERSONATION SECURITY</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">31</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Key Files:</strong> <code>tests/unit/security/impersonation.test.ts src/lib/security/impersonation.ts</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.1 JTI (JWT ID) Generation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c2211" onchange="updateProgress()"><label for="c2211">**Prefix:** &quot;imp_&quot; for all impersonation tokens</label></li>
                        <li><input type="checkbox" id="c2212" onchange="updateProgress()"><label for="c2212">Uses 16 random bytes (32 hex characters)</label></li>
                        <li><input type="checkbox" id="c2213" onchange="updateProgress()"><label for="c2213">Format: imp_[32-char-hex]</label></li>
                        <li><input type="checkbox" id="c2214" onchange="updateProgress()"><label for="c2214">Cryptographically secure (crypto.randomBytes)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.2 Token Revocation Check (isTokenRevoked)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c2215" onchange="updateProgress()"><label for="c2215">**Empty JTI → false** (doesn't query DB)</label></li>
                        <li><input type="checkbox" id="c2216" onchange="updateProgress()"><label for="c2216">Token not in revocation list → false</label></li>
                        <li><input type="checkbox" id="c2217" onchange="updateProgress()"><label for="c2217">Token in revocation list → true</label></li>
                        <li><input type="checkbox" id="c2218" onchange="updateProgress()"><label for="c2218">**Database error → true (fail-safe)**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.3 Revoke Token</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c2219" onchange="updateProgress()"><label for="c2219">Upserts revocation record</label></li>
                        <li><input type="checkbox" id="c2220" onchange="updateProgress()"><label for="c2220">Records: jti, revokedBy, reason, superAdminId</label></li>
                        <li><input type="checkbox" id="c2221" onchange="updateProgress()"><label for="c2221">Records: organizationId, organizationSlug</label></li>
                        <li><input type="checkbox" id="c2222" onchange="updateProgress()"><label for="c2222">Records: issuedAt, expiresAt</label></li>
                        <li><input type="checkbox" id="c2223" onchange="updateProgress()"><label for="c2223">Reason optional (can be undefined)</label></li>
                        <li><input type="checkbox" id="c2224" onchange="updateProgress()"><label for="c2224">Updates revokedAt timestamp on re-revocation</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.4 Revoke All Tokens for Super Admin</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c2225" onchange="updateProgress()"><label for="c2225">Logs audit action when organizationId provided</label></li>
                        <li><input type="checkbox" id="c2226" onchange="updateProgress()"><label for="c2226">**Skips audit when organizationId not provided**</label></li>
                        <li><input type="checkbox" id="c2227" onchange="updateProgress()"><label for="c2227">Audit includes: superAdminId, revokedBy, reason, timestamp</label></li>
                        <li><input type="checkbox" id="c2228" onchange="updateProgress()"><label for="c2228">Returns count of revoked tokens</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.5 Cleanup Expired Revocations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c2229" onchange="updateProgress()"><label for="c2229">Deletes records where expiresAt &lt; now</label></li>
                        <li><input type="checkbox" id="c2230" onchange="updateProgress()"><label for="c2230">Returns count of deleted records</label></li>
                        <li><input type="checkbox" id="c2231" onchange="updateProgress()"><label for="c2231">Returns 0 when nothing to clean</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.6 Impersonation History</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c2232" onchange="updateProgress()"><label for="c2232">Returns history for specific super admin</label></li>
                        <li><input type="checkbox" id="c2233" onchange="updateProgress()"><label for="c2233">Default limit: 20 records</label></li>
                        <li><input type="checkbox" id="c2234" onchange="updateProgress()"><label for="c2234">Custom limit supported</label></li>
                        <li><input type="checkbox" id="c2235" onchange="updateProgress()"><label for="c2235">Ordered by revokedAt descending (newest first)</label></li>
                        <li><input type="checkbox" id="c2236" onchange="updateProgress()"><label for="c2236">Returns: id, organizationId, organizationSlug, issuedAt, expiresAt, revokedAt, reason</label></li>
                        <li><input type="checkbox" id="c2237" onchange="updateProgress()"><label for="c2237">**Empty array when no history**</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.7 Security Considerations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="c2238" onchange="updateProgress()"><label for="c2238">**Recognizable prefix** (imp_) for log identification</label></li>
                        <li><input type="checkbox" id="c2239" onchange="updateProgress()"><label for="c2239">**Fail-safe:** Block access when database unavailable</label></li>
                        <li><input type="checkbox" id="c2240" onchange="updateProgress()"><label for="c2240">**Audit trail:** Records who revoked, why, and for which org</label></li>
                        <li><input type="checkbox" id="c2241" onchange="updateProgress()"><label for="c2241">**Cleanup:** Prevents database bloat from expired tokens</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-12" data-section="12">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 12</span>
                    <h3>ASSETS - LIST PAGE</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">50</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Page:</strong> <code>/admin/assets</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>12.1 Page Load &amp; Stats</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca1" onchange="updateProgress()"><label for="ca1">Go to Admin menu → Assets</label></li>
                        <li><input type="checkbox" id="ca2" onchange="updateProgress()"><label for="ca2">Verify page shows "Assets" title and "Manage company assets" subtitle</label></li>
                        <li><input type="checkbox" id="ca3" onchange="updateProgress()"><label for="ca3">Verify stat chips display: total assets count, assigned count, total value (QAR)</label></li>
                        <li><input type="checkbox" id="ca4" onchange="updateProgress()"><label for="ca4">Verify "pending requests" chip only shows when requests exist</label></li>
                        <li><input type="checkbox" id="ca5" onchange="updateProgress()"><label for="ca5">Verify "Add Asset" button is visible (primary style)</label></li>
                        <li><input type="checkbox" id="ca6" onchange="updateProgress()"><label for="ca6">Verify "Requests" button is visible with badge count</label></li>
                        <li><input type="checkbox" id="ca7" onchange="updateProgress()"><label for="ca7">Verify "Trash" button only appears when deleted assets exist</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>12.2 Asset Table Display</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca8" onchange="updateProgress()"><label for="ca8">Verify table shows columns: Asset Tag, Model, Type/Category, Status, Assigned To</label></li>
                        <li><input type="checkbox" id="ca9" onchange="updateProgress()"><label for="ca9">Verify each row shows asset data correctly</label></li>
                        <li><input type="checkbox" id="ca10" onchange="updateProgress()"><label for="ca10">Verify status badges show correct colors (IN_USE=blue, SPARE=gray, MAINTENANCE=amber, DISPOSED=slate)</label></li>
                        <li><input type="checkbox" id="ca11" onchange="updateProgress()"><label for="ca11">Verify assigned member name appears for assigned assets</label></li>
                        <li><input type="checkbox" id="ca12" onchange="updateProgress()"><label for="ca12">Verify "Unassigned" shows for unassigned assets</label></li>
                        <li><input type="checkbox" id="ca13" onchange="updateProgress()"><label for="ca13">Click any row → verify navigates to asset detail page</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>12.3 Search Functionality</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca14" onchange="updateProgress()"><label for="ca14">Type in search box → verify results filter in real-time</label></li>
                        <li><input type="checkbox" id="ca15" onchange="updateProgress()"><label for="ca15">Search by asset tag → verify matching assets appear</label></li>
                        <li><input type="checkbox" id="ca16" onchange="updateProgress()"><label for="ca16">Search by model name → verify matching assets appear</label></li>
                        <li><input type="checkbox" id="ca17" onchange="updateProgress()"><label for="ca17">Search by brand → verify matching assets appear</label></li>
                        <li><input type="checkbox" id="ca18" onchange="updateProgress()"><label for="ca18">Search by serial number → verify matching assets appear</label></li>
                        <li><input type="checkbox" id="ca19" onchange="updateProgress()"><label for="ca19">Clear search → verify all assets reappear</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>12.4 Filter &amp; Sort</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca20" onchange="updateProgress()"><label for="ca20">Click Status filter → select "In Use" → verify only IN_USE assets show</label></li>
                        <li><input type="checkbox" id="ca21" onchange="updateProgress()"><label for="ca21">Click Status filter → select "Spare" → verify only SPARE assets show</label></li>
                        <li><input type="checkbox" id="ca22" onchange="updateProgress()"><label for="ca22">Click Category filter → select a category → verify only that category shows</label></li>
                        <li><input type="checkbox" id="ca23" onchange="updateProgress()"><label for="ca23">Click column header to sort → verify order changes</label></li>
                        <li><input type="checkbox" id="ca24" onchange="updateProgress()"><label for="ca24">Click same header again → verify order reverses</label></li>
                        <li><input type="checkbox" id="ca25" onchange="updateProgress()"><label for="ca25">Clear all filters → verify all assets reappear</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>12.5 Pagination</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca26" onchange="updateProgress()"><label for="ca26">If more than 20 assets: verify pagination controls appear</label></li>
                        <li><input type="checkbox" id="ca27" onchange="updateProgress()"><label for="ca27">Click "Next" → verify next page loads</label></li>
                        <li><input type="checkbox" id="ca28" onchange="updateProgress()"><label for="ca28">Click page number → verify that page loads</label></li>
                        <li><input type="checkbox" id="ca29" onchange="updateProgress()"><label for="ca29">Change page size → verify table updates</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>12.6 Empty States</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca254" onchange="updateProgress()"><label for="ca254">With no assets in system: verify empty state message appears (e.g., "No assets yet")</label></li>
                        <li><input type="checkbox" id="ca255" onchange="updateProgress()"><label for="ca255">Verify empty state shows "Add Asset" call-to-action button</label></li>
                        <li><input type="checkbox" id="ca256" onchange="updateProgress()"><label for="ca256">Apply filter that matches no assets → verify "No matching assets" message</label></li>
                        <li><input type="checkbox" id="ca257" onchange="updateProgress()"><label for="ca257">Search for non-existent term → verify "No results found" message</label></li>
                        <li><input type="checkbox" id="ca258" onchange="updateProgress()"><label for="ca258">Verify stat chips show 0 values correctly when no assets exist</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>12.7 Bulk Operations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca259" onchange="updateProgress()"><label for="ca259">If bulk select exists: click "Select All" checkbox → verify all visible rows selected</label></li>
                        <li><input type="checkbox" id="ca260" onchange="updateProgress()"><label for="ca260">Select multiple assets → verify bulk action toolbar appears</label></li>
                        <li><input type="checkbox" id="ca261" onchange="updateProgress()"><label for="ca261">With multiple selected: click "Bulk Delete" → verify confirmation dialog</label></li>
                        <li><input type="checkbox" id="ca262" onchange="updateProgress()"><label for="ca262">Confirm bulk delete → verify all selected assets moved to trash</label></li>
                        <li><input type="checkbox" id="ca263" onchange="updateProgress()"><label for="ca263">Try to bulk delete assigned assets → verify error or warning</label></li>
                        <li><input type="checkbox" id="ca264" onchange="updateProgress()"><label for="ca264">If bulk export exists: select assets → click Export → verify download starts</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>12.8 Keyboard Navigation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca265" onchange="updateProgress()"><label for="ca265">Press Tab repeatedly → verify focus moves through interactive elements in logical order</label></li>
                        <li><input type="checkbox" id="ca266" onchange="updateProgress()"><label for="ca266">Focus on "Add Asset" button → press Enter → verify navigates to create page</label></li>
                        <li><input type="checkbox" id="ca267" onchange="updateProgress()"><label for="ca267">Focus on table row → press Enter → verify navigates to asset detail</label></li>
                        <li><input type="checkbox" id="ca268" onchange="updateProgress()"><label for="ca268">Focus on search box → type query → verify results update without needing mouse</label></li>
                        <li><input type="checkbox" id="ca269" onchange="updateProgress()"><label for="ca269">Press Escape in search box → verify search clears or focus moves appropriately</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>12.9 Mobile/Responsive</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca270" onchange="updateProgress()"><label for="ca270">Resize browser to mobile width (~375px) → verify layout adapts (no horizontal scroll)</label></li>
                        <li><input type="checkbox" id="ca271" onchange="updateProgress()"><label for="ca271">On mobile: verify table columns stack or scroll horizontally with touch</label></li>
                        <li><input type="checkbox" id="ca272" onchange="updateProgress()"><label for="ca272">On mobile: verify "Add Asset" button is easily tappable (adequate size)</label></li>
                        <li><input type="checkbox" id="ca273" onchange="updateProgress()"><label for="ca273">On mobile: tap filter dropdowns → verify they open and are usable</label></li>
                        <li><input type="checkbox" id="ca274" onchange="updateProgress()"><label for="ca274">On mobile: verify stat chips are readable and don't overflow</label></li>
                    </ul>
                </div>

            </div>
        </div>

        <div class="section active" id="section-13" data-section="13">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 13</span>
                    <h3>ASSETS - CREATE &amp; EDIT</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">81</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/assets/new</code>, <code>/admin/assets/[id]/edit</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.1 Create Asset - Navigation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca30" onchange="updateProgress()"><label for="ca30">From Assets list, click "Add Asset" button</label></li>
                        <li><input type="checkbox" id="ca31" onchange="updateProgress()"><label for="ca31">Verify navigates to /admin/assets/new</label></li>
                        <li><input type="checkbox" id="ca32" onchange="updateProgress()"><label for="ca32">Verify breadcrumb shows: Assets > New Asset</label></li>
                        <li><input type="checkbox" id="ca33" onchange="updateProgress()"><label for="ca33">Verify form has sections: Asset Details, Acquisition Details, Status &amp; Assignment, Additional Information</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.2 Create Asset - Required Fields</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca34" onchange="updateProgress()"><label for="ca34">Leave all fields empty → click "Create Asset"</label></li>
                        <li><input type="checkbox" id="ca35" onchange="updateProgress()"><label for="ca35">Verify error appears on "Asset Type" field (required)</label></li>
                        <li><input type="checkbox" id="ca36" onchange="updateProgress()"><label for="ca36">Verify error appears on "Model" field (required)</label></li>
                        <li><input type="checkbox" id="ca37" onchange="updateProgress()"><label for="ca37">Enter Type only → click Create → verify Model error still shows</label></li>
                        <li><input type="checkbox" id="ca38" onchange="updateProgress()"><label for="ca38">Enter both Type and Model → verify form can proceed</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.3 Create Asset - Auto-generated Tag</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca39" onchange="updateProgress()"><label for="ca39">Select a Category from dropdown</label></li>
                        <li><input type="checkbox" id="ca40" onchange="updateProgress()"><label for="ca40">Verify Asset Tag field auto-populates with format: ORG-CAT-YYSEQ</label></li>
                        <li><input type="checkbox" id="ca41" onchange="updateProgress()"><label for="ca41">Manually edit the tag → verify tag changes</label></li>
                        <li><input type="checkbox" id="ca42" onchange="updateProgress()"><label for="ca42">Click refresh icon next to tag → verify tag resets to auto-generated</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.4 Create Asset - Price &amp; Currency</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca43" onchange="updateProgress()"><label for="ca43">Enter a price value (e.g., 1000)</label></li>
                        <li><input type="checkbox" id="ca44" onchange="updateProgress()"><label for="ca44">Select currency (e.g., USD)</label></li>
                        <li><input type="checkbox" id="ca45" onchange="updateProgress()"><label for="ca45">Verify QAR conversion preview appears below the field</label></li>
                        <li><input type="checkbox" id="ca46" onchange="updateProgress()"><label for="ca46">Change currency to QAR → verify conversion preview shows USD equivalent</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.5 Create Asset - Status Logic</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca47" onchange="updateProgress()"><label for="ca47">Select Status = "In Use"</label></li>
                        <li><input type="checkbox" id="ca48" onchange="updateProgress()"><label for="ca48">Verify "Shared resource" checkbox appears</label></li>
                        <li><input type="checkbox" id="ca49" onchange="updateProgress()"><label for="ca49">Verify "Assign to" dropdown appears</label></li>
                        <li><input type="checkbox" id="ca50" onchange="updateProgress()"><label for="ca50">Check "Shared resource" checkbox → verify "Assign to" dropdown hides</label></li>
                        <li><input type="checkbox" id="ca51" onchange="updateProgress()"><label for="ca51">Uncheck "Shared resource" → verify "Assign to" reappears</label></li>
                        <li><input type="checkbox" id="ca52" onchange="updateProgress()"><label for="ca52">Select a user to assign → verify "Assignment Date" field becomes required</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.6 Create Asset - Date Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca53" onchange="updateProgress()"><label for="ca53">Select a Purchase Date</label></li>
                        <li><input type="checkbox" id="ca54" onchange="updateProgress()"><label for="ca54">Verify Warranty Expiry auto-fills to +1 year</label></li>
                        <li><input type="checkbox" id="ca55" onchange="updateProgress()"><label for="ca55">Clear Warranty Expiry → verify it can be empty</label></li>
                        <li><input type="checkbox" id="ca56" onchange="updateProgress()"><label for="ca56">If assigning: try to set Assignment Date before Purchase Date → verify error appears</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.7 Create Asset - Success</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca57" onchange="updateProgress()"><label for="ca57">Fill all required fields (Type, Model)</label></li>
                        <li><input type="checkbox" id="ca58" onchange="updateProgress()"><label for="ca58">Click "Create Asset"</label></li>
                        <li><input type="checkbox" id="ca59" onchange="updateProgress()"><label for="ca59">Verify success toast appears</label></li>
                        <li><input type="checkbox" id="ca60" onchange="updateProgress()"><label for="ca60">Verify redirects to Assets list</label></li>
                        <li><input type="checkbox" id="ca61" onchange="updateProgress()"><label for="ca61">Verify new asset appears in list</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.8 Edit Asset - Navigation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca62" onchange="updateProgress()"><label for="ca62">From Assets list, click an asset row to view detail</label></li>
                        <li><input type="checkbox" id="ca63" onchange="updateProgress()"><label for="ca63">Click "Edit Asset" button</label></li>
                        <li><input type="checkbox" id="ca64" onchange="updateProgress()"><label for="ca64">Verify navigates to /admin/assets/[id]/edit</label></li>
                        <li><input type="checkbox" id="ca65" onchange="updateProgress()"><label for="ca65">Verify form pre-fills with existing asset data</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.9 Edit Asset - Updates</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca66" onchange="updateProgress()"><label for="ca66">Change the Model field</label></li>
                        <li><input type="checkbox" id="ca67" onchange="updateProgress()"><label for="ca67">Click "Save Changes"</label></li>
                        <li><input type="checkbox" id="ca68" onchange="updateProgress()"><label for="ca68">Verify success toast appears</label></li>
                        <li><input type="checkbox" id="ca69" onchange="updateProgress()"><label for="ca69">Verify redirected to asset detail</label></li>
                        <li><input type="checkbox" id="ca70" onchange="updateProgress()"><label for="ca70">Verify changes are reflected</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.10 Field Validations - Price</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca177" onchange="updateProgress()"><label for="ca177">Enter negative price (e.g., -100) → verify error "Price must be positive" or similar</label></li>
                        <li><input type="checkbox" id="ca178" onchange="updateProgress()"><label for="ca178">Enter price = 0 → verify error appears (price must be greater than 0)</label></li>
                        <li><input type="checkbox" id="ca179" onchange="updateProgress()"><label for="ca179">Enter valid positive price (e.g., 1500.50) → verify no error</label></li>
                        <li><input type="checkbox" id="ca180" onchange="updateProgress()"><label for="ca180">Enter non-numeric text in price field → verify field rejects or shows error</label></li>
                        <li><input type="checkbox" id="ca181" onchange="updateProgress()"><label for="ca181">Leave price empty → verify it's accepted (price is optional)</label></li>
                        <li><input type="checkbox" id="ca182" onchange="updateProgress()"><label for="ca182">Enter very large price (e.g., 999999999) → verify it's accepted</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.11 Field Validations - Status &amp; Assignment</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca183" onchange="updateProgress()"><label for="ca183">Select Status = "In Use" WITHOUT selecting an assignee → click Save → verify error "Assignee required for In Use status"</label></li>
                        <li><input type="checkbox" id="ca184" onchange="updateProgress()"><label for="ca184">Select Status = "In Use" + select assignee WITHOUT assignment date → verify error "Assignment date required"</label></li>
                        <li><input type="checkbox" id="ca185" onchange="updateProgress()"><label for="ca185">Select Status = "Spare" → verify no assignee/date fields required</label></li>
                        <li><input type="checkbox" id="ca186" onchange="updateProgress()"><label for="ca186">Select Status = "Maintenance" → verify no assignee/date fields required</label></li>
                        <li><input type="checkbox" id="ca187" onchange="updateProgress()"><label for="ca187">Set Assignment Date in the future → verify it's accepted (future assignments allowed)</label></li>
                        <li><input type="checkbox" id="ca188" onchange="updateProgress()"><label for="ca188">Set Assignment Date before Purchase Date → verify error appears</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.12 Field Validations - Text Fields</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca189" onchange="updateProgress()"><label for="ca189">Enter Type with only spaces → verify error (must have actual content)</label></li>
                        <li><input type="checkbox" id="ca190" onchange="updateProgress()"><label for="ca190">Enter Model with only spaces → verify error (must have actual content)</label></li>
                        <li><input type="checkbox" id="ca191" onchange="updateProgress()"><label for="ca191">Enter very long Type (100+ chars) → verify it's accepted or truncated</label></li>
                        <li><input type="checkbox" id="ca192" onchange="updateProgress()"><label for="ca192">Enter very long Model (100+ chars) → verify it's accepted or truncated</label></li>
                        <li><input type="checkbox" id="ca193" onchange="updateProgress()"><label for="ca193">Enter special characters in Brand field → verify accepted</label></li>
                        <li><input type="checkbox" id="ca194" onchange="updateProgress()"><label for="ca194">Enter Serial Number with spaces and dashes → verify accepted</label></li>
                        <li><input type="checkbox" id="ca195" onchange="updateProgress()"><label for="ca195">Leave all optional fields empty (Brand, Serial, Notes, Supplier) → verify form submits successfully</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.13 Field Validations - Dates</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca196" onchange="updateProgress()"><label for="ca196">Set Purchase Date in the future → verify it's accepted</label></li>
                        <li><input type="checkbox" id="ca197" onchange="updateProgress()"><label for="ca197">Set Warranty Expiry before Purchase Date → verify error or warning</label></li>
                        <li><input type="checkbox" id="ca198" onchange="updateProgress()"><label for="ca198">Clear Purchase Date after setting it → verify it can be cleared</label></li>
                        <li><input type="checkbox" id="ca199" onchange="updateProgress()"><label for="ca199">Set Purchase Date very far in past (e.g., 1990) → verify accepted</label></li>
                        <li><input type="checkbox" id="ca200" onchange="updateProgress()"><label for="ca200">Enter invalid date format manually (if allowed) → verify error handling</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.14 Field Validations - Category &amp; Tag</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca201" onchange="updateProgress()"><label for="ca201">Create asset without selecting Category → verify Asset Tag can still be manually entered</label></li>
                        <li><input type="checkbox" id="ca202" onchange="updateProgress()"><label for="ca202">Enter duplicate Asset Tag (same as existing asset) → verify error "Asset tag already exists"</label></li>
                        <li><input type="checkbox" id="ca203" onchange="updateProgress()"><label for="ca203">Enter Asset Tag with lowercase letters → verify it's auto-uppercased or accepted</label></li>
                        <li><input type="checkbox" id="ca204" onchange="updateProgress()"><label for="ca204">Enter Asset Tag with special characters → verify handling (rejected or sanitized)</label></li>
                        <li><input type="checkbox" id="ca205" onchange="updateProgress()"><label for="ca205">Leave Asset Tag empty with Category selected → verify auto-generation works</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.15 Error Recovery</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca275" onchange="updateProgress()"><label for="ca275">Fill form partially → disconnect network → click Save → verify error message appears</label></li>
                        <li><input type="checkbox" id="ca276" onchange="updateProgress()"><label for="ca276">After network error: verify form data is NOT lost (still filled in)</label></li>
                        <li><input type="checkbox" id="ca277" onchange="updateProgress()"><label for="ca277">Reconnect network → click Save again → verify save succeeds</label></li>
                        <li><input type="checkbox" id="ca278" onchange="updateProgress()"><label for="ca278">Fill form → click browser Back button → verify confirmation dialog appears (unsaved changes)</label></li>
                        <li><input type="checkbox" id="ca279" onchange="updateProgress()"><label for="ca279">After server error (500): verify user-friendly error message, not technical details</label></li>
                        <li><input type="checkbox" id="ca280" onchange="updateProgress()"><label for="ca280">If session expires during edit: verify redirect to login with return URL preserved</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>13.16 Permission Testing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca281" onchange="updateProgress()"><label for="ca281">Login as MEMBER role → navigate to /admin/assets/new → verify access denied or redirect</label></li>
                        <li><input type="checkbox" id="ca282" onchange="updateProgress()"><label for="ca282">Login as MANAGER role → verify can create assets</label></li>
                        <li><input type="checkbox" id="ca283" onchange="updateProgress()"><label for="ca283">Login as ADMIN role → verify can create and edit all assets</label></li>
                        <li><input type="checkbox" id="ca284" onchange="updateProgress()"><label for="ca284">As MANAGER: try to edit asset created by ADMIN → verify behavior (allowed or denied)</label></li>
                        <li><input type="checkbox" id="ca285" onchange="updateProgress()"><label for="ca285">As non-admin: verify certain fields may be read-only (e.g., depreciation settings)</label></li>
                    </ul>
                </div>

            </div>
        </div>

        <div class="section active" id="section-14" data-section="14">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 14</span>
                    <h3>ASSETS - DETAIL &amp; ACTIONS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">109</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Page:</strong> <code>/admin/assets/[id]</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.1 Detail Page - Navigation &amp; Layout</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca71" onchange="updateProgress()"><label for="ca71">From Assets list, click any asset row</label></li>
                        <li><input type="checkbox" id="ca72" onchange="updateProgress()"><label for="ca72">Verify page shows asset model as title</label></li>
                        <li><input type="checkbox" id="ca73" onchange="updateProgress()"><label for="ca73">Verify breadcrumb shows: Assets > [Model Name]</label></li>
                        <li><input type="checkbox" id="ca74" onchange="updateProgress()"><label for="ca74">Verify page has cards: Basic Information, Financial &amp; Procurement, Assignment, Status, System Info</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.2 Detail Page - Basic Information Card</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca75" onchange="updateProgress()"><label for="ca75">Verify Asset Tag displays correctly</label></li>
                        <li><input type="checkbox" id="ca76" onchange="updateProgress()"><label for="ca76">Verify Type, Category, Brand, Model show correctly</label></li>
                        <li><input type="checkbox" id="ca77" onchange="updateProgress()"><label for="ca77">Verify Serial Number displays if present</label></li>
                        <li><input type="checkbox" id="ca78" onchange="updateProgress()"><label for="ca78">Verify Configuration/Specs shows if present</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.3 Detail Page - Financial Card</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca79" onchange="updateProgress()"><label for="ca79">Verify Purchase Date displays correctly</label></li>
                        <li><input type="checkbox" id="ca80" onchange="updateProgress()"><label for="ca80">Verify Cost/Value shows with correct currency</label></li>
                        <li><input type="checkbox" id="ca81" onchange="updateProgress()"><label for="ca81">Verify QAR conversion shows for non-QAR prices</label></li>
                        <li><input type="checkbox" id="ca82" onchange="updateProgress()"><label for="ca82">Verify Warranty Expiry date displays</label></li>
                        <li><input type="checkbox" id="ca83" onchange="updateProgress()"><label for="ca83">Verify Supplier name displays if present</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.4 Detail Page - Assignment Card</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca84" onchange="updateProgress()"><label for="ca84">For assigned asset: verify assignee name and email show</label></li>
                        <li><input type="checkbox" id="ca85" onchange="updateProgress()"><label for="ca85">For assigned asset: verify "Assigned Since" date shows</label></li>
                        <li><input type="checkbox" id="ca86" onchange="updateProgress()"><label for="ca86">For unassigned asset: verify "Unassigned" message and Assign button show</label></li>
                        <li><input type="checkbox" id="ca87" onchange="updateProgress()"><label for="ca87">For shared asset: verify "Shared Resource" indicator shows</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.5 Detail Page - Warranty Alert</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca88" onchange="updateProgress()"><label for="ca88">Find an asset with warranty expiring within 30 days</label></li>
                        <li><input type="checkbox" id="ca89" onchange="updateProgress()"><label for="ca89">Verify amber warning banner appears at top of page</label></li>
                        <li><input type="checkbox" id="ca90" onchange="updateProgress()"><label for="ca90">Find an asset with expired warranty</label></li>
                        <li><input type="checkbox" id="ca91" onchange="updateProgress()"><label for="ca91">Verify red alert banner appears at top</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.6 Assign Asset (Unassigned → Assigned)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca92" onchange="updateProgress()"><label for="ca92">View an unassigned asset (Status = SPARE)</label></li>
                        <li><input type="checkbox" id="ca93" onchange="updateProgress()"><label for="ca93">Click "Assign" button in Assignment card</label></li>
                        <li><input type="checkbox" id="ca94" onchange="updateProgress()"><label for="ca94">Select a team member from dropdown</label></li>
                        <li><input type="checkbox" id="ca95" onchange="updateProgress()"><label for="ca95">Add assignment reason (optional)</label></li>
                        <li><input type="checkbox" id="ca96" onchange="updateProgress()"><label for="ca96">Click "Assign"</label></li>
                        <li><input type="checkbox" id="ca97" onchange="updateProgress()"><label for="ca97">Verify success message appears</label></li>
                        <li><input type="checkbox" id="ca98" onchange="updateProgress()"><label for="ca98">Verify Assignment card now shows the assignee</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.7 Clone Asset</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca99" onchange="updateProgress()"><label for="ca99">Click "Clone" button in page header</label></li>
                        <li><input type="checkbox" id="ca100" onchange="updateProgress()"><label for="ca100">Verify confirmation dialog appears</label></li>
                        <li><input type="checkbox" id="ca101" onchange="updateProgress()"><label for="ca101">Click "Clone" in dialog</label></li>
                        <li><input type="checkbox" id="ca102" onchange="updateProgress()"><label for="ca102">Verify success message</label></li>
                        <li><input type="checkbox" id="ca103" onchange="updateProgress()"><label for="ca103">Verify navigates to new cloned asset</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.8 Delete Asset (Soft Delete)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca104" onchange="updateProgress()"><label for="ca104">For an unassigned asset: click "Delete" button</label></li>
                        <li><input type="checkbox" id="ca105" onchange="updateProgress()"><label for="ca105">Verify confirmation dialog appears</label></li>
                        <li><input type="checkbox" id="ca106" onchange="updateProgress()"><label for="ca106">Click "Delete" to confirm</label></li>
                        <li><input type="checkbox" id="ca107" onchange="updateProgress()"><label for="ca107">Verify success message</label></li>
                        <li><input type="checkbox" id="ca108" onchange="updateProgress()"><label for="ca108">Verify redirects to Assets list</label></li>
                        <li><input type="checkbox" id="ca109" onchange="updateProgress()"><label for="ca109">Verify asset no longer in main list</label></li>
                        <li><input type="checkbox" id="ca110" onchange="updateProgress()"><label for="ca110">Verify "Trash" button now appears (if first deleted asset)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.9 Maintenance Records</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca111" onchange="updateProgress()"><label for="ca111">Scroll to "Maintenance Records" section</label></li>
                        <li><input type="checkbox" id="ca112" onchange="updateProgress()"><label for="ca112">Click "Add Maintenance Record" button</label></li>
                        <li><input type="checkbox" id="ca113" onchange="updateProgress()"><label for="ca113">Enter maintenance date</label></li>
                        <li><input type="checkbox" id="ca114" onchange="updateProgress()"><label for="ca114">Enter notes describing the maintenance</label></li>
                        <li><input type="checkbox" id="ca115" onchange="updateProgress()"><label for="ca115">Click "Save"</label></li>
                        <li><input type="checkbox" id="ca116" onchange="updateProgress()"><label for="ca116">Verify new record appears in list</label></li>
                        <li><input type="checkbox" id="ca117" onchange="updateProgress()"><label for="ca117">Verify records sorted by date (newest first)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.10 Depreciation Card</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca118" onchange="updateProgress()"><label for="ca118">If asset has depreciation category assigned:</label></li>
                        <li><input type="checkbox" id="ca119" onchange="updateProgress()"><label for="ca119">Verify Depreciation card shows</label></li>
                        <li><input type="checkbox" id="ca120" onchange="updateProgress()"><label for="ca120">Verify displays: Purchase Price, Salvage Value, Useful Life, Annual Rate</label></li>
                        <li><input type="checkbox" id="ca121" onchange="updateProgress()"><label for="ca121">Verify shows: Monthly Depreciation, Accumulated Depreciation, Net Book Value</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.11 Asset History</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca122" onchange="updateProgress()"><label for="ca122">Scroll to "History" section</label></li>
                        <li><input type="checkbox" id="ca123" onchange="updateProgress()"><label for="ca123">Verify timeline shows previous changes</label></li>
                        <li><input type="checkbox" id="ca124" onchange="updateProgress()"><label for="ca124">Verify entries show: date, action type, user who made change</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.12 Dispose Asset</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca125" onchange="updateProgress()"><label for="ca125">For a non-disposed asset: find/click "Dispose" option</label></li>
                        <li><input type="checkbox" id="ca126" onchange="updateProgress()"><label for="ca126">Enter disposal date (cannot be future)</label></li>
                        <li><input type="checkbox" id="ca127" onchange="updateProgress()"><label for="ca127">Select disposal method (SOLD, SCRAPPED, DONATED, WRITTEN_OFF, TRADED_IN)</label></li>
                        <li><input type="checkbox" id="ca128" onchange="updateProgress()"><label for="ca128">If SOLD: enter disposal proceeds (required, must be > 0)</label></li>
                        <li><input type="checkbox" id="ca129" onchange="updateProgress()"><label for="ca129">Add disposal notes (optional)</label></li>
                        <li><input type="checkbox" id="ca130" onchange="updateProgress()"><label for="ca130">Click "Dispose"</label></li>
                        <li><input type="checkbox" id="ca131" onchange="updateProgress()"><label for="ca131">Verify asset status changes to DISPOSED</label></li>
                        <li><input type="checkbox" id="ca132" onchange="updateProgress()"><label for="ca132">Verify Disposal Information card appears with details</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.13 Disposal Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca206" onchange="updateProgress()"><label for="ca206">Try to dispose without selecting disposal method → verify error "Disposal method required"</label></li>
                        <li><input type="checkbox" id="ca207" onchange="updateProgress()"><label for="ca207">Try to dispose without disposal date → verify error "Disposal date required"</label></li>
                        <li><input type="checkbox" id="ca208" onchange="updateProgress()"><label for="ca208">Set disposal date in the future → verify error "Disposal date cannot be in future"</label></li>
                        <li><input type="checkbox" id="ca209" onchange="updateProgress()"><label for="ca209">Select method = SOLD without entering proceeds → verify error "Proceeds required when sold"</label></li>
                        <li><input type="checkbox" id="ca210" onchange="updateProgress()"><label for="ca210">Select method = SOLD with proceeds = 0 → verify error "Proceeds must be greater than 0"</label></li>
                        <li><input type="checkbox" id="ca211" onchange="updateProgress()"><label for="ca211">Select method = SOLD with negative proceeds → verify error</label></li>
                        <li><input type="checkbox" id="ca212" onchange="updateProgress()"><label for="ca212">Select method = SCRAPPED → verify proceeds field is optional (can be empty)</label></li>
                        <li><input type="checkbox" id="ca213" onchange="updateProgress()"><label for="ca213">Select method = DONATED → verify proceeds field is optional</label></li>
                        <li><input type="checkbox" id="ca214" onchange="updateProgress()"><label for="ca214">Enter disposal notes longer than 500 chars → verify error or truncation</label></li>
                        <li><input type="checkbox" id="ca215" onchange="updateProgress()"><label for="ca215">Try to dispose an already disposed asset → verify option is hidden/disabled</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.14 Maintenance Record Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca216" onchange="updateProgress()"><label for="ca216">Click "Add Maintenance Record" without entering date → verify error "Date required"</label></li>
                        <li><input type="checkbox" id="ca217" onchange="updateProgress()"><label for="ca217">Click "Add Maintenance Record" without entering notes → verify error "Notes required"</label></li>
                        <li><input type="checkbox" id="ca218" onchange="updateProgress()"><label for="ca218">Enter only whitespace in notes field → verify error "Notes cannot be empty"</label></li>
                        <li><input type="checkbox" id="ca219" onchange="updateProgress()"><label for="ca219">Enter maintenance date in the future → verify it's accepted (scheduled maintenance)</label></li>
                        <li><input type="checkbox" id="ca220" onchange="updateProgress()"><label for="ca220">Enter very long notes (1000+ chars) → verify accepted or shows limit</label></li>
                        <li><input type="checkbox" id="ca221" onchange="updateProgress()"><label for="ca221">Enter valid date and notes → verify record saves successfully</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.15 Depreciation Assignment Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca222" onchange="updateProgress()"><label for="ca222">Open depreciation assignment dialog/form</label></li>
                        <li><input type="checkbox" id="ca223" onchange="updateProgress()"><label for="ca223">Try to assign without selecting depreciation category → verify error "Category required"</label></li>
                        <li><input type="checkbox" id="ca224" onchange="updateProgress()"><label for="ca224">Enter negative salvage value → verify error "Salvage value must be 0 or greater"</label></li>
                        <li><input type="checkbox" id="ca225" onchange="updateProgress()"><label for="ca225">Enter salvage value = 0 → verify it's accepted</label></li>
                        <li><input type="checkbox" id="ca226" onchange="updateProgress()"><label for="ca226">Enter salvage value greater than purchase price → verify error or warning</label></li>
                        <li><input type="checkbox" id="ca227" onchange="updateProgress()"><label for="ca227">Enter custom useful life = 0 → verify error "Must be at least 1 month"</label></li>
                        <li><input type="checkbox" id="ca228" onchange="updateProgress()"><label for="ca228">Enter custom useful life as decimal (e.g., 12.5) → verify error "Must be whole number"</label></li>
                        <li><input type="checkbox" id="ca229" onchange="updateProgress()"><label for="ca229">Enter negative custom useful life → verify error</label></li>
                        <li><input type="checkbox" id="ca230" onchange="updateProgress()"><label for="ca230">Leave custom useful life empty → verify it uses category default</label></li>
                        <li><input type="checkbox" id="ca231" onchange="updateProgress()"><label for="ca231">Set depreciation start date before purchase date → verify error or warning</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.16 Assignment Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca232" onchange="updateProgress()"><label for="ca232">Click "Assign" on unassigned asset without selecting user → verify error</label></li>
                        <li><input type="checkbox" id="ca233" onchange="updateProgress()"><label for="ca233">Try to assign asset that already has pending request → verify error "Asset has pending request"</label></li>
                        <li><input type="checkbox" id="ca234" onchange="updateProgress()"><label for="ca234">Try to assign asset that is already assigned → verify unassign first or shows warning</label></li>
                        <li><input type="checkbox" id="ca235" onchange="updateProgress()"><label for="ca235">Enter assignment reason with special characters → verify accepted</label></li>
                        <li><input type="checkbox" id="ca236" onchange="updateProgress()"><label for="ca236">Leave assignment reason empty → verify it's optional and assignment proceeds</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.17 Notification Testing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca286" onchange="updateProgress()"><label for="ca286">Assign asset to user → login as that user → verify notification appears in bell icon</label></li>
                        <li><input type="checkbox" id="ca287" onchange="updateProgress()"><label for="ca287">Unassign asset from user → verify user receives notification of unassignment</label></li>
                        <li><input type="checkbox" id="ca288" onchange="updateProgress()"><label for="ca288">For asset with warranty expiring soon: verify admin sees warranty alert notification</label></li>
                        <li><input type="checkbox" id="ca289" onchange="updateProgress()"><label for="ca289">Add maintenance record → verify relevant parties notified (if applicable)</label></li>
                        <li><input type="checkbox" id="ca290" onchange="updateProgress()"><label for="ca290">Dispose asset → verify no further notifications sent for that asset</label></li>
                        <li><input type="checkbox" id="ca291" onchange="updateProgress()"><label for="ca291">Click notification → verify it navigates to correct asset detail page</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.18 Concurrent Editing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca292" onchange="updateProgress()"><label for="ca292">Open same asset in two browser tabs → edit in Tab 1 → save → edit in Tab 2 → save</label></li>
                        <li><input type="checkbox" id="ca293" onchange="updateProgress()"><label for="ca293">Verify Tab 2 either shows conflict warning or last-write-wins (document behavior)</label></li>
                        <li><input type="checkbox" id="ca294" onchange="updateProgress()"><label for="ca294">User A assigns asset → User B tries to assign same asset → verify appropriate error</label></li>
                        <li><input type="checkbox" id="ca295" onchange="updateProgress()"><label for="ca295">User A deletes asset → User B viewing same asset → verify graceful handling when B refreshes</label></li>
                        <li><input type="checkbox" id="ca296" onchange="updateProgress()"><label for="ca296">Refresh asset detail page → verify latest data loads (no stale cache issues)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>14.19 Permission Testing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca297" onchange="updateProgress()"><label for="ca297">Login as MEMBER → view asset detail → verify can see details but no Edit/Delete buttons</label></li>
                        <li><input type="checkbox" id="ca298" onchange="updateProgress()"><label for="ca298">Login as MANAGER → verify can edit assets but may not delete</label></li>
                        <li><input type="checkbox" id="ca299" onchange="updateProgress()"><label for="ca299">Login as ADMIN → verify full access to all actions (edit, delete, dispose, assign)</label></li>
                        <li><input type="checkbox" id="ca300" onchange="updateProgress()"><label for="ca300">Try to access /admin/assets/[id] for asset in different organization → verify 404 or access denied</label></li>
                        <li><input type="checkbox" id="ca301" onchange="updateProgress()"><label for="ca301">As assigned user: verify can view their assigned asset in employee portal</label></li>
                    </ul>
                </div>

            </div>
        </div>

        <div class="section active" id="section-15" data-section="15">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 15</span>
                    <h3>ASSETS - TRASH &amp; REQUESTS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">76</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/assets/deleted</code>, <code>/admin/asset-requests</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.1 Trash Page - Navigation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca133" onchange="updateProgress()"><label for="ca133">Delete an asset (see 14.8)</label></li>
                        <li><input type="checkbox" id="ca134" onchange="updateProgress()"><label for="ca134">From Assets list, click "Trash" button</label></li>
                        <li><input type="checkbox" id="ca135" onchange="updateProgress()"><label for="ca135">Verify navigates to /admin/assets/deleted</label></li>
                        <li><input type="checkbox" id="ca136" onchange="updateProgress()"><label for="ca136">Verify page title shows "Deleted Assets"</label></li>
                        <li><input type="checkbox" id="ca137" onchange="updateProgress()"><label for="ca137">Verify subtitle shows count and "Auto-deleted after 7 days"</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.2 Trash Page - Display</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca138" onchange="updateProgress()"><label for="ca138">Verify table shows deleted assets</label></li>
                        <li><input type="checkbox" id="ca139" onchange="updateProgress()"><label for="ca139">Verify each row shows: Asset Tag, Model, Deleted Date, Deleted By, Days Remaining</label></li>
                        <li><input type="checkbox" id="ca140" onchange="updateProgress()"><label for="ca140">Verify items with 2 or fewer days show urgent/red styling</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.3 Restore Asset</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca141" onchange="updateProgress()"><label for="ca141">Click "Restore" button for a deleted asset</label></li>
                        <li><input type="checkbox" id="ca142" onchange="updateProgress()"><label for="ca142">Verify confirmation dialog appears</label></li>
                        <li><input type="checkbox" id="ca143" onchange="updateProgress()"><label for="ca143">Click "Restore" to confirm</label></li>
                        <li><input type="checkbox" id="ca144" onchange="updateProgress()"><label for="ca144">Verify success message</label></li>
                        <li><input type="checkbox" id="ca145" onchange="updateProgress()"><label for="ca145">Verify asset removed from trash list</label></li>
                        <li><input type="checkbox" id="ca146" onchange="updateProgress()"><label for="ca146">Navigate to Assets list → verify asset reappears</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.4 Permanent Delete</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca147" onchange="updateProgress()"><label for="ca147">Click "Delete Permanently" button for a deleted asset</label></li>
                        <li><input type="checkbox" id="ca148" onchange="updateProgress()"><label for="ca148">Verify warning dialog explains this is irreversible</label></li>
                        <li><input type="checkbox" id="ca149" onchange="updateProgress()"><label for="ca149">Click "Delete Permanently" to confirm</label></li>
                        <li><input type="checkbox" id="ca150" onchange="updateProgress()"><label for="ca150">Verify success message</label></li>
                        <li><input type="checkbox" id="ca151" onchange="updateProgress()"><label for="ca151">Verify asset removed from trash list</label></li>
                        <li><input type="checkbox" id="ca152" onchange="updateProgress()"><label for="ca152">Verify asset does NOT reappear anywhere (permanently gone)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.5 Asset Requests Page - Navigation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca153" onchange="updateProgress()"><label for="ca153">From Assets list, click "Requests" button</label></li>
                        <li><input type="checkbox" id="ca154" onchange="updateProgress()"><label for="ca154">Verify navigates to /admin/asset-requests</label></li>
                        <li><input type="checkbox" id="ca155" onchange="updateProgress()"><label for="ca155">Verify page title shows "Asset Requests"</label></li>
                        <li><input type="checkbox" id="ca156" onchange="updateProgress()"><label for="ca156">Verify stat chips show: pending approval, pending return, awaiting acceptance, total</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.6 Asset Requests - List Display</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca157" onchange="updateProgress()"><label for="ca157">Verify table shows all requests</label></li>
                        <li><input type="checkbox" id="ca158" onchange="updateProgress()"><label for="ca158">Verify columns: Request Number, Type, Asset, Requester, Status, Date</label></li>
                        <li><input type="checkbox" id="ca159" onchange="updateProgress()"><label for="ca159">Verify status badges show correct colors</label></li>
                        <li><input type="checkbox" id="ca160" onchange="updateProgress()"><label for="ca160">Click a request row → verify navigates to request detail</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.7 Approve Asset Request</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca161" onchange="updateProgress()"><label for="ca161">Find a request with status "Pending Admin Approval"</label></li>
                        <li><input type="checkbox" id="ca162" onchange="updateProgress()"><label for="ca162">Click to view request detail</label></li>
                        <li><input type="checkbox" id="ca163" onchange="updateProgress()"><label for="ca163">Click "Approve" button</label></li>
                        <li><input type="checkbox" id="ca164" onchange="updateProgress()"><label for="ca164">Verify status changes to "Pending User Acceptance"</label></li>
                        <li><input type="checkbox" id="ca165" onchange="updateProgress()"><label for="ca165">Verify notification sent to user</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.8 Reject Asset Request</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca166" onchange="updateProgress()"><label for="ca166">Find a pending request</label></li>
                        <li><input type="checkbox" id="ca167" onchange="updateProgress()"><label for="ca167">Click to view request detail</label></li>
                        <li><input type="checkbox" id="ca168" onchange="updateProgress()"><label for="ca168">Click "Reject" button</label></li>
                        <li><input type="checkbox" id="ca169" onchange="updateProgress()"><label for="ca169">Enter rejection reason (required)</label></li>
                        <li><input type="checkbox" id="ca170" onchange="updateProgress()"><label for="ca170">Click "Confirm Reject"</label></li>
                        <li><input type="checkbox" id="ca171" onchange="updateProgress()"><label for="ca171">Verify status changes to "Rejected"</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.9 Return Request Approval</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca172" onchange="updateProgress()"><label for="ca172">Find a request with status "Pending Return Approval"</label></li>
                        <li><input type="checkbox" id="ca173" onchange="updateProgress()"><label for="ca173">Click to view request detail</label></li>
                        <li><input type="checkbox" id="ca174" onchange="updateProgress()"><label for="ca174">Click "Approve Return"</label></li>
                        <li><input type="checkbox" id="ca175" onchange="updateProgress()"><label for="ca175">Verify asset status changes to SPARE</label></li>
                        <li><input type="checkbox" id="ca176" onchange="updateProgress()"><label for="ca176">Verify asset unassigned from user</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.10 Request Rejection Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca237" onchange="updateProgress()"><label for="ca237">Try to reject a request without entering rejection reason → verify error "Rejection reason is required"</label></li>
                        <li><input type="checkbox" id="ca238" onchange="updateProgress()"><label for="ca238">Enter only whitespace in rejection reason → verify error appears</label></li>
                        <li><input type="checkbox" id="ca239" onchange="updateProgress()"><label for="ca239">Enter very short reason (1-2 chars) → verify if minimum length error appears</label></li>
                        <li><input type="checkbox" id="ca240" onchange="updateProgress()"><label for="ca240">Enter valid rejection reason (e.g., "Asset not available") → verify rejection succeeds</label></li>
                        <li><input type="checkbox" id="ca241" onchange="updateProgress()"><label for="ca241">Try to reject an already rejected request → verify error or button disabled</label></li>
                        <li><input type="checkbox" id="ca242" onchange="updateProgress()"><label for="ca242">Try to reject an already approved request → verify error or button disabled</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.11 Request Status Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca243" onchange="updateProgress()"><label for="ca243">Try to approve a request that is already approved → verify error or button disabled</label></li>
                        <li><input type="checkbox" id="ca244" onchange="updateProgress()"><label for="ca244">Try to approve a request that is already rejected → verify error or button disabled</label></li>
                        <li><input type="checkbox" id="ca245" onchange="updateProgress()"><label for="ca245">Try to approve return for asset not currently assigned → verify appropriate error</label></li>
                        <li><input type="checkbox" id="ca246" onchange="updateProgress()"><label for="ca246">Verify cancelled requests cannot be approved or rejected</label></li>
                        <li><input type="checkbox" id="ca247" onchange="updateProgress()"><label for="ca247">Verify completed requests show read-only status</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.12 Trash Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca248" onchange="updateProgress()"><label for="ca248">Try to delete an asset that is currently assigned → verify error "Cannot delete assigned asset"</label></li>
                        <li><input type="checkbox" id="ca249" onchange="updateProgress()"><label for="ca249">Try to delete an asset with pending requests → verify warning or error</label></li>
                        <li><input type="checkbox" id="ca250" onchange="updateProgress()"><label for="ca250">Try to restore an asset when trash is empty → verify appropriate message</label></li>
                        <li><input type="checkbox" id="ca251" onchange="updateProgress()"><label for="ca251">Try to permanently delete without confirmation → verify confirmation required</label></li>
                        <li><input type="checkbox" id="ca252" onchange="updateProgress()"><label for="ca252">Verify auto-deletion countdown shows correct days remaining</label></li>
                        <li><input type="checkbox" id="ca253" onchange="updateProgress()"><label for="ca253">Verify urgent styling appears for assets with 2 or fewer days remaining</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.13 Request Notifications</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca302" onchange="updateProgress()"><label for="ca302">User submits asset request → admin receives notification in bell icon</label></li>
                        <li><input type="checkbox" id="ca303" onchange="updateProgress()"><label for="ca303">Admin approves request → user receives approval notification</label></li>
                        <li><input type="checkbox" id="ca304" onchange="updateProgress()"><label for="ca304">Admin rejects request → user receives rejection notification with reason</label></li>
                        <li><input type="checkbox" id="ca305" onchange="updateProgress()"><label for="ca305">User accepts assigned asset → admin receives confirmation notification</label></li>
                        <li><input type="checkbox" id="ca306" onchange="updateProgress()"><label for="ca306">Click notification → verify navigates to correct request detail</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.14 Permission Testing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca307" onchange="updateProgress()"><label for="ca307">Login as MEMBER → navigate to /admin/assets/deleted → verify access denied</label></li>
                        <li><input type="checkbox" id="ca308" onchange="updateProgress()"><label for="ca308">Login as MANAGER → verify can view trash but may not permanently delete</label></li>
                        <li><input type="checkbox" id="ca309" onchange="updateProgress()"><label for="ca309">Login as ADMIN → verify full trash access (restore and permanent delete)</label></li>
                        <li><input type="checkbox" id="ca310" onchange="updateProgress()"><label for="ca310">Login as MEMBER → verify can only see their own requests in request list</label></li>
                        <li><input type="checkbox" id="ca311" onchange="updateProgress()"><label for="ca311">Login as ADMIN → verify can see all organization requests</label></li>
                        <li><input type="checkbox" id="ca312" onchange="updateProgress()"><label for="ca312">Try to approve/reject request via direct API without admin role → verify 403 error</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>15.15 Mobile/Responsive</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ca313" onchange="updateProgress()"><label for="ca313">View Trash page on mobile → verify table is usable (scroll or stack)</label></li>
                        <li><input type="checkbox" id="ca314" onchange="updateProgress()"><label for="ca314">View Requests page on mobile → verify request cards/rows are tappable</label></li>
                        <li><input type="checkbox" id="ca315" onchange="updateProgress()"><label for="ca315">Tap Restore/Delete buttons on mobile → verify dialogs fit screen</label></li>
                        <li><input type="checkbox" id="ca316" onchange="updateProgress()"><label for="ca316">Submit rejection reason on mobile keyboard → verify form works correctly</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-16" data-section="16">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 16</span>
                    <h3>EMPLOYEES - LIST &amp; MANAGEMENT</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">77</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/employees</code>, <code>/admin/employees/[id]</code>, <code>/employee/profile</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.1 Page Load &amp; Stats</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce1" onchange="updateProgress()"><label for="ce1">Go to Admin menu → Employees</label></li>
                        <li><input type="checkbox" id="ce2" onchange="updateProgress()"><label for="ce2">Verify page shows "Employees" title</label></li>
                        <li><input type="checkbox" id="ce3" onchange="updateProgress()"><label for="ce3">Verify stat chips display: total employees, active count</label></li>
                        <li><input type="checkbox" id="ce4" onchange="updateProgress()"><label for="ce4">Verify "Add Employee" button is visible</label></li>
                        <li><input type="checkbox" id="ce5" onchange="updateProgress()"><label for="ce5">Verify expiring documents alert shows if any documents expire within 30 days</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.2 Employee Table Display</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce6" onchange="updateProgress()"><label for="ce6">Verify table shows columns: Name, Employee ID, Designation, Status, Actions</label></li>
                        <li><input type="checkbox" id="ce7" onchange="updateProgress()"><label for="ce7">Verify each row shows employee avatar/initials</label></li>
                        <li><input type="checkbox" id="ce8" onchange="updateProgress()"><label for="ce8">Verify status badges show correct colors (Active=green, Inactive=gray)</label></li>
                        <li><input type="checkbox" id="ce9" onchange="updateProgress()"><label for="ce9">Click any row → verify navigates to employee detail page</label></li>
                        <li><input type="checkbox" id="ce10" onchange="updateProgress()"><label for="ce10">Verify document expiry indicators appear for employees with expiring docs</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.3 Search &amp; Filter</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce11" onchange="updateProgress()"><label for="ce11">Type in search box → verify results filter in real-time</label></li>
                        <li><input type="checkbox" id="ce12" onchange="updateProgress()"><label for="ce12">Search by employee name → verify matching employees appear</label></li>
                        <li><input type="checkbox" id="ce13" onchange="updateProgress()"><label for="ce13">Search by employee ID → verify matching employees appear</label></li>
                        <li><input type="checkbox" id="ce14" onchange="updateProgress()"><label for="ce14">Search by designation → verify matching employees appear</label></li>
                        <li><input type="checkbox" id="ce15" onchange="updateProgress()"><label for="ce15">Filter by status (Active/Inactive) → verify correct results</label></li>
                        <li><input type="checkbox" id="ce16" onchange="updateProgress()"><label for="ce16">Clear filters → verify all employees reappear</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.4 Add Employee</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce17" onchange="updateProgress()"><label for="ce17">Click "Add Employee" → verify form/modal appears</label></li>
                        <li><input type="checkbox" id="ce18" onchange="updateProgress()"><label for="ce18">Leave required fields empty → click Save → verify error on Name field</label></li>
                        <li><input type="checkbox" id="ce19" onchange="updateProgress()"><label for="ce19">Enter name only → verify form can proceed</label></li>
                        <li><input type="checkbox" id="ce20" onchange="updateProgress()"><label for="ce20">Check "Can Login" → verify Email becomes required</label></li>
                        <li><input type="checkbox" id="ce21" onchange="updateProgress()"><label for="ce21">Enter invalid email format → verify error appears</label></li>
                        <li><input type="checkbox" id="ce22" onchange="updateProgress()"><label for="ce22">Enter valid data → click Save → verify success message</label></li>
                        <li><input type="checkbox" id="ce23" onchange="updateProgress()"><label for="ce23">Verify new employee appears in list</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.5 Employee Detail View</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce24" onchange="updateProgress()"><label for="ce24">Click employee row → verify detail page loads</label></li>
                        <li><input type="checkbox" id="ce25" onchange="updateProgress()"><label for="ce25">Verify Personal Information card shows correctly</label></li>
                        <li><input type="checkbox" id="ce26" onchange="updateProgress()"><label for="ce26">Verify Contact Information card shows correctly</label></li>
                        <li><input type="checkbox" id="ce27" onchange="updateProgress()"><label for="ce27">Verify Employment Information card shows correctly</label></li>
                        <li><input type="checkbox" id="ce28" onchange="updateProgress()"><label for="ce28">Verify Documents section shows ID, passport, visa if uploaded</label></li>
                        <li><input type="checkbox" id="ce29" onchange="updateProgress()"><label for="ce29">Verify "Edit" button is visible for admins</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.6 Edit Employee Profile</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce30" onchange="updateProgress()"><label for="ce30">Click "Edit" → verify edit form appears with pre-filled data</label></li>
                        <li><input type="checkbox" id="ce31" onchange="updateProgress()"><label for="ce31">Modify a field → click Save → verify success message</label></li>
                        <li><input type="checkbox" id="ce32" onchange="updateProgress()"><label for="ce32">Verify changes are reflected in detail view</label></li>
                        <li><input type="checkbox" id="ce33" onchange="updateProgress()"><label for="ce33">Cancel edit → verify changes are discarded</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.7 Document Management</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce34" onchange="updateProgress()"><label for="ce34">Upload QID document → verify upload succeeds</label></li>
                        <li><input type="checkbox" id="ce35" onchange="updateProgress()"><label for="ce35">Set QID expiry date → verify date saved</label></li>
                        <li><input type="checkbox" id="ce36" onchange="updateProgress()"><label for="ce36">Upload Passport document → verify upload succeeds</label></li>
                        <li><input type="checkbox" id="ce37" onchange="updateProgress()"><label for="ce37">Set Passport expiry date → verify date saved</label></li>
                        <li><input type="checkbox" id="ce38" onchange="updateProgress()"><label for="ce38">Upload Visa document → verify upload succeeds</label></li>
                        <li><input type="checkbox" id="ce39" onchange="updateProgress()"><label for="ce39">Download uploaded document → verify file downloads</label></li>
                        <li><input type="checkbox" id="ce40" onchange="updateProgress()"><label for="ce40">Delete document → verify confirmation dialog → confirm → verify deleted</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.8 Expiry Alerts &amp; Warnings</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce41" onchange="updateProgress()"><label for="ce41">Set document expiry within 30 days → verify amber warning appears</label></li>
                        <li><input type="checkbox" id="ce42" onchange="updateProgress()"><label for="ce42">Set document expiry in past → verify red alert appears</label></li>
                        <li><input type="checkbox" id="ce43" onchange="updateProgress()"><label for="ce43">Verify expiry alert shows on employee list page</label></li>
                        <li><input type="checkbox" id="ce44" onchange="updateProgress()"><label for="ce44">Click expiry alert → verify navigates to correct employee</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.9 Employee Status</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce45" onchange="updateProgress()"><label for="ce45">Deactivate an active employee → verify status changes to Inactive</label></li>
                        <li><input type="checkbox" id="ce46" onchange="updateProgress()"><label for="ce46">Verify deactivated employee cannot login (if canLogin was true)</label></li>
                        <li><input type="checkbox" id="ce47" onchange="updateProgress()"><label for="ce47">Reactivate an inactive employee → verify status changes to Active</label></li>
                        <li><input type="checkbox" id="ce48" onchange="updateProgress()"><label for="ce48">Verify inactive employees still appear in list with filter</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.10 Field Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce49" onchange="updateProgress()"><label for="ce49">Enter QID with wrong length (not 11 digits) → verify error</label></li>
                        <li><input type="checkbox" id="ce50" onchange="updateProgress()"><label for="ce50">Enter valid 11-digit QID → verify accepted</label></li>
                        <li><input type="checkbox" id="ce51" onchange="updateProgress()"><label for="ce51">Enter IBAN with wrong format → verify error</label></li>
                        <li><input type="checkbox" id="ce52" onchange="updateProgress()"><label for="ce52">Enter valid Qatar IBAN (QA + 27 chars) → verify accepted</label></li>
                        <li><input type="checkbox" id="ce53" onchange="updateProgress()"><label for="ce53">Enter mobile with wrong length (not 8 digits for Qatar) → verify error</label></li>
                        <li><input type="checkbox" id="ce54" onchange="updateProgress()"><label for="ce54">Enter valid 8-digit Qatar mobile → verify accepted</label></li>
                        <li><input type="checkbox" id="ce55" onchange="updateProgress()"><label for="ce55">Enter passport with special characters → verify error</label></li>
                        <li><input type="checkbox" id="ce56" onchange="updateProgress()"><label for="ce56">Enter valid alphanumeric passport (5-20 chars) → verify accepted</label></li>
                        <li><input type="checkbox" id="ce66" onchange="updateProgress()"><label for="ce66">Enter "Other Mobile" with less than 5 digits → verify error</label></li>
                        <li><input type="checkbox" id="ce67" onchange="updateProgress()"><label for="ce67">Enter "Other Mobile" with 5-15 digits → verify accepted</label></li>
                        <li><input type="checkbox" id="ce68" onchange="updateProgress()"><label for="ce68">Enter invalid personal email format → verify error</label></li>
                        <li><input type="checkbox" id="ce69" onchange="updateProgress()"><label for="ce69">Enter emergency contact phone with invalid length → verify error</label></li>
                        <li><input type="checkbox" id="ce70" onchange="updateProgress()"><label for="ce70">Leave employee name empty → verify error on required field</label></li>
                        <li><input type="checkbox" id="ce71" onchange="updateProgress()"><label for="ce71">Enter name exceeding 100 characters → verify error or truncation</label></li>
                        <li><input type="checkbox" id="ce72" onchange="updateProgress()"><label for="ce72">Create employee with existing email → verify duplicate error</label></li>
                        <li><input type="checkbox" id="ce73" onchange="updateProgress()"><label for="ce73">Check "Can Login" without email → verify email becomes required</label></li>
                        <li><input type="checkbox" id="ce74" onchange="updateProgress()"><label for="ce74">Enter graduation year before 1950 → verify error</label></li>
                        <li><input type="checkbox" id="ce75" onchange="updateProgress()"><label for="ce75">Enter graduation year after current year → verify error</label></li>
                        <li><input type="checkbox" id="ce76" onchange="updateProgress()"><label for="ce76">Leave date of joining empty for new employee → verify accepted</label></li>
                        <li><input type="checkbox" id="ce77" onchange="updateProgress()"><label for="ce77">Set contract expiry date before joining date → verify warning or error</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.11 Permission Testing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce57" onchange="updateProgress()"><label for="ce57">Login as MEMBER → verify cannot add employees</label></li>
                        <li><input type="checkbox" id="ce58" onchange="updateProgress()"><label for="ce58">Login as MANAGER → verify can add/edit employees</label></li>
                        <li><input type="checkbox" id="ce59" onchange="updateProgress()"><label for="ce59">Login as ADMIN → verify full employee management access</label></li>
                        <li><input type="checkbox" id="ce60" onchange="updateProgress()"><label for="ce60">Employee self-service: login as employee → verify can edit own profile</label></li>
                        <li><input type="checkbox" id="ce61" onchange="updateProgress()"><label for="ce61">Employee self-service: verify cannot edit other employees</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>16.12 Mobile/Responsive</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ce62" onchange="updateProgress()"><label for="ce62">View employees list on mobile → verify table scrolls or stacks</label></li>
                        <li><input type="checkbox" id="ce63" onchange="updateProgress()"><label for="ce63">View employee detail on mobile → verify cards stack vertically</label></li>
                        <li><input type="checkbox" id="ce64" onchange="updateProgress()"><label for="ce64">Edit form on mobile → verify form fields are usable</label></li>
                        <li><input type="checkbox" id="ce65" onchange="updateProgress()"><label for="ce65">Upload document on mobile → verify file picker works</label></li>
                    </ul>
                </div>
            </div>
        </div>

        
        <div class="section active" id="section-17" data-section="17">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 17</span>
                    <h3>LEAVE MANAGEMENT</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">78</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/leave/*</code>, <code>/employee/leave/*</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.1 Leave Types List</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl1" onchange="updateProgress()"><label for="cl1">Go to Admin menu → Leave → Leave Types</label></li>
                        <li><input type="checkbox" id="cl2" onchange="updateProgress()"><label for="cl2">Verify page shows "Leave Types" title</label></li>
                        <li><input type="checkbox" id="cl3" onchange="updateProgress()"><label for="cl3">Verify default Qatar Labor Law types listed (Annual, Sick, etc.)</label></li>
                        <li><input type="checkbox" id="cl4" onchange="updateProgress()"><label for="cl4">Verify each type shows: name, entitlement days, carry forward rules</label></li>
                        <li><input type="checkbox" id="cl5" onchange="updateProgress()"><label for="cl5">Verify "Add Leave Type" button visible</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.2 Create Leave Type</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl6" onchange="updateProgress()"><label for="cl6">Click "Add Leave Type" → verify form appears</label></li>
                        <li><input type="checkbox" id="cl7" onchange="updateProgress()"><label for="cl7">Enter leave type name (e.g., "Study Leave")</label></li>
                        <li><input type="checkbox" id="cl8" onchange="updateProgress()"><label for="cl8">Set entitlement days</label></li>
                        <li><input type="checkbox" id="cl9" onchange="updateProgress()"><label for="cl9">Configure carry forward settings</label></li>
                        <li><input type="checkbox" id="cl10" onchange="updateProgress()"><label for="cl10">Set gender restrictions if applicable</label></li>
                        <li><input type="checkbox" id="cl11" onchange="updateProgress()"><label for="cl11">Click Save → verify success message</label></li>
                        <li><input type="checkbox" id="cl12" onchange="updateProgress()"><label for="cl12">Verify new type appears in list</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.3 Leave Balances</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl13" onchange="updateProgress()"><label for="cl13">Go to Admin → Leave → Balances</label></li>
                        <li><input type="checkbox" id="cl14" onchange="updateProgress()"><label for="cl14">Verify table shows all employees with their leave balances</label></li>
                        <li><input type="checkbox" id="cl15" onchange="updateProgress()"><label for="cl15">Verify columns: Employee, Annual, Sick, Other types</label></li>
                        <li><input type="checkbox" id="cl16" onchange="updateProgress()"><label for="cl16">Click employee row → verify detailed balance breakdown</label></li>
                        <li><input type="checkbox" id="cl17" onchange="updateProgress()"><label for="cl17">Verify shows: Entitlement, Used, Pending, Available</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.4 Submit Leave Request (Employee)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl18" onchange="updateProgress()"><label for="cl18">Login as employee → go to Leave → Request Leave</label></li>
                        <li><input type="checkbox" id="cl19" onchange="updateProgress()"><label for="cl19">Select leave type from dropdown</label></li>
                        <li><input type="checkbox" id="cl20" onchange="updateProgress()"><label for="cl20">Select start date using date picker</label></li>
                        <li><input type="checkbox" id="cl21" onchange="updateProgress()"><label for="cl21">Select end date using date picker</label></li>
                        <li><input type="checkbox" id="cl22" onchange="updateProgress()"><label for="cl22">Verify working days calculated automatically</label></li>
                        <li><input type="checkbox" id="cl23" onchange="updateProgress()"><label for="cl23">Enter reason for leave</label></li>
                        <li><input type="checkbox" id="cl24" onchange="updateProgress()"><label for="cl24">Upload supporting document if required</label></li>
                        <li><input type="checkbox" id="cl25" onchange="updateProgress()"><label for="cl25">Click Submit → verify success message</label></li>
                        <li><input type="checkbox" id="cl26" onchange="updateProgress()"><label for="cl26">Verify request appears in "My Requests" list</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.5 Leave Request Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl27" onchange="updateProgress()"><label for="cl27">Select dates that exceed balance → verify error shown</label></li>
                        <li><input type="checkbox" id="cl28" onchange="updateProgress()"><label for="cl28">Select end date before start date → verify error</label></li>
                        <li><input type="checkbox" id="cl29" onchange="updateProgress()"><label for="cl29">Select dates overlapping existing request → verify error</label></li>
                        <li><input type="checkbox" id="cl30" onchange="updateProgress()"><label for="cl30">For sick leave: submit 3+ days without document → verify warning</label></li>
                        <li><input type="checkbox" id="cl31" onchange="updateProgress()"><label for="cl31">Request maternity leave as male → verify error</label></li>
                        <li><input type="checkbox" id="cl32" onchange="updateProgress()"><label for="cl32">Request Hajj leave twice → verify error (once per employment)</label></li>
                        <li><input type="checkbox" id="cl61" onchange="updateProgress()"><label for="cl61">Request half-day leave with different start/end dates → verify error</label></li>
                        <li><input type="checkbox" id="cl62" onchange="updateProgress()"><label for="cl62">Request leave without meeting minimum notice days → verify error</label></li>
                        <li><input type="checkbox" id="cl63" onchange="updateProgress()"><label for="cl63">Request leave exceeding max consecutive days → verify error</label></li>
                        <li><input type="checkbox" id="cl64" onchange="updateProgress()"><label for="cl64">Request PARENTAL/RELIGIOUS leave without admin assignment → verify error</label></li>
                        <li><input type="checkbox" id="cl65" onchange="updateProgress()"><label for="cl65">Request leave without minimum service months → verify error</label></li>
                        <li><input type="checkbox" id="cl66" onchange="updateProgress()"><label for="cl66">Cancel leave request without reason → verify error</label></li>
                        <li><input type="checkbox" id="cl67" onchange="updateProgress()"><label for="cl67">Edit non-PENDING leave request → verify not allowed</label></li>
                        <li><input type="checkbox" id="cl68" onchange="updateProgress()"><label for="cl68">Edit leave request with start date in past → verify error</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.5a Leave Type Configuration Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl69" onchange="updateProgress()"><label for="cl69">Create leave type with empty name → verify error</label></li>
                        <li><input type="checkbox" id="cl70" onchange="updateProgress()"><label for="cl70">Create leave type with name exceeding 100 chars → verify error</label></li>
                        <li><input type="checkbox" id="cl71" onchange="updateProgress()"><label for="cl71">Enter invalid hex color (not #RRGGBB format) → verify error</label></li>
                        <li><input type="checkbox" id="cl72" onchange="updateProgress()"><label for="cl72">Set default days to negative number → verify error</label></li>
                        <li><input type="checkbox" id="cl73" onchange="updateProgress()"><label for="cl73">Set max consecutive days to 0 → verify error (must be >= 1)</label></li>
                        <li><input type="checkbox" id="cl74" onchange="updateProgress()"><label for="cl74">Enable carry forward without max days → verify error</label></li>
                        <li><input type="checkbox" id="cl75" onchange="updateProgress()"><label for="cl75">Set pay tier percentage above 100% → verify error</label></li>
                        <li><input type="checkbox" id="cl76" onchange="updateProgress()"><label for="cl76">Set pay tier days to 0 → verify error (must be >= 1)</label></li>
                        <li><input type="checkbox" id="cl77" onchange="updateProgress()"><label for="cl77">Enter adjustment exceeding +/-365 days → verify error</label></li>
                        <li><input type="checkbox" id="cl78" onchange="updateProgress()"><label for="cl78">Submit adjustment without notes → verify error (notes required)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.6 Leave Calendar</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl33" onchange="updateProgress()"><label for="cl33">Go to Leave → Calendar</label></li>
                        <li><input type="checkbox" id="cl34" onchange="updateProgress()"><label for="cl34">Verify calendar shows all team leave</label></li>
                        <li><input type="checkbox" id="cl35" onchange="updateProgress()"><label for="cl35">Verify color coding by leave type</label></li>
                        <li><input type="checkbox" id="cl36" onchange="updateProgress()"><label for="cl36">Click a leave entry → verify details popup</label></li>
                        <li><input type="checkbox" id="cl37" onchange="updateProgress()"><label for="cl37">Navigate to different months → verify data loads</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.7 Approve/Reject Leave (Admin)</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl38" onchange="updateProgress()"><label for="cl38">Login as admin → go to Leave → Pending Requests</label></li>
                        <li><input type="checkbox" id="cl39" onchange="updateProgress()"><label for="cl39">Verify pending requests listed</label></li>
                        <li><input type="checkbox" id="cl40" onchange="updateProgress()"><label for="cl40">Click request → verify details shown</label></li>
                        <li><input type="checkbox" id="cl41" onchange="updateProgress()"><label for="cl41">Click "Approve" → verify success message</label></li>
                        <li><input type="checkbox" id="cl42" onchange="updateProgress()"><label for="cl42">Verify employee balance updated</label></li>
                        <li><input type="checkbox" id="cl43" onchange="updateProgress()"><label for="cl43">Verify employee receives notification</label></li>
                        <li><input type="checkbox" id="cl44" onchange="updateProgress()"><label for="cl44">Click "Reject" on another request → enter reason</label></li>
                        <li><input type="checkbox" id="cl45" onchange="updateProgress()"><label for="cl45">Verify rejection reason required</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.8 Balance Adjustments</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl46" onchange="updateProgress()"><label for="cl46">Go to employee balance detail</label></li>
                        <li><input type="checkbox" id="cl47" onchange="updateProgress()"><label for="cl47">Click "Adjust Balance"</label></li>
                        <li><input type="checkbox" id="cl48" onchange="updateProgress()"><label for="cl48">Enter adjustment amount (positive or negative)</label></li>
                        <li><input type="checkbox" id="cl49" onchange="updateProgress()"><label for="cl49">Enter reason for adjustment</label></li>
                        <li><input type="checkbox" id="cl50" onchange="updateProgress()"><label for="cl50">Click Save → verify balance updated</label></li>
                        <li><input type="checkbox" id="cl51" onchange="updateProgress()"><label for="cl51">Verify adjustment appears in history</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.9 Notification Testing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl52" onchange="updateProgress()"><label for="cl52">Submit leave request → verify manager receives notification</label></li>
                        <li><input type="checkbox" id="cl53" onchange="updateProgress()"><label for="cl53">Approve request → verify employee receives notification</label></li>
                        <li><input type="checkbox" id="cl54" onchange="updateProgress()"><label for="cl54">Reject request → verify employee receives notification with reason</label></li>
                        <li><input type="checkbox" id="cl55" onchange="updateProgress()"><label for="cl55">Click notification → verify navigates to request</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>17.10 Permissions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cl56" onchange="updateProgress()"><label for="cl56">Login as MEMBER → verify can only submit own requests</label></li>
                        <li><input type="checkbox" id="cl57" onchange="updateProgress()"><label for="cl57">Login as MANAGER → verify can approve team requests</label></li>
                        <li><input type="checkbox" id="cl58" onchange="updateProgress()"><label for="cl58">Login as ADMIN → verify can manage all leave types and requests</label></li>
                        <li><input type="checkbox" id="cl59" onchange="updateProgress()"><label for="cl59">Verify employee cannot approve own request</label></li>
                        <li><input type="checkbox" id="cl60" onchange="updateProgress()"><label for="cl60">Verify employee cannot modify approved request</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-18" data-section="18">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 18</span>
                    <h3>PAYROLL - RUNS &amp; PROCESSING</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">54</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/payroll/*</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.1 Payroll Dashboard</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp1" onchange="updateProgress()"><label for="cp1">Go to Admin → Payroll</label></li>
                        <li><input type="checkbox" id="cp2" onchange="updateProgress()"><label for="cp2">Verify dashboard shows recent payroll runs</label></li>
                        <li><input type="checkbox" id="cp3" onchange="updateProgress()"><label for="cp3">Verify stats: total payroll this month, pending runs</label></li>
                        <li><input type="checkbox" id="cp4" onchange="updateProgress()"><label for="cp4">Verify "Create Payroll Run" button visible</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.2 Create Payroll Run</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp5" onchange="updateProgress()"><label for="cp5">Click "Create Payroll Run"</label></li>
                        <li><input type="checkbox" id="cp6" onchange="updateProgress()"><label for="cp6">Select year and month</label></li>
                        <li><input type="checkbox" id="cp7" onchange="updateProgress()"><label for="cp7">Verify employees with salary structures listed</label></li>
                        <li><input type="checkbox" id="cp8" onchange="updateProgress()"><label for="cp8">Click Create → verify payroll run created in DRAFT status</label></li>
                        <li><input type="checkbox" id="cp9" onchange="updateProgress()"><label for="cp9">Try to create duplicate for same month → verify error</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.3 Payroll Preview</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp10" onchange="updateProgress()"><label for="cp10">Open draft payroll run</label></li>
                        <li><input type="checkbox" id="cp11" onchange="updateProgress()"><label for="cp11">Verify preview shows all employees</label></li>
                        <li><input type="checkbox" id="cp12" onchange="updateProgress()"><label for="cp12">Verify gross salary calculated correctly</label></li>
                        <li><input type="checkbox" id="cp13" onchange="updateProgress()"><label for="cp13">Verify deductions listed (loans, leave, etc.)</label></li>
                        <li><input type="checkbox" id="cp14" onchange="updateProgress()"><label for="cp14">Verify net salary calculated correctly</label></li>
                        <li><input type="checkbox" id="cp15" onchange="updateProgress()"><label for="cp15">Verify totals row at bottom</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.4 Submit for Approval</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp16" onchange="updateProgress()"><label for="cp16">On draft payroll → click "Submit for Approval"</label></li>
                        <li><input type="checkbox" id="cp17" onchange="updateProgress()"><label for="cp17">Verify confirmation dialog</label></li>
                        <li><input type="checkbox" id="cp18" onchange="updateProgress()"><label for="cp18">Confirm → verify status changes to PENDING_APPROVAL</label></li>
                        <li><input type="checkbox" id="cp19" onchange="updateProgress()"><label for="cp19">Verify payroll is now read-only</label></li>
                        <li><input type="checkbox" id="cp20" onchange="updateProgress()"><label for="cp20">Verify approvers receive notification</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.5 Approve/Reject Payroll</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp21" onchange="updateProgress()"><label for="cp21">Login as approver → view submitted payroll</label></li>
                        <li><input type="checkbox" id="cp22" onchange="updateProgress()"><label for="cp22">Review payroll details</label></li>
                        <li><input type="checkbox" id="cp23" onchange="updateProgress()"><label for="cp23">Click "Approve" → verify status changes to APPROVED</label></li>
                        <li><input type="checkbox" id="cp24" onchange="updateProgress()"><label for="cp24">For another payroll: click "Reject" → enter reason</label></li>
                        <li><input type="checkbox" id="cp25" onchange="updateProgress()"><label for="cp25">Verify rejected payroll returns to DRAFT</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.6 Process Payroll</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp26" onchange="updateProgress()"><label for="cp26">On approved payroll → click "Process"</label></li>
                        <li><input type="checkbox" id="cp27" onchange="updateProgress()"><label for="cp27">Verify processing confirmation</label></li>
                        <li><input type="checkbox" id="cp28" onchange="updateProgress()"><label for="cp28">Verify status changes to PROCESSED</label></li>
                        <li><input type="checkbox" id="cp29" onchange="updateProgress()"><label for="cp29">Verify payslips generated for each employee</label></li>
                        <li><input type="checkbox" id="cp30" onchange="updateProgress()"><label for="cp30">Verify loan deductions applied</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.7 Mark as Paid</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp31" onchange="updateProgress()"><label for="cp31">On processed payroll → click "Mark as Paid"</label></li>
                        <li><input type="checkbox" id="cp32" onchange="updateProgress()"><label for="cp32">Enter payment date</label></li>
                        <li><input type="checkbox" id="cp33" onchange="updateProgress()"><label for="cp33">Enter payment reference (optional)</label></li>
                        <li><input type="checkbox" id="cp34" onchange="updateProgress()"><label for="cp34">Confirm → verify status changes to PAID</label></li>
                        <li><input type="checkbox" id="cp35" onchange="updateProgress()"><label for="cp35">Verify payment date recorded</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.8 View Payslips</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp36" onchange="updateProgress()"><label for="cp36">Go to processed/paid payroll → click "View Payslips"</label></li>
                        <li><input type="checkbox" id="cp37" onchange="updateProgress()"><label for="cp37">Verify list of all employee payslips</label></li>
                        <li><input type="checkbox" id="cp38" onchange="updateProgress()"><label for="cp38">Click employee payslip → verify detailed breakdown</label></li>
                        <li><input type="checkbox" id="cp39" onchange="updateProgress()"><label for="cp39">Click "Download PDF" → verify PDF downloads</label></li>
                        <li><input type="checkbox" id="cp40" onchange="updateProgress()"><label for="cp40">Login as employee → verify can see own payslip only</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.9 Permissions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp41" onchange="updateProgress()"><label for="cp41">Login as MEMBER → verify cannot access payroll</label></li>
                        <li><input type="checkbox" id="cp42" onchange="updateProgress()"><label for="cp42">Login as MANAGER → verify can view but not process</label></li>
                        <li><input type="checkbox" id="cp43" onchange="updateProgress()"><label for="cp43">Login as ADMIN → verify full payroll access</label></li>
                        <li><input type="checkbox" id="cp44" onchange="updateProgress()"><label for="cp44">Employee → verify can only view own payslips</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>18.10 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cp45" onchange="updateProgress()"><label for="cp45">Create payroll with year outside 2020-2100 → verify error</label></li>
                        <li><input type="checkbox" id="cp46" onchange="updateProgress()"><label for="cp46">Create payroll with month outside 1-12 → verify error</label></li>
                        <li><input type="checkbox" id="cp47" onchange="updateProgress()"><label for="cp47">Create duplicate payroll for same month/year → verify error</label></li>
                        <li><input type="checkbox" id="cp48" onchange="updateProgress()"><label for="cp48">Submit payroll with notes exceeding 500 chars → verify error/truncation</label></li>
                        <li><input type="checkbox" id="cp49" onchange="updateProgress()"><label for="cp49">Approve payroll with notes exceeding 500 chars → verify error/truncation</label></li>
                        <li><input type="checkbox" id="cp50" onchange="updateProgress()"><label for="cp50">Reject payroll without reason → verify error (reason required)</label></li>
                        <li><input type="checkbox" id="cp51" onchange="updateProgress()"><label for="cp51">Mark paid with reference exceeding 100 chars → verify error</label></li>
                        <li><input type="checkbox" id="cp52" onchange="updateProgress()"><label for="cp52">Process payroll with no employees → verify error or warning</label></li>
                        <li><input type="checkbox" id="cp53" onchange="updateProgress()"><label for="cp53">Approve payroll you submitted → verify not allowed</label></li>
                        <li><input type="checkbox" id="cp54" onchange="updateProgress()"><label for="cp54">Process DRAFT payroll → verify must submit first</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-19" data-section="19">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 19</span>
                    <h3>PAYROLL - SALARY &amp; LOANS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">58</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/payroll/salary-structures</code>, <code>/admin/payroll/loans</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>19.1 Salary Structures List</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cps1" onchange="updateProgress()"><label for="cps1">Go to Payroll → Salary Structures</label></li>
                        <li><input type="checkbox" id="cps2" onchange="updateProgress()"><label for="cps2">Verify list shows employees with salary structures</label></li>
                        <li><input type="checkbox" id="cps3" onchange="updateProgress()"><label for="cps3">Verify columns: Employee, Basic, Total Gross</label></li>
                        <li><input type="checkbox" id="cps4" onchange="updateProgress()"><label for="cps4">Verify "Add Salary Structure" button</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>19.2 Create Salary Structure</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cps5" onchange="updateProgress()"><label for="cps5">Click "Add Salary Structure"</label></li>
                        <li><input type="checkbox" id="cps6" onchange="updateProgress()"><label for="cps6">Select employee from dropdown</label></li>
                        <li><input type="checkbox" id="cps7" onchange="updateProgress()"><label for="cps7">Enter basic salary</label></li>
                        <li><input type="checkbox" id="cps8" onchange="updateProgress()"><label for="cps8">Add allowances (housing, transport, etc.)</label></li>
                        <li><input type="checkbox" id="cps9" onchange="updateProgress()"><label for="cps9">Verify gross salary calculates automatically</label></li>
                        <li><input type="checkbox" id="cps10" onchange="updateProgress()"><label for="cps10">Set effective date</label></li>
                        <li><input type="checkbox" id="cps11" onchange="updateProgress()"><label for="cps11">Click Save → verify success</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>19.3 Edit Salary Structure</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cps12" onchange="updateProgress()"><label for="cps12">Click existing salary structure</label></li>
                        <li><input type="checkbox" id="cps13" onchange="updateProgress()"><label for="cps13">Modify basic salary</label></li>
                        <li><input type="checkbox" id="cps14" onchange="updateProgress()"><label for="cps14">Add/remove allowances</label></li>
                        <li><input type="checkbox" id="cps15" onchange="updateProgress()"><label for="cps15">Save → verify changes reflected</label></li>
                        <li><input type="checkbox" id="cps16" onchange="updateProgress()"><label for="cps16">Verify history shows previous values</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>19.4 Loans List</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cps17" onchange="updateProgress()"><label for="cps17">Go to Payroll → Loans</label></li>
                        <li><input type="checkbox" id="cps18" onchange="updateProgress()"><label for="cps18">Verify loans list shows all employee loans</label></li>
                        <li><input type="checkbox" id="cps19" onchange="updateProgress()"><label for="cps19">Verify columns: Employee, Amount, Balance, Status</label></li>
                        <li><input type="checkbox" id="cps20" onchange="updateProgress()"><label for="cps20">Verify "Add Loan" button</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>19.5 Create Loan</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cps21" onchange="updateProgress()"><label for="cps21">Click "Add Loan"</label></li>
                        <li><input type="checkbox" id="cps22" onchange="updateProgress()"><label for="cps22">Select employee</label></li>
                        <li><input type="checkbox" id="cps23" onchange="updateProgress()"><label for="cps23">Enter loan amount</label></li>
                        <li><input type="checkbox" id="cps24" onchange="updateProgress()"><label for="cps24">Set number of installments</label></li>
                        <li><input type="checkbox" id="cps25" onchange="updateProgress()"><label for="cps25">Verify monthly deduction calculates</label></li>
                        <li><input type="checkbox" id="cps26" onchange="updateProgress()"><label for="cps26">Set start date for deductions</label></li>
                        <li><input type="checkbox" id="cps27" onchange="updateProgress()"><label for="cps27">Add notes/reason</label></li>
                        <li><input type="checkbox" id="cps28" onchange="updateProgress()"><label for="cps28">Click Save → verify loan created</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>19.6 Loan Repayments</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cps29" onchange="updateProgress()"><label for="cps29">Click loan → view repayment schedule</label></li>
                        <li><input type="checkbox" id="cps30" onchange="updateProgress()"><label for="cps30">Verify schedule shows all installments</label></li>
                        <li><input type="checkbox" id="cps31" onchange="updateProgress()"><label for="cps31">Verify paid installments marked</label></li>
                        <li><input type="checkbox" id="cps32" onchange="updateProgress()"><label for="cps32">Record manual repayment → verify balance updates</label></li>
                        <li><input type="checkbox" id="cps33" onchange="updateProgress()"><label for="cps33">Verify payroll deductions update loan balance</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>19.7 Loan Status</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cps34" onchange="updateProgress()"><label for="cps34">Verify active loans show ACTIVE status</label></li>
                        <li><input type="checkbox" id="cps35" onchange="updateProgress()"><label for="cps35">Fully repaid loan → verify status changes to COMPLETED</label></li>
                        <li><input type="checkbox" id="cps36" onchange="updateProgress()"><label for="cps36">Write off loan → verify status changes to WRITTEN_OFF</label></li>
                        <li><input type="checkbox" id="cps37" onchange="updateProgress()"><label for="cps37">Verify written-off loan stops deductions</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>19.8 WPS Export</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cps38" onchange="updateProgress()"><label for="cps38">On processed payroll → click "Export WPS"</label></li>
                        <li><input type="checkbox" id="cps39" onchange="updateProgress()"><label for="cps39">Verify WPS file downloads (.sif format)</label></li>
                        <li><input type="checkbox" id="cps40" onchange="updateProgress()"><label for="cps40">Verify file contains correct employee data</label></li>
                        <li><input type="checkbox" id="cps41" onchange="updateProgress()"><label for="cps41">Verify Qatar bank codes correct</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>19.9 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cps42" onchange="updateProgress()"><label for="cps42">Enter negative salary → verify error</label></li>
                        <li><input type="checkbox" id="cps43" onchange="updateProgress()"><label for="cps43">Create loan exceeding salary → verify warning</label></li>
                        <li><input type="checkbox" id="cps44" onchange="updateProgress()"><label for="cps44">Employee without QID → verify WPS export warning</label></li>
                        <li><input type="checkbox" id="cps45" onchange="updateProgress()"><label for="cps45">Enter basic salary exceeding 999,999,999 → verify error</label></li>
                        <li><input type="checkbox" id="cps46" onchange="updateProgress()"><label for="cps46">Enter negative allowance amount → verify error</label></li>
                        <li><input type="checkbox" id="cps47" onchange="updateProgress()"><label for="cps47">Create salary structure without effective date → verify error</label></li>
                        <li><input type="checkbox" id="cps48" onchange="updateProgress()"><label for="cps48">Enter salary notes exceeding 500 chars → verify error</label></li>
                        <li><input type="checkbox" id="cps49" onchange="updateProgress()"><label for="cps49">Add other allowance without name → verify error</label></li>
                        <li><input type="checkbox" id="cps50" onchange="updateProgress()"><label for="cps50">Create loan with principal amount = 0 → verify error (must be > 0)</label></li>
                        <li><input type="checkbox" id="cps51" onchange="updateProgress()"><label for="cps51">Create loan with monthly deduction = 0 → verify error</label></li>
                        <li><input type="checkbox" id="cps52" onchange="updateProgress()"><label for="cps52">Create loan with 0 installments → verify error (must be >= 1)</label></li>
                        <li><input type="checkbox" id="cps53" onchange="updateProgress()"><label for="cps53">Create loan without description → verify error</label></li>
                        <li><input type="checkbox" id="cps54" onchange="updateProgress()"><label for="cps54">Record repayment with amount < 0.01 → verify error</label></li>
                        <li><input type="checkbox" id="cps55" onchange="updateProgress()"><label for="cps55">Record repayment without payment method → verify error</label></li>
                        <li><input type="checkbox" id="cps56" onchange="updateProgress()"><label for="cps56">Record repayment without payment date → verify error</label></li>
                        <li><input type="checkbox" id="cps57" onchange="updateProgress()"><label for="cps57">Enter payment reference exceeding 100 chars → verify error</label></li>
                        <li><input type="checkbox" id="cps58" onchange="updateProgress()"><label for="cps58">Create salary for employee who already has one → verify replaces/versions</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-20" data-section="20">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 20</span>
                    <h3>SUBSCRIPTIONS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">63</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/operations/subscriptions</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.1 Page Load &amp; Stats</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs1" onchange="updateProgress()"><label for="cs1">Go to Admin → Subscriptions</label></li>
                        <li><input type="checkbox" id="cs2" onchange="updateProgress()"><label for="cs2">Verify page shows "Subscriptions" title</label></li>
                        <li><input type="checkbox" id="cs3" onchange="updateProgress()"><label for="cs3">Verify stats: total subscriptions, active count, monthly cost</label></li>
                        <li><input type="checkbox" id="cs4" onchange="updateProgress()"><label for="cs4">Verify renewal alert shows if any renewing soon</label></li>
                        <li><input type="checkbox" id="cs5" onchange="updateProgress()"><label for="cs5">Verify "Add Subscription" button visible</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.2 Table Display</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs6" onchange="updateProgress()"><label for="cs6">Verify table shows: Service Name, Vendor, Cost, Billing Cycle, Status</label></li>
                        <li><input type="checkbox" id="cs7" onchange="updateProgress()"><label for="cs7">Verify status badges (Active=green, Cancelled=red)</label></li>
                        <li><input type="checkbox" id="cs8" onchange="updateProgress()"><label for="cs8">Verify renewal date column shows next renewal</label></li>
                        <li><input type="checkbox" id="cs9" onchange="updateProgress()"><label for="cs9">Click row → verify navigates to detail page</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.3 Search &amp; Filter</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs10" onchange="updateProgress()"><label for="cs10">Type in search box → verify real-time filtering</label></li>
                        <li><input type="checkbox" id="cs11" onchange="updateProgress()"><label for="cs11">Search by service name → verify matches</label></li>
                        <li><input type="checkbox" id="cs12" onchange="updateProgress()"><label for="cs12">Filter by status (Active/Cancelled)</label></li>
                        <li><input type="checkbox" id="cs13" onchange="updateProgress()"><label for="cs13">Filter by billing cycle (Monthly/Yearly)</label></li>
                        <li><input type="checkbox" id="cs14" onchange="updateProgress()"><label for="cs14">Clear filters → verify all subscriptions appear</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.4 Create Subscription</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs15" onchange="updateProgress()"><label for="cs15">Click "Add Subscription"</label></li>
                        <li><input type="checkbox" id="cs16" onchange="updateProgress()"><label for="cs16">Enter service name (required)</label></li>
                        <li><input type="checkbox" id="cs17" onchange="updateProgress()"><label for="cs17">Select billing cycle (Monthly/Yearly/One-time)</label></li>
                        <li><input type="checkbox" id="cs18" onchange="updateProgress()"><label for="cs18">Enter cost and select currency</label></li>
                        <li><input type="checkbox" id="cs19" onchange="updateProgress()"><label for="cs19">Set purchase date</label></li>
                        <li><input type="checkbox" id="cs20" onchange="updateProgress()"><label for="cs20">Set renewal date (auto-calculates based on cycle)</label></li>
                        <li><input type="checkbox" id="cs21" onchange="updateProgress()"><label for="cs21">Enter vendor name</label></li>
                        <li><input type="checkbox" id="cs22" onchange="updateProgress()"><label for="cs22">Add notes</label></li>
                        <li><input type="checkbox" id="cs23" onchange="updateProgress()"><label for="cs23">Click Save → verify success</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.5 Subscription Detail</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs24" onchange="updateProgress()"><label for="cs24">Click subscription → verify detail page</label></li>
                        <li><input type="checkbox" id="cs25" onchange="updateProgress()"><label for="cs25">Verify all fields displayed correctly</label></li>
                        <li><input type="checkbox" id="cs26" onchange="updateProgress()"><label for="cs26">Verify "Edit" button visible</label></li>
                        <li><input type="checkbox" id="cs27" onchange="updateProgress()"><label for="cs27">Verify action buttons based on status</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.6 Assign Member</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs28" onchange="updateProgress()"><label for="cs28">On subscription detail → click "Assign"</label></li>
                        <li><input type="checkbox" id="cs29" onchange="updateProgress()"><label for="cs29">Select team member from dropdown</label></li>
                        <li><input type="checkbox" id="cs30" onchange="updateProgress()"><label for="cs30">Set assignment date</label></li>
                        <li><input type="checkbox" id="cs31" onchange="updateProgress()"><label for="cs31">Click Assign → verify assigned member shows</label></li>
                        <li><input type="checkbox" id="cs32" onchange="updateProgress()"><label for="cs32">Click "Unassign" → verify member removed</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.7 Cancel/Reactivate</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs38" onchange="updateProgress()"><label for="cs38">On subscription → click "Mark as Cancelled"</label></li>
                        <li><input type="checkbox" id="cs39" onchange="updateProgress()"><label for="cs39">Verify confirmation with warning</label></li>
                        <li><input type="checkbox" id="cs40" onchange="updateProgress()"><label for="cs40">Confirm → verify status changes to CANCELLED</label></li>
                        <li><input type="checkbox" id="cs41" onchange="updateProgress()"><label for="cs41">On cancelled → click "Reactivate"</label></li>
                        <li><input type="checkbox" id="cs42" onchange="updateProgress()"><label for="cs42">Verify status changes to ACTIVE</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.8 Renewal Alerts</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs43" onchange="updateProgress()"><label for="cs43">Create subscription renewing in 7 days</label></li>
                        <li><input type="checkbox" id="cs44" onchange="updateProgress()"><label for="cs44">Verify renewal alert badge appears</label></li>
                        <li><input type="checkbox" id="cs45" onchange="updateProgress()"><label for="cs45">Click alert → verify navigates to subscription</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.9 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs46" onchange="updateProgress()"><label for="cs46">Submit without service name → verify error</label></li>
                        <li><input type="checkbox" id="cs47" onchange="updateProgress()"><label for="cs47">Enter negative cost → verify error</label></li>
                        <li><input type="checkbox" id="cs49" onchange="updateProgress()"><label for="cs49">Set renewal before purchase date → verify error</label></li>
                        <li><input type="checkbox" id="cs50" onchange="updateProgress()"><label for="cs50">Enter valid data → verify no errors</label></li>
                        <li><input type="checkbox" id="cs54" onchange="updateProgress()"><label for="cs54">Enter service name exceeding 255 chars → verify error</label></li>
                        <li><input type="checkbox" id="cs55" onchange="updateProgress()"><label for="cs55">Enter category exceeding 100 chars → verify error</label></li>
                        <li><input type="checkbox" id="cs56" onchange="updateProgress()"><label for="cs56">Enter vendor name exceeding 255 chars → verify error</label></li>
                        <li><input type="checkbox" id="cs57" onchange="updateProgress()"><label for="cs57">Enter notes exceeding 1000 chars → verify error</label></li>
                        <li><input type="checkbox" id="cs58" onchange="updateProgress()"><label for="cs58">Set assignment date in future (Qatar timezone) → verify error</label></li>
                        <li><input type="checkbox" id="cs59" onchange="updateProgress()"><label for="cs59">Assign member without assignment date → verify error</label></li>
                        <li><input type="checkbox" id="cs60" onchange="updateProgress()"><label for="cs60">Select invalid billing cycle → verify error</label></li>
                        <li><input type="checkbox" id="cs61" onchange="updateProgress()"><label for="cs61">Enter cost = 0 → verify error (must be positive)</label></li>
                        <li><input type="checkbox" id="cs62" onchange="updateProgress()"><label for="cs62">Enter payment method exceeding 100 chars → verify error</label></li>
                        <li><input type="checkbox" id="cs63" onchange="updateProgress()"><label for="cs63">Toggle auto-renew → verify value persists on save</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>20.10 Permissions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cs51" onchange="updateProgress()"><label for="cs51">Login as MEMBER → verify read-only access</label></li>
                        <li><input type="checkbox" id="cs52" onchange="updateProgress()"><label for="cs52">Login as MANAGER → verify can add/edit</label></li>
                        <li><input type="checkbox" id="cs53" onchange="updateProgress()"><label for="cs53">Login as ADMIN → verify full access including cancel</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-21" data-section="21">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 21</span>
                    <h3>SUPPLIERS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">47</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/operations/suppliers</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>21.1 Page Load &amp; Stats</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csu1" onchange="updateProgress()"><label for="csu1">Go to Admin → Suppliers</label></li>
                        <li><input type="checkbox" id="csu2" onchange="updateProgress()"><label for="csu2">Verify page shows "Suppliers" title</label></li>
                        <li><input type="checkbox" id="csu3" onchange="updateProgress()"><label for="csu3">Verify stats: total suppliers, approved count, pending count</label></li>
                        <li><input type="checkbox" id="csu4" onchange="updateProgress()"><label for="csu4">Verify "Add Supplier" button visible</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>21.2 Table Display</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csu5" onchange="updateProgress()"><label for="csu5">Verify table shows: Name, Category, Status, Contact</label></li>
                        <li><input type="checkbox" id="csu6" onchange="updateProgress()"><label for="csu6">Verify status badges (Approved=green, Pending=amber, Rejected=red)</label></li>
                        <li><input type="checkbox" id="csu7" onchange="updateProgress()"><label for="csu7">Click row → verify navigates to detail</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>21.3 Search &amp; Filter</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csu8" onchange="updateProgress()"><label for="csu8">Search by supplier name → verify filtering</label></li>
                        <li><input type="checkbox" id="csu9" onchange="updateProgress()"><label for="csu9">Filter by category → verify results</label></li>
                        <li><input type="checkbox" id="csu10" onchange="updateProgress()"><label for="csu10">Filter by status → verify results</label></li>
                        <li><input type="checkbox" id="csu11" onchange="updateProgress()"><label for="csu11">Clear filters → verify all suppliers show</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>21.4 Create Supplier</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csu12" onchange="updateProgress()"><label for="csu12">Click "Add Supplier"</label></li>
                        <li><input type="checkbox" id="csu13" onchange="updateProgress()"><label for="csu13">Enter supplier name (required)</label></li>
                        <li><input type="checkbox" id="csu14" onchange="updateProgress()"><label for="csu14">Select category (required)</label></li>
                        <li><input type="checkbox" id="csu15" onchange="updateProgress()"><label for="csu15">Enter contact name and email</label></li>
                        <li><input type="checkbox" id="csu16" onchange="updateProgress()"><label for="csu16">Enter website (optional)</label></li>
                        <li><input type="checkbox" id="csu17" onchange="updateProgress()"><label for="csu17">Enter address details</label></li>
                        <li><input type="checkbox" id="csu18" onchange="updateProgress()"><label for="csu18">Click Save → verify created in PENDING status</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>21.5 Supplier Detail</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csu19" onchange="updateProgress()"><label for="csu19">Click supplier → verify detail page</label></li>
                        <li><input type="checkbox" id="csu20" onchange="updateProgress()"><label for="csu20">Verify all information displayed</label></li>
                        <li><input type="checkbox" id="csu21" onchange="updateProgress()"><label for="csu21">Verify contact information shows</label></li>
                        <li><input type="checkbox" id="csu22" onchange="updateProgress()"><label for="csu22">Verify engagement history section</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>21.6 Approve/Reject Supplier</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csu23" onchange="updateProgress()"><label for="csu23">On pending supplier → click "Approve"</label></li>
                        <li><input type="checkbox" id="csu24" onchange="updateProgress()"><label for="csu24">Verify status changes to APPROVED</label></li>
                        <li><input type="checkbox" id="csu25" onchange="updateProgress()"><label for="csu25">On another pending → click "Reject"</label></li>
                        <li><input type="checkbox" id="csu26" onchange="updateProgress()"><label for="csu26">Enter rejection reason (required)</label></li>
                        <li><input type="checkbox" id="csu27" onchange="updateProgress()"><label for="csu27">Verify status changes to REJECTED</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>21.7 Engagement Logging</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csu28" onchange="updateProgress()"><label for="csu28">On approved supplier → click "Add Engagement"</label></li>
                        <li><input type="checkbox" id="csu29" onchange="updateProgress()"><label for="csu29">Enter engagement date</label></li>
                        <li><input type="checkbox" id="csu30" onchange="updateProgress()"><label for="csu30">Enter notes about the engagement</label></li>
                        <li><input type="checkbox" id="csu31" onchange="updateProgress()"><label for="csu31">Set rating (1-5 stars)</label></li>
                        <li><input type="checkbox" id="csu32" onchange="updateProgress()"><label for="csu32">Save → verify engagement appears in history</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>21.8 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csu33" onchange="updateProgress()"><label for="csu33">Submit without name → verify error</label></li>
                        <li><input type="checkbox" id="csu34" onchange="updateProgress()"><label for="csu34">Submit without category → verify error</label></li>
                        <li><input type="checkbox" id="csu35" onchange="updateProgress()"><label for="csu35">Enter invalid website URL → verify error</label></li>
                        <li><input type="checkbox" id="csu36" onchange="updateProgress()"><label for="csu36">Enter invalid email → verify error</label></li>
                        <li><input type="checkbox" id="csu40" onchange="updateProgress()"><label for="csu40">Submit without primary contact name → verify error</label></li>
                        <li><input type="checkbox" id="csu41" onchange="updateProgress()"><label for="csu41">Submit without email AND without mobile → verify error (one required)</label></li>
                        <li><input type="checkbox" id="csu42" onchange="updateProgress()"><label for="csu42">Enter mobile without country code → verify error</label></li>
                        <li><input type="checkbox" id="csu43" onchange="updateProgress()"><label for="csu43">Enter secondary mobile without secondary code → verify error</label></li>
                        <li><input type="checkbox" id="csu44" onchange="updateProgress()"><label for="csu44">Enter establishment year before 1800 → verify error</label></li>
                        <li><input type="checkbox" id="csu45" onchange="updateProgress()"><label for="csu45">Enter establishment year in future → verify error</label></li>
                        <li><input type="checkbox" id="csu46" onchange="updateProgress()"><label for="csu46">Add engagement without notes → verify error</label></li>
                        <li><input type="checkbox" id="csu47" onchange="updateProgress()"><label for="csu47">Set engagement rating outside 1-5 → verify error</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>21.9 Permissions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csu37" onchange="updateProgress()"><label for="csu37">Login as MEMBER → verify can only see approved suppliers</label></li>
                        <li><input type="checkbox" id="csu38" onchange="updateProgress()"><label for="csu38">Login as MANAGER → verify can add suppliers</label></li>
                        <li><input type="checkbox" id="csu39" onchange="updateProgress()"><label for="csu39">Login as ADMIN → verify can approve/reject</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-22" data-section="22">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 22</span>
                    <h3>PURCHASE REQUESTS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">32</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/operations/purchase-requests</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>22.1 Page Load</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cpr1" onchange="updateProgress()"><label for="cpr1">Go to Admin → Purchase Requests</label></li>
                        <li><input type="checkbox" id="cpr2" onchange="updateProgress()"><label for="cpr2">Verify page shows "Purchase Requests" title</label></li>
                        <li><input type="checkbox" id="cpr3" onchange="updateProgress()"><label for="cpr3">Verify stats: total requests, pending approval</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>22.2 Create Request</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cpr5" onchange="updateProgress()"><label for="cpr5">Click "Create Request"</label></li>
                        <li><input type="checkbox" id="cpr6" onchange="updateProgress()"><label for="cpr6">Enter request title</label></li>
                        <li><input type="checkbox" id="cpr7" onchange="updateProgress()"><label for="cpr7">Enter description</label></li>
                        <li><input type="checkbox" id="cpr8" onchange="updateProgress()"><label for="cpr8">Enter estimated amount</label></li>
                        <li><input type="checkbox" id="cpr9" onchange="updateProgress()"><label for="cpr9">Select priority (Low/Medium/High/Urgent)</label></li>
                        <li><input type="checkbox" id="cpr10" onchange="updateProgress()"><label for="cpr10">Add line items</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>22.3 Approval Workflow</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cpr17" onchange="updateProgress()"><label for="cpr17">Login as approver → view pending requests</label></li>
                        <li><input type="checkbox" id="cpr18" onchange="updateProgress()"><label for="cpr18">Click request → review details</label></li>
                        <li><input type="checkbox" id="cpr19" onchange="updateProgress()"><label for="cpr19">Click "Approve" → verify approval recorded</label></li>
                        <li><input type="checkbox" id="cpr20" onchange="updateProgress()"><label for="cpr20">If multi-step approval: verify next approver notified</label></li>
                        <li><input type="checkbox" id="cpr21" onchange="updateProgress()"><label for="cpr21">Click "Reject" on another → enter reason</label></li>
                        <li><input type="checkbox" id="cpr22" onchange="updateProgress()"><label for="cpr22">Verify requester notified of rejection</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>22.4 Status Workflow</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cpr23" onchange="updateProgress()"><label for="cpr23">Verify status progression: PENDING → UNDER_REVIEW</label></li>
                        <li><input type="checkbox" id="cpr24" onchange="updateProgress()"><label for="cpr24">Verify UNDER_REVIEW → APPROVED or REJECTED</label></li>
                        <li><input type="checkbox" id="cpr25" onchange="updateProgress()"><label for="cpr25">Verify APPROVED → COMPLETED flow</label></li>
                        <li><input type="checkbox" id="cpr26" onchange="updateProgress()"><label for="cpr26">Verify each status has correct badge color</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>22.5 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cpr27" onchange="updateProgress()"><label for="cpr27">Submit without title → verify error</label></li>
                        <li><input type="checkbox" id="cpr28" onchange="updateProgress()"><label for="cpr28">Submit without amount → verify error</label></li>
                        <li><input type="checkbox" id="cpr29" onchange="updateProgress()"><label for="cpr29">Enter negative amount → verify error</label></li>
                        <li><input type="checkbox" id="cpr34" onchange="updateProgress()"><label for="cpr34">Enter description exceeding 2000 chars → verify error</label></li>
                        <li><input type="checkbox" id="cpr35" onchange="updateProgress()"><label for="cpr35">Select invalid priority value → verify error</label></li>
                        <li><input type="checkbox" id="cpr36" onchange="updateProgress()"><label for="cpr36">Add line item with quantity = 0 → verify error</label></li>
                        <li><input type="checkbox" id="cpr37" onchange="updateProgress()"><label for="cpr37">Reject request without reason → verify error</label></li>
                        <li><input type="checkbox" id="cpr38" onchange="updateProgress()"><label for="cpr38">Edit APPROVED request → verify not allowed</label></li>
                        <li><input type="checkbox" id="cpr39" onchange="updateProgress()"><label for="cpr39">Submit notes exceeding 500 chars → verify error</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>22.6 Permissions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cpr30" onchange="updateProgress()"><label for="cpr30">Login as MEMBER → verify can create requests</label></li>
                        <li><input type="checkbox" id="cpr31" onchange="updateProgress()"><label for="cpr31">Verify MEMBER can only see own requests</label></li>
                        <li><input type="checkbox" id="cpr32" onchange="updateProgress()"><label for="cpr32">Login as MANAGER → verify can approve team requests</label></li>
                        <li><input type="checkbox" id="cpr33" onchange="updateProgress()"><label for="cpr33">Login as ADMIN → verify can see and approve all</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-23" data-section="23">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 23</span>
                    <h3>APPROVAL WORKFLOWS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">43</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/system/approvals/*</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>23.1 Approval Policies List</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="caw1" onchange="updateProgress()"><label for="caw1">Go to Admin → Approval Policies</label></li>
                        <li><input type="checkbox" id="caw2" onchange="updateProgress()"><label for="caw2">Verify list shows all policies</label></li>
                        <li><input type="checkbox" id="caw3" onchange="updateProgress()"><label for="caw3">Verify columns: Name, Type, Threshold, Status</label></li>
                        <li><input type="checkbox" id="caw4" onchange="updateProgress()"><label for="caw4">Verify "Add Policy" button</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>23.2 Create Policy</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="caw5" onchange="updateProgress()"><label for="caw5">Click "Add Policy"</label></li>
                        <li><input type="checkbox" id="caw6" onchange="updateProgress()"><label for="caw6">Enter policy name</label></li>
                        <li><input type="checkbox" id="caw7" onchange="updateProgress()"><label for="caw7">Select type (Purchase Request, Leave, etc.)</label></li>
                        <li><input type="checkbox" id="caw8" onchange="updateProgress()"><label for="caw8">Set amount threshold</label></li>
                        <li><input type="checkbox" id="caw9" onchange="updateProgress()"><label for="caw9">Add approval steps</label></li>
                        <li><input type="checkbox" id="caw10" onchange="updateProgress()"><label for="caw10">Select approvers for each step</label></li>
                        <li><input type="checkbox" id="caw11" onchange="updateProgress()"><label for="caw11">Save → verify policy created</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>23.3 Policy Matching</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="caw12" onchange="updateProgress()"><label for="caw12">Create request below threshold → verify simpler policy matches</label></li>
                        <li><input type="checkbox" id="caw13" onchange="updateProgress()"><label for="caw13">Create request above threshold → verify stricter policy matches</label></li>
                        <li><input type="checkbox" id="caw14" onchange="updateProgress()"><label for="caw14">Verify correct approval chain applied</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>23.4 Delegations List</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="caw15" onchange="updateProgress()"><label for="caw15">Go to Approvals → Delegations</label></li>
                        <li><input type="checkbox" id="caw16" onchange="updateProgress()"><label for="caw16">Verify active delegations listed</label></li>
                        <li><input type="checkbox" id="caw17" onchange="updateProgress()"><label for="caw17">Verify columns: From, To, Start Date, End Date</label></li>
                        <li><input type="checkbox" id="caw18" onchange="updateProgress()"><label for="caw18">Verify "Add Delegation" button</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>23.5 Create Delegation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="caw19" onchange="updateProgress()"><label for="caw19">Click "Add Delegation"</label></li>
                        <li><input type="checkbox" id="caw20" onchange="updateProgress()"><label for="caw20">Select delegate (person taking over)</label></li>
                        <li><input type="checkbox" id="caw21" onchange="updateProgress()"><label for="caw21">Set start date</label></li>
                        <li><input type="checkbox" id="caw22" onchange="updateProgress()"><label for="caw22">Set end date (max 90 days)</label></li>
                        <li><input type="checkbox" id="caw23" onchange="updateProgress()"><label for="caw23">Enter reason</label></li>
                        <li><input type="checkbox" id="caw24" onchange="updateProgress()"><label for="caw24">Save → verify delegation created</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>23.6 Delegation Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="caw25" onchange="updateProgress()"><label for="caw25">Try to delegate to self → verify error</label></li>
                        <li><input type="checkbox" id="caw26" onchange="updateProgress()"><label for="caw26">Set end before start → verify error</label></li>
                        <li><input type="checkbox" id="caw27" onchange="updateProgress()"><label for="caw27">Set duration over 90 days → verify error</label></li>
                        <li><input type="checkbox" id="caw28" onchange="updateProgress()"><label for="caw28">Create overlapping delegation → verify error</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>23.7 Permissions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="caw29" onchange="updateProgress()"><label for="caw29">Login as MEMBER → verify cannot manage policies</label></li>
                        <li><input type="checkbox" id="caw30" onchange="updateProgress()"><label for="caw30">Login as MANAGER → verify can create own delegations</label></li>
                        <li><input type="checkbox" id="caw31" onchange="updateProgress()"><label for="caw31">Login as ADMIN → verify full policy management</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>23.8 Policy Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="caw32" onchange="updateProgress()"><label for="caw32">Create policy without name → verify error</label></li>
                        <li><input type="checkbox" id="caw33" onchange="updateProgress()"><label for="caw33">Enter policy name exceeding 100 chars → verify error</label></li>
                        <li><input type="checkbox" id="caw34" onchange="updateProgress()"><label for="caw34">Select invalid module type → verify error</label></li>
                        <li><input type="checkbox" id="caw35" onchange="updateProgress()"><label for="caw35">Create policy with 0 approval levels → verify error (min 1)</label></li>
                        <li><input type="checkbox" id="caw36" onchange="updateProgress()"><label for="caw36">Create policy with 6+ approval levels → verify error (max 5)</label></li>
                        <li><input type="checkbox" id="caw37" onchange="updateProgress()"><label for="caw37">Set level order outside 1-5 → verify error</label></li>
                        <li><input type="checkbox" id="caw38" onchange="updateProgress()"><label for="caw38">Select invalid approver role → verify error</label></li>
                        <li><input type="checkbox" id="caw39" onchange="updateProgress()"><label for="caw39">Enter negative amount threshold → verify error</label></li>
                        <li><input type="checkbox" id="caw40" onchange="updateProgress()"><label for="caw40">Enter negative days threshold → verify error</label></li>
                        <li><input type="checkbox" id="caw41" onchange="updateProgress()"><label for="caw41">Create policy without any threshold → verify error</label></li>
                        <li><input type="checkbox" id="caw42" onchange="updateProgress()"><label for="caw42">Enter delegation reason exceeding 500 chars → verify error</label></li>
                        <li><input type="checkbox" id="caw43" onchange="updateProgress()"><label for="caw43">Process approval with invalid action → verify error</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-24" data-section="24">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 24</span>
                    <h3>WHATSAPP INTEGRATION</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">23</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/system/integrations/whatsapp</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>24.1 WhatsApp Configuration</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cwh1" onchange="updateProgress()"><label for="cwh1">Go to Admin → Integrations → WhatsApp</label></li>
                        <li><input type="checkbox" id="cwh2" onchange="updateProgress()"><label for="cwh2">Verify configuration form displayed</label></li>
                        <li><input type="checkbox" id="cwh3" onchange="updateProgress()"><label for="cwh3">Enter WhatsApp Business API credentials</label></li>
                        <li><input type="checkbox" id="cwh4" onchange="updateProgress()"><label for="cwh4">Click "Test Connection" → verify connection success</label></li>
                        <li><input type="checkbox" id="cwh5" onchange="updateProgress()"><label for="cwh5">Save configuration → verify saved</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>24.2 Approval via WhatsApp</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cwh6" onchange="updateProgress()"><label for="cwh6">Submit request requiring approval</label></li>
                        <li><input type="checkbox" id="cwh7" onchange="updateProgress()"><label for="cwh7">Verify approver receives WhatsApp message</label></li>
                        <li><input type="checkbox" id="cwh8" onchange="updateProgress()"><label for="cwh8">Verify message contains approve/reject buttons</label></li>
                        <li><input type="checkbox" id="cwh9" onchange="updateProgress()"><label for="cwh9">Click Approve in WhatsApp → verify request approved</label></li>
                        <li><input type="checkbox" id="cwh10" onchange="updateProgress()"><label for="cwh10">Test Reject flow → verify request rejected</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>24.3 Notification Templates</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cwh11" onchange="updateProgress()"><label for="cwh11">Verify leave request template formatted correctly</label></li>
                        <li><input type="checkbox" id="cwh12" onchange="updateProgress()"><label for="cwh12">Verify purchase request template formatted correctly</label></li>
                        <li><input type="checkbox" id="cwh13" onchange="updateProgress()"><label for="cwh13">Verify templates include request details</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>24.4 Token Validation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cwh14" onchange="updateProgress()"><label for="cwh14">Verify approval token expires after 24 hours</label></li>
                        <li><input type="checkbox" id="cwh15" onchange="updateProgress()"><label for="cwh15">Use expired token → verify error message</label></li>
                        <li><input type="checkbox" id="cwh16" onchange="updateProgress()"><label for="cwh16">Use token twice → verify second use rejected</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>24.5 Error Handling</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cwh17" onchange="updateProgress()"><label for="cwh17">Disconnect WhatsApp → submit request → verify fallback to email</label></li>
                        <li><input type="checkbox" id="cwh18" onchange="updateProgress()"><label for="cwh18">Invalid phone number → verify error logged gracefully</label></li>
                        <li><input type="checkbox" id="cwh19" onchange="updateProgress()"><label for="cwh19">Verify failed messages don't block workflow</label></li>
                        <li><input type="checkbox" id="cwh20" onchange="updateProgress()"><label for="cwh20">Enter invalid API token format → verify error</label></li>
                        <li><input type="checkbox" id="cwh21" onchange="updateProgress()"><label for="cwh21">Webhook with invalid signature → verify rejected</label></li>
                        <li><input type="checkbox" id="cwh22" onchange="updateProgress()"><label for="cwh22">Enter malformed phone number → verify validation error</label></li>
                        <li><input type="checkbox" id="cwh23" onchange="updateProgress()"><label for="cwh23">Send message with missing template parameters → verify error</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-25" data-section="25">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 25</span>
                    <h3>NOTIFICATIONS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">23</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> Notification bell icon (global)</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>25.1 Notification Bell</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cn1" onchange="updateProgress()"><label for="cn1">Verify bell icon visible in header</label></li>
                        <li><input type="checkbox" id="cn2" onchange="updateProgress()"><label for="cn2">Verify unread count badge on bell</label></li>
                        <li><input type="checkbox" id="cn3" onchange="updateProgress()"><label for="cn3">Click bell → verify dropdown opens</label></li>
                        <li><input type="checkbox" id="cn4" onchange="updateProgress()"><label for="cn4">Verify recent notifications listed</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>25.2 Notification List</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cn5" onchange="updateProgress()"><label for="cn5">Verify notifications show: icon, title, time ago</label></li>
                        <li><input type="checkbox" id="cn6" onchange="updateProgress()"><label for="cn6">Verify unread notifications highlighted</label></li>
                        <li><input type="checkbox" id="cn7" onchange="updateProgress()"><label for="cn7">Verify newest first ordering</label></li>
                        <li><input type="checkbox" id="cn8" onchange="updateProgress()"><label for="cn8">Click "View All" → verify full notifications page</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>25.3 Mark as Read</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cn9" onchange="updateProgress()"><label for="cn9">Click unread notification → verify marked as read</label></li>
                        <li><input type="checkbox" id="cn10" onchange="updateProgress()"><label for="cn10">Verify bell badge count decreases</label></li>
                        <li><input type="checkbox" id="cn11" onchange="updateProgress()"><label for="cn11">Click "Mark All as Read" → verify all marked</label></li>
                        <li><input type="checkbox" id="cn12" onchange="updateProgress()"><label for="cn12">Verify badge disappears when all read</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>25.4 Click Navigation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cn13" onchange="updateProgress()"><label for="cn13">Click leave request notification → verify navigates to request</label></li>
                        <li><input type="checkbox" id="cn14" onchange="updateProgress()"><label for="cn14">Click asset assignment notification → verify navigates to asset</label></li>
                        <li><input type="checkbox" id="cn15" onchange="updateProgress()"><label for="cn15">Click approval notification → verify navigates to approval item</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>25.5 Notification Types</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cn16" onchange="updateProgress()"><label for="cn16">Verify leave request notifications work</label></li>
                        <li><input type="checkbox" id="cn17" onchange="updateProgress()"><label for="cn17">Verify asset assignment notifications work</label></li>
                        <li><input type="checkbox" id="cn18" onchange="updateProgress()"><label for="cn18">Verify purchase request notifications work</label></li>
                        <li><input type="checkbox" id="cn19" onchange="updateProgress()"><label for="cn19">Verify document expiry notifications work</label></li>
                        <li><input type="checkbox" id="cn20" onchange="updateProgress()"><label for="cn20">Verify team invitation notifications work</label></li>
                        <li><input type="checkbox" id="cn21" onchange="updateProgress()"><label for="cn21">Create notification with empty title → verify error</label></li>
                        <li><input type="checkbox" id="cn22" onchange="updateProgress()"><label for="cn22">Create notification with message exceeding max length → verify error</label></li>
                        <li><input type="checkbox" id="cn23" onchange="updateProgress()"><label for="cn23">Create notification with invalid entity reference → verify error</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-26" data-section="26">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 26</span>
                    <h3>ORGANIZATION MANAGEMENT</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">40</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/system/organization</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>26.1 Organization Details</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="co1" onchange="updateProgress()"><label for="co1">Go to Admin → Organization</label></li>
                        <li><input type="checkbox" id="co2" onchange="updateProgress()"><label for="co2">Verify organization name displayed</label></li>
                        <li><input type="checkbox" id="co3" onchange="updateProgress()"><label for="co3">Verify slug/subdomain displayed</label></li>
                        <li><input type="checkbox" id="co4" onchange="updateProgress()"><label for="co4">Verify subscription tier shown</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>26.2 Edit Organization</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="co5" onchange="updateProgress()"><label for="co5">Click "Edit" → verify form appears</label></li>
                        <li><input type="checkbox" id="co6" onchange="updateProgress()"><label for="co6">Change organization name → Save</label></li>
                        <li><input type="checkbox" id="co7" onchange="updateProgress()"><label for="co7">Verify name updated</label></li>
                        <li><input type="checkbox" id="co8" onchange="updateProgress()"><label for="co8">Try changing slug → verify warning about subdomain change</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>26.3 Team Members</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="co9" onchange="updateProgress()"><label for="co9">View team members list</label></li>
                        <li><input type="checkbox" id="co10" onchange="updateProgress()"><label for="co10">Verify columns: Name, Email, Role, Status</label></li>
                        <li><input type="checkbox" id="co11" onchange="updateProgress()"><label for="co11">Verify "Invite Member" button</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>26.4 Invite Member</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="co12" onchange="updateProgress()"><label for="co12">Click "Invite Member"</label></li>
                        <li><input type="checkbox" id="co13" onchange="updateProgress()"><label for="co13">Enter email address</label></li>
                        <li><input type="checkbox" id="co14" onchange="updateProgress()"><label for="co14">Select role (Admin/Manager/Member)</label></li>
                        <li><input type="checkbox" id="co15" onchange="updateProgress()"><label for="co15">Click Invite → verify success</label></li>
                        <li><input type="checkbox" id="co16" onchange="updateProgress()"><label for="co16">Verify invitation appears in pending list</label></li>
                        <li><input type="checkbox" id="co17" onchange="updateProgress()"><label for="co17">Verify invitee receives email</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>26.5 Manage Member</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="co18" onchange="updateProgress()"><label for="co18">Click member → view details</label></li>
                        <li><input type="checkbox" id="co19" onchange="updateProgress()"><label for="co19">Change member role → verify updated</label></li>
                        <li><input type="checkbox" id="co20" onchange="updateProgress()"><label for="co20">Click "Remove" → verify confirmation</label></li>
                        <li><input type="checkbox" id="co21" onchange="updateProgress()"><label for="co21">Confirm → verify member removed</label></li>
                        <li><input type="checkbox" id="co22" onchange="updateProgress()"><label for="co22">Try to remove owner → verify error</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>26.6 Pending Invitations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="co23" onchange="updateProgress()"><label for="co23">View pending invitations list</label></li>
                        <li><input type="checkbox" id="co24" onchange="updateProgress()"><label for="co24">Click "Resend" → verify new email sent</label></li>
                        <li><input type="checkbox" id="co25" onchange="updateProgress()"><label for="co25">Click "Cancel" → verify invitation removed</label></li>
                        <li><input type="checkbox" id="co26" onchange="updateProgress()"><label for="co26">Verify expired invitations marked (7+ days old)</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>26.7 Permissions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="co27" onchange="updateProgress()"><label for="co27">Login as MEMBER → verify cannot manage organization</label></li>
                        <li><input type="checkbox" id="co28" onchange="updateProgress()"><label for="co28">Login as MANAGER → verify limited org access</label></li>
                        <li><input type="checkbox" id="co29" onchange="updateProgress()"><label for="co29">Login as ADMIN → verify can manage members</label></li>
                        <li><input type="checkbox" id="co30" onchange="updateProgress()"><label for="co30">Login as OWNER → verify full organization control</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>26.8 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="co31" onchange="updateProgress()"><label for="co31">Enter org name < 2 characters → verify error</label></li>
                        <li><input type="checkbox" id="co32" onchange="updateProgress()"><label for="co32">Enter org name > 100 characters → verify error</label></li>
                        <li><input type="checkbox" id="co33" onchange="updateProgress()"><label for="co33">Enter invalid slug format (spaces/special chars) → verify error</label></li>
                        <li><input type="checkbox" id="co34" onchange="updateProgress()"><label for="co34">Enter existing slug → verify uniqueness error</label></li>
                        <li><input type="checkbox" id="co35" onchange="updateProgress()"><label for="co35">Enter code prefix not 3 chars → verify error</label></li>
                        <li><input type="checkbox" id="co36" onchange="updateProgress()"><label for="co36">Enter invalid hex color → verify error</label></li>
                        <li><input type="checkbox" id="co37" onchange="updateProgress()"><label for="co37">Enter invalid website URL → verify error</label></li>
                        <li><input type="checkbox" id="co38" onchange="updateProgress()"><label for="co38">Invite with invalid email format → verify error</label></li>
                        <li><input type="checkbox" id="co39" onchange="updateProgress()"><label for="co39">Remove last owner → verify error</label></li>
                        <li><input type="checkbox" id="co40" onchange="updateProgress()"><label for="co40">Demote self to lower role → verify error/warning</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-27" data-section="27">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 27</span>
                    <h3>ORGANIZATION CONFIGURATION</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">26</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/system/organization/config</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>27.1 General Tab</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="coc1" onchange="updateProgress()"><label for="coc1">Go to Organization → Configuration</label></li>
                        <li><input type="checkbox" id="coc2" onchange="updateProgress()"><label for="coc2">Click "General" tab</label></li>
                        <li><input type="checkbox" id="coc3" onchange="updateProgress()"><label for="coc3">Verify timezone setting</label></li>
                        <li><input type="checkbox" id="coc4" onchange="updateProgress()"><label for="coc4">Verify currency setting</label></li>
                        <li><input type="checkbox" id="coc5" onchange="updateProgress()"><label for="coc5">Verify date format setting</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>27.2 Modules Tab</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="coc6" onchange="updateProgress()"><label for="coc6">Click "Modules" tab</label></li>
                        <li><input type="checkbox" id="coc7" onchange="updateProgress()"><label for="coc7">Verify list of available modules</label></li>
                        <li><input type="checkbox" id="coc8" onchange="updateProgress()"><label for="coc8">Toggle Leave module off → Save</label></li>
                        <li><input type="checkbox" id="coc9" onchange="updateProgress()"><label for="coc9">Verify Leave menu item disappears</label></li>
                        <li><input type="checkbox" id="coc10" onchange="updateProgress()"><label for="coc10">Toggle Leave module on → verify menu reappears</label></li>
                        <li><input type="checkbox" id="coc11" onchange="updateProgress()"><label for="coc11">Verify tier-restricted modules show lock icon</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>27.3 HR Tab</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="coc12" onchange="updateProgress()"><label for="coc12">Click "HR" tab</label></li>
                        <li><input type="checkbox" id="coc13" onchange="updateProgress()"><label for="coc13">Verify leave year start setting</label></li>
                        <li><input type="checkbox" id="coc14" onchange="updateProgress()"><label for="coc14">Verify document expiry warning days</label></li>
                        <li><input type="checkbox" id="coc15" onchange="updateProgress()"><label for="coc15">Verify probation period setting</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>27.4 Save Configuration</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="coc16" onchange="updateProgress()"><label for="coc16">Modify settings across tabs</label></li>
                        <li><input type="checkbox" id="coc17" onchange="updateProgress()"><label for="coc17">Click Save → verify success message</label></li>
                        <li><input type="checkbox" id="coc18" onchange="updateProgress()"><label for="coc18">Refresh page → verify settings persisted</label></li>
                        <li><input type="checkbox" id="coc19" onchange="updateProgress()"><label for="coc19">Click Cancel → verify unsaved changes discarded</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>27.5 Permissions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="coc20" onchange="updateProgress()"><label for="coc20">Login as MEMBER → verify cannot access configuration</label></li>
                        <li><input type="checkbox" id="coc21" onchange="updateProgress()"><label for="coc21">Login as MANAGER → verify read-only</label></li>
                        <li><input type="checkbox" id="coc22" onchange="updateProgress()"><label for="coc22">Login as ADMIN → verify can modify</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>27.6 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="coc23" onchange="updateProgress()"><label for="coc23">Clear currency selection → verify error (required)</label></li>
                        <li><input type="checkbox" id="coc24" onchange="updateProgress()"><label for="coc24">Select invalid timezone → verify error</label></li>
                        <li><input type="checkbox" id="coc25" onchange="updateProgress()"><label for="coc25">Disable module with dependent module enabled → verify warning</label></li>
                        <li><input type="checkbox" id="coc26" onchange="updateProgress()"><label for="coc26">Disable all modules → verify error (at least one required)</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-28" data-section="28">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 28</span>
                    <h3>ONBOARDING</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">28</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/onboarding</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>28.1 Wizard Navigation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cob1" onchange="updateProgress()"><label for="cob1">Sign up new account → verify redirected to onboarding</label></li>
                        <li><input type="checkbox" id="cob2" onchange="updateProgress()"><label for="cob2">Verify step indicator shows all steps</label></li>
                        <li><input type="checkbox" id="cob3" onchange="updateProgress()"><label for="cob3">Verify current step highlighted</label></li>
                        <li><input type="checkbox" id="cob4" onchange="updateProgress()"><label for="cob4">Verify Next/Back buttons present</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>28.2 Company Details Step</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cob5" onchange="updateProgress()"><label for="cob5">Enter organization name</label></li>
                        <li><input type="checkbox" id="cob6" onchange="updateProgress()"><label for="cob6">Verify slug auto-generates from name</label></li>
                        <li><input type="checkbox" id="cob7" onchange="updateProgress()"><label for="cob7">Select timezone</label></li>
                        <li><input type="checkbox" id="cob8" onchange="updateProgress()"><label for="cob8">Select currency</label></li>
                        <li><input type="checkbox" id="cob9" onchange="updateProgress()"><label for="cob9">Leave name empty → Next → verify error</label></li>
                        <li><input type="checkbox" id="cob10" onchange="updateProgress()"><label for="cob10">Fill valid data → Next → verify proceeds</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>28.3 Team Invites Step</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cob11" onchange="updateProgress()"><label for="cob11">Enter team member email</label></li>
                        <li><input type="checkbox" id="cob12" onchange="updateProgress()"><label for="cob12">Select role</label></li>
                        <li><input type="checkbox" id="cob13" onchange="updateProgress()"><label for="cob13">Click "Add Another" → verify new row</label></li>
                        <li><input type="checkbox" id="cob14" onchange="updateProgress()"><label for="cob14">Remove a row → verify removed</label></li>
                        <li><input type="checkbox" id="cob15" onchange="updateProgress()"><label for="cob15">Click "Skip" → verify proceeds without invites</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>28.4 Module Selection</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cob16" onchange="updateProgress()"><label for="cob16">Verify default modules pre-selected</label></li>
                        <li><input type="checkbox" id="cob17" onchange="updateProgress()"><label for="cob17">Toggle additional modules</label></li>
                        <li><input type="checkbox" id="cob18" onchange="updateProgress()"><label for="cob18">Verify tier-restricted modules show lock</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>28.5 Completion</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cob19" onchange="updateProgress()"><label for="cob19">Complete all steps → click Finish</label></li>
                        <li><input type="checkbox" id="cob20" onchange="updateProgress()"><label for="cob20">Verify success message</label></li>
                        <li><input type="checkbox" id="cob21" onchange="updateProgress()"><label for="cob21">Verify redirected to dashboard</label></li>
                        <li><input type="checkbox" id="cob22" onchange="updateProgress()"><label for="cob22">Verify invited members receive emails</label></li>
                        <li><input type="checkbox" id="cob23" onchange="updateProgress()"><label for="cob23">Verify selected modules enabled</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>28.6 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cob24" onchange="updateProgress()"><label for="cob24">Enter company name < 2 characters → verify error</label></li>
                        <li><input type="checkbox" id="cob25" onchange="updateProgress()"><label for="cob25">Enter company name > 100 characters → verify error</label></li>
                        <li><input type="checkbox" id="cob26" onchange="updateProgress()"><label for="cob26">Skip timezone selection → verify error</label></li>
                        <li><input type="checkbox" id="cob27" onchange="updateProgress()"><label for="cob27">Complete with no modules selected → verify error</label></li>
                        <li><input type="checkbox" id="cob28" onchange="updateProgress()"><label for="cob28">Try to skip required step → verify not allowed</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-29" data-section="29">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 29</span>
                    <h3>SETTINGS &amp; LOCATIONS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">18</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/system/settings</code>, <code>/admin/system/locations</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>29.1 Locations List</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csl1" onchange="updateProgress()"><label for="csl1">Go to Admin → Locations</label></li>
                        <li><input type="checkbox" id="csl2" onchange="updateProgress()"><label for="csl2">Verify locations list displayed</label></li>
                        <li><input type="checkbox" id="csl3" onchange="updateProgress()"><label for="csl3">Verify "Add Location" button</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>29.2 Create Location</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csl4" onchange="updateProgress()"><label for="csl4">Click "Add Location"</label></li>
                        <li><input type="checkbox" id="csl5" onchange="updateProgress()"><label for="csl5">Enter location name</label></li>
                        <li><input type="checkbox" id="csl6" onchange="updateProgress()"><label for="csl6">Enter address details</label></li>
                        <li><input type="checkbox" id="csl7" onchange="updateProgress()"><label for="csl7">Click Save → verify success</label></li>
                        <li><input type="checkbox" id="csl8" onchange="updateProgress()"><label for="csl8">Verify location appears in list</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>29.3 Edit/Delete Location</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csl9" onchange="updateProgress()"><label for="csl9">Click location → Edit</label></li>
                        <li><input type="checkbox" id="csl10" onchange="updateProgress()"><label for="csl10">Modify name → Save → verify updated</label></li>
                        <li><input type="checkbox" id="csl11" onchange="updateProgress()"><label for="csl11">Click Delete → verify confirmation</label></li>
                        <li><input type="checkbox" id="csl12" onchange="updateProgress()"><label for="csl12">Confirm → verify location removed</label></li>
                        <li><input type="checkbox" id="csl13" onchange="updateProgress()"><label for="csl13">Try delete location with assets → verify error</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>29.4 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csl14" onchange="updateProgress()"><label for="csl14">Submit without name → verify error</label></li>
                        <li><input type="checkbox" id="csl15" onchange="updateProgress()"><label for="csl15">Create duplicate name → verify error</label></li>
                        <li><input type="checkbox" id="csl16" onchange="updateProgress()"><label for="csl16">Enter name exceeding 100 chars → verify error</label></li>
                        <li><input type="checkbox" id="csl17" onchange="updateProgress()"><label for="csl17">Enter description exceeding 500 chars → verify error</label></li>
                        <li><input type="checkbox" id="csl18" onchange="updateProgress()"><label for="csl18">Leave name empty on edit → verify error</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-30" data-section="30">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 30</span>
                    <h3>COMPANY DOCUMENTS &amp; FILES</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">27</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/admin/system/documents</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>30.1 Documents List</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cd1" onchange="updateProgress()"><label for="cd1">Go to Admin → Documents</label></li>
                        <li><input type="checkbox" id="cd2" onchange="updateProgress()"><label for="cd2">Verify documents list displayed</label></li>
                        <li><input type="checkbox" id="cd3" onchange="updateProgress()"><label for="cd3">Verify columns: Name, Category, Expiry, Status</label></li>
                        <li><input type="checkbox" id="cd4" onchange="updateProgress()"><label for="cd4">Verify "Upload Document" button</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>30.2 Upload Document</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cd5" onchange="updateProgress()"><label for="cd5">Click "Upload Document"</label></li>
                        <li><input type="checkbox" id="cd6" onchange="updateProgress()"><label for="cd6">Enter document name</label></li>
                        <li><input type="checkbox" id="cd7" onchange="updateProgress()"><label for="cd7">Select category</label></li>
                        <li><input type="checkbox" id="cd8" onchange="updateProgress()"><label for="cd8">Select file to upload</label></li>
                        <li><input type="checkbox" id="cd9" onchange="updateProgress()"><label for="cd9">Set expiry date</label></li>
                        <li><input type="checkbox" id="cd10" onchange="updateProgress()"><label for="cd10">Click Upload → verify success</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>30.3 Expiry Alerts</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cd11" onchange="updateProgress()"><label for="cd11">Upload doc expiring in 30 days → verify warning badge</label></li>
                        <li><input type="checkbox" id="cd12" onchange="updateProgress()"><label for="cd12">Upload doc with past expiry → verify expired badge</label></li>
                        <li><input type="checkbox" id="cd13" onchange="updateProgress()"><label for="cd13">Verify notification sent for expiring docs</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>30.4 Download/Delete</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cd14" onchange="updateProgress()"><label for="cd14">Click document → Download → verify file downloads</label></li>
                        <li><input type="checkbox" id="cd15" onchange="updateProgress()"><label for="cd15">Click Delete → verify confirmation</label></li>
                        <li><input type="checkbox" id="cd16" onchange="updateProgress()"><label for="cd16">Confirm → verify document removed</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>30.5 File Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="cd17" onchange="updateProgress()"><label for="cd17">Upload PDF → verify accepted</label></li>
                        <li><input type="checkbox" id="cd18" onchange="updateProgress()"><label for="cd18">Upload .exe file → verify rejected</label></li>
                        <li><input type="checkbox" id="cd19" onchange="updateProgress()"><label for="cd19">Upload file >10MB → verify size error</label></li>
                        <li><input type="checkbox" id="cd20" onchange="updateProgress()"><label for="cd20">Enter document type name exceeding 100 chars → verify error</label></li>
                        <li><input type="checkbox" id="cd21" onchange="updateProgress()"><label for="cd21">Enter type code with lowercase → verify converted to uppercase</label></li>
                        <li><input type="checkbox" id="cd22" onchange="updateProgress()"><label for="cd22">Submit document without expiry date → verify error</label></li>
                        <li><input type="checkbox" id="cd23" onchange="updateProgress()"><label for="cd23">Enter invalid document URL → verify error</label></li>
                        <li><input type="checkbox" id="cd24" onchange="updateProgress()"><label for="cd24">Enter negative renewal cost → verify error</label></li>
                        <li><input type="checkbox" id="cd25" onchange="updateProgress()"><label for="cd25">Enter notes exceeding 1000 chars → verify error</label></li>
                        <li><input type="checkbox" id="cd26" onchange="updateProgress()"><label for="cd26">Upload image file (PNG/JPG) → verify accepted</label></li>
                        <li><input type="checkbox" id="cd27" onchange="updateProgress()"><label for="cd27">Submit duplicate document type code → verify error</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-31" data-section="31">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 31</span>
                    <h3>SUPER ADMIN</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">24</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> <code>/super-admin/*</code></div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>31.1 Login</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csa1" onchange="updateProgress()"><label for="csa1">Navigate to /super-admin</label></li>
                        <li><input type="checkbox" id="csa2" onchange="updateProgress()"><label for="csa2">Verify login form displayed</label></li>
                        <li><input type="checkbox" id="csa3" onchange="updateProgress()"><label for="csa3">Enter credentials → Login</label></li>
                        <li><input type="checkbox" id="csa4" onchange="updateProgress()"><label for="csa4">Verify 2FA code requested</label></li>
                        <li><input type="checkbox" id="csa5" onchange="updateProgress()"><label for="csa5">Enter 2FA code → verify access granted</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>31.2 Organizations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csa6" onchange="updateProgress()"><label for="csa6">Verify organizations list displayed</label></li>
                        <li><input type="checkbox" id="csa7" onchange="updateProgress()"><label for="csa7">Search by org name → verify filtering</label></li>
                        <li><input type="checkbox" id="csa8" onchange="updateProgress()"><label for="csa8">Filter by tier → verify results</label></li>
                        <li><input type="checkbox" id="csa9" onchange="updateProgress()"><label for="csa9">Click org → verify details displayed</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>31.3 Impersonation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csa10" onchange="updateProgress()"><label for="csa10">On org detail → click "Access Organization"</label></li>
                        <li><input type="checkbox" id="csa11" onchange="updateProgress()"><label for="csa11">Verify redirected to org dashboard</label></li>
                        <li><input type="checkbox" id="csa12" onchange="updateProgress()"><label for="csa12">Verify "Impersonating" banner visible</label></li>
                        <li><input type="checkbox" id="csa13" onchange="updateProgress()"><label for="csa13">Navigate org pages → verify access works</label></li>
                        <li><input type="checkbox" id="csa14" onchange="updateProgress()"><label for="csa14">Click "Exit" → verify returns to super admin</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>31.4 Security</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csa15" onchange="updateProgress()"><label for="csa15">Try /super-admin without login → verify redirect</label></li>
                        <li><input type="checkbox" id="csa16" onchange="updateProgress()"><label for="csa16">Login as regular user → try /super-admin → verify denied</label></li>
                        <li><input type="checkbox" id="csa17" onchange="updateProgress()"><label for="csa17">Verify impersonation token expires</label></li>
                        <li><input type="checkbox" id="csa18" onchange="updateProgress()"><label for="csa18">Verify actions are logged</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>31.5 Validations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="csa19" onchange="updateProgress()"><label for="csa19">Enter invalid 2FA code format → verify error</label></li>
                        <li><input type="checkbox" id="csa20" onchange="updateProgress()"><label for="csa20">Enter wrong 2FA code 5+ times → verify rate limited</label></li>
                        <li><input type="checkbox" id="csa21" onchange="updateProgress()"><label for="csa21">Use backup code → verify single-use (second use fails)</label></li>
                        <li><input type="checkbox" id="csa22" onchange="updateProgress()"><label for="csa22">Use impersonation token after 15 minutes → verify expired</label></li>
                        <li><input type="checkbox" id="csa23" onchange="updateProgress()"><label for="csa23">Impersonate without org ID → verify error</label></li>
                        <li><input type="checkbox" id="csa24" onchange="updateProgress()"><label for="csa24">Perform sensitive action without recent 2FA → verify requires re-auth</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-32" data-section="32">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 32</span>
                    <h3>DATA IMPORT &amp; EXPORT</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">20</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> Import dialogs across modules</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>32.1 CSV/Excel Import</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="die1" onchange="updateProgress()"><label for="die1">Import valid CSV file → verify all rows imported</label></li>
                        <li><input type="checkbox" id="die2" onchange="updateProgress()"><label for="die2">Import large file (1000+ rows) → verify no timeout</label></li>
                        <li><input type="checkbox" id="die3" onchange="updateProgress()"><label for="die3">Import file with mixed valid/invalid rows → verify partial success report</label></li>
                        <li><input type="checkbox" id="die4" onchange="updateProgress()"><label for="die4">Import file with duplicate entries → verify conflict handling</label></li>
                        <li><input type="checkbox" id="die5" onchange="updateProgress()"><label for="die5">Import CSV with semicolon delimiter → verify handled correctly</label></li>
                        <li><input type="checkbox" id="die6" onchange="updateProgress()"><label for="die6">Import file with UTF-8 special characters (Arabic, Chinese) → verify encoding</label></li>
                        <li><input type="checkbox" id="die7" onchange="updateProgress()"><label for="die7">Import file with empty required columns → verify validation errors shown</label></li>
                        <li><input type="checkbox" id="die8" onchange="updateProgress()"><label for="die8">Cancel import mid-way → verify partial data not saved</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>32.2 Data Export</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="die9" onchange="updateProgress()"><label for="die9">Export asset list to CSV → verify download starts</label></li>
                        <li><input type="checkbox" id="die10" onchange="updateProgress()"><label for="die10">Export with filters applied → verify only filtered data exported</label></li>
                        <li><input type="checkbox" id="die11" onchange="updateProgress()"><label for="die11">Export large dataset (1000+ items) → verify complete file</label></li>
                        <li><input type="checkbox" id="die12" onchange="updateProgress()"><label for="die12">Export employee list → verify sensitive data excluded/masked</label></li>
                        <li><input type="checkbox" id="die13" onchange="updateProgress()"><label for="die13">Export to Excel format → verify file opens correctly</label></li>
                        <li><input type="checkbox" id="die14" onchange="updateProgress()"><label for="die14">Export with date range filter → verify date boundaries correct</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>32.3 Import Validation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="die15" onchange="updateProgress()"><label for="die15">Upload wrong file format (.txt, .doc) → verify rejected with message</label></li>
                        <li><input type="checkbox" id="die16" onchange="updateProgress()"><label for="die16">Upload file exceeding size limit → verify size error</label></li>
                        <li><input type="checkbox" id="die17" onchange="updateProgress()"><label for="die17">Upload file with wrong column headers → verify mapping error</label></li>
                        <li><input type="checkbox" id="die18" onchange="updateProgress()"><label for="die18">Download import template → verify correct format</label></li>
                        <li><input type="checkbox" id="die19" onchange="updateProgress()"><label for="die19">View import history → verify past imports listed</label></li>
                        <li><input type="checkbox" id="die20" onchange="updateProgress()"><label for="die20">Retry failed import → verify can re-upload</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-33" data-section="33">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 33</span>
                    <h3>PDF &amp; PRINT FUNCTIONALITY</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">15</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Pages:</strong> Reports, employee details, payslips</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>33.1 PDF Generation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="pdf1" onchange="updateProgress()"><label for="pdf1">Generate employee exit checklist PDF → verify downloads</label></li>
                        <li><input type="checkbox" id="pdf2" onchange="updateProgress()"><label for="pdf2">Generate PDF with many assets (20+) → verify pagination works</label></li>
                        <li><input type="checkbox" id="pdf3" onchange="updateProgress()"><label for="pdf3">Generate PDF with special characters in names → verify renders correctly</label></li>
                        <li><input type="checkbox" id="pdf4" onchange="updateProgress()"><label for="pdf4">Generate PDF with Arabic/Unicode text → verify encoding</label></li>
                        <li><input type="checkbox" id="pdf5" onchange="updateProgress()"><label for="pdf5">Cancel PDF generation mid-way → verify no corrupt file</label></li>
                        <li><input type="checkbox" id="pdf6" onchange="updateProgress()"><label for="pdf6">Generate PDF for employee with no data → verify empty state handled</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>33.2 Payslip PDF</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="pdf7" onchange="updateProgress()"><label for="pdf7">Download individual payslip PDF → verify correct employee data</label></li>
                        <li><input type="checkbox" id="pdf8" onchange="updateProgress()"><label for="pdf8">Bulk download payslips for month → verify ZIP file contains all</label></li>
                        <li><input type="checkbox" id="pdf9" onchange="updateProgress()"><label for="pdf9">Payslip shows all deductions and allowances → verify calculations</label></li>
                        <li><input type="checkbox" id="pdf10" onchange="updateProgress()"><label for="pdf10">Payslip includes company logo → verify branding appears</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>33.3 Print Functionality</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="pdf11" onchange="updateProgress()"><label for="pdf11">Click Print on asset list → verify print dialog opens</label></li>
                        <li><input type="checkbox" id="pdf12" onchange="updateProgress()"><label for="pdf12">Print preview shows correct layout → verify no cut-off content</label></li>
                        <li><input type="checkbox" id="pdf13" onchange="updateProgress()"><label for="pdf13">Print hides navigation/sidebar → verify clean output</label></li>
                        <li><input type="checkbox" id="pdf14" onchange="updateProgress()"><label for="pdf14">Print report with charts → verify charts render in print</label></li>
                        <li><input type="checkbox" id="pdf15" onchange="updateProgress()"><label for="pdf15">Print multi-page report → verify page breaks correct</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-34" data-section="34">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 34</span>
                    <h3>ERROR RECOVERY &amp; RESILIENCE</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">15</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Scope:</strong> Network failures, timeouts, error states</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>34.1 Network Failures</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="err1" onchange="updateProgress()"><label for="err1">Disconnect network mid-form-submit → verify error message shown</label></li>
                        <li><input type="checkbox" id="err2" onchange="updateProgress()"><label for="err2">Reconnect after failure → verify can retry submission</label></li>
                        <li><input type="checkbox" id="err3" onchange="updateProgress()"><label for="err3">Form data preserved after network error → verify no data loss</label></li>
                        <li><input type="checkbox" id="err4" onchange="updateProgress()"><label for="err4">File upload interrupted → verify can resume or retry</label></li>
                        <li><input type="checkbox" id="err5" onchange="updateProgress()"><label for="err5">Slow network (throttle to 3G) → verify loading indicators shown</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>34.2 Server Errors</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="err6" onchange="updateProgress()"><label for="err6">Trigger 500 error → verify user-friendly error page</label></li>
                        <li><input type="checkbox" id="err7" onchange="updateProgress()"><label for="err7">Trigger 429 rate limit → verify "try again later" message</label></li>
                        <li><input type="checkbox" id="err8" onchange="updateProgress()"><label for="err8">Access non-existent page → verify 404 page shows</label></li>
                        <li><input type="checkbox" id="err9" onchange="updateProgress()"><label for="err9">API returns invalid JSON → verify graceful error handling</label></li>
                        <li><input type="checkbox" id="err10" onchange="updateProgress()"><label for="err10">Session expired during action → verify redirect to login</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>34.3 Recovery Actions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="err11" onchange="updateProgress()"><label for="err11">Refresh page after error → verify page recovers</label></li>
                        <li><input type="checkbox" id="err12" onchange="updateProgress()"><label for="err12">Click "Retry" on failed operation → verify retry works</label></li>
                        <li><input type="checkbox" id="err13" onchange="updateProgress()"><label for="err13">Back button after error → verify navigation works</label></li>
                        <li><input type="checkbox" id="err14" onchange="updateProgress()"><label for="err14">Error toast dismisses → verify UI returns to normal</label></li>
                        <li><input type="checkbox" id="err15" onchange="updateProgress()"><label for="err15">Multiple errors in sequence → verify all shown/queued</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-35" data-section="35">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 35</span>
                    <h3>CONCURRENT EDITING &amp; CONFLICTS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">12</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Scope:</strong> Multi-user, multi-tab scenarios</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>35.1 Same Entity Editing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="con1" onchange="updateProgress()"><label for="con1">Open same asset in two tabs → edit in both → verify last save wins or conflict shown</label></li>
                        <li><input type="checkbox" id="con2" onchange="updateProgress()"><label for="con2">Edit employee while another user deletes → verify appropriate error</label></li>
                        <li><input type="checkbox" id="con3" onchange="updateProgress()"><label for="con3">Approve leave request while being cancelled → verify conflict handled</label></li>
                        <li><input type="checkbox" id="con4" onchange="updateProgress()"><label for="con4">Two users update same subscription → verify no data corruption</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>35.2 Workflow Conflicts</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="con5" onchange="updateProgress()"><label for="con5">Two approvers click approve simultaneously → verify only one succeeds</label></li>
                        <li><input type="checkbox" id="con6" onchange="updateProgress()"><label for="con6">Submit leave while balance being adjusted → verify correct balance used</label></li>
                        <li><input type="checkbox" id="con7" onchange="updateProgress()"><label for="con7">Process payroll while salary being updated → verify correct salary</label></li>
                        <li><input type="checkbox" id="con8" onchange="updateProgress()"><label for="con8">Delete asset while being assigned → verify assignment fails gracefully</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>35.3 Multi-Tab Behavior</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="con9" onchange="updateProgress()"><label for="con9">Login in new tab → verify existing tab stays logged in</label></li>
                        <li><input type="checkbox" id="con10" onchange="updateProgress()"><label for="con10">Logout in one tab → verify other tabs redirect to login</label></li>
                        <li><input type="checkbox" id="con11" onchange="updateProgress()"><label for="con11">Change role in one tab → verify permissions update in other tab</label></li>
                        <li><input type="checkbox" id="con12" onchange="updateProgress()"><label for="con12">Receive notification in one tab → verify badge updates in other tabs</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-36" data-section="36">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 36</span>
                    <h3>SEARCH &amp; FILTER EDGE CASES</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">15</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Scope:</strong> Search inputs, filter combinations</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>36.1 Special Characters</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="sfx1" onchange="updateProgress()"><label for="sfx1">Search with @ symbol → verify no error, results shown</label></li>
                        <li><input type="checkbox" id="sfx2" onchange="updateProgress()"><label for="sfx2">Search with quotes ("test") → verify handled correctly</label></li>
                        <li><input type="checkbox" id="sfx3" onchange="updateProgress()"><label for="sfx3">Search with regex characters (*, ?, +) → verify no injection</label></li>
                        <li><input type="checkbox" id="sfx4" onchange="updateProgress()"><label for="sfx4">Search with HTML tags (&lt;script&gt;) → verify XSS prevented</label></li>
                        <li><input type="checkbox" id="sfx5" onchange="updateProgress()"><label for="sfx5">Search with SQL injection attempt → verify safely handled</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>36.2 Boundary Values</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="sfx6" onchange="updateProgress()"><label for="sfx6">Search with very long string (200+ chars) → verify truncation or error</label></li>
                        <li><input type="checkbox" id="sfx7" onchange="updateProgress()"><label for="sfx7">Search with single character → verify results or minimum length message</label></li>
                        <li><input type="checkbox" id="sfx8" onchange="updateProgress()"><label for="sfx8">Search with only whitespace → verify handled appropriately</label></li>
                        <li><input type="checkbox" id="sfx9" onchange="updateProgress()"><label for="sfx9">Filter date range: same start/end date → verify single day results</label></li>
                        <li><input type="checkbox" id="sfx10" onchange="updateProgress()"><label for="sfx10">Filter amount: min > max → verify error or swap</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>36.3 Filter Combinations</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="sfx11" onchange="updateProgress()"><label for="sfx11">Apply 5+ filters simultaneously → verify all respected</label></li>
                        <li><input type="checkbox" id="sfx12" onchange="updateProgress()"><label for="sfx12">Clear all filters → verify resets to full list</label></li>
                        <li><input type="checkbox" id="sfx13" onchange="updateProgress()"><label for="sfx13">Filter with no results → verify "no results" message</label></li>
                        <li><input type="checkbox" id="sfx14" onchange="updateProgress()"><label for="sfx14">Navigate away and back → verify filters persist or reset consistently</label></li>
                        <li><input type="checkbox" id="sfx15" onchange="updateProgress()"><label for="sfx15">Share filtered URL → verify filters apply for other users</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-37" data-section="37">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 37</span>
                    <h3>ACCESSIBILITY (A11Y)</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">20</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Scope:</strong> WCAG compliance, keyboard navigation</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.1 Keyboard Navigation</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="a11y1" onchange="updateProgress()"><label for="a11y1">Navigate entire page using only Tab key → verify all interactive elements reachable</label></li>
                        <li><input type="checkbox" id="a11y2" onchange="updateProgress()"><label for="a11y2">Use Shift+Tab to go backwards → verify reverse order works</label></li>
                        <li><input type="checkbox" id="a11y3" onchange="updateProgress()"><label for="a11y3">Press Enter on buttons → verify activates button</label></li>
                        <li><input type="checkbox" id="a11y4" onchange="updateProgress()"><label for="a11y4">Press Escape on modal → verify closes modal</label></li>
                        <li><input type="checkbox" id="a11y5" onchange="updateProgress()"><label for="a11y5">Arrow keys in dropdowns → verify options navigable</label></li>
                        <li><input type="checkbox" id="a11y6" onchange="updateProgress()"><label for="a11y6">Skip to main content link → verify present and works</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.2 Screen Reader</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="a11y7" onchange="updateProgress()"><label for="a11y7">Form fields have labels → verify screen reader announces label</label></li>
                        <li><input type="checkbox" id="a11y8" onchange="updateProgress()"><label for="a11y8">Error messages announced → verify validation errors read aloud</label></li>
                        <li><input type="checkbox" id="a11y9" onchange="updateProgress()"><label for="a11y9">Status badges have text alternatives → verify color not only indicator</label></li>
                        <li><input type="checkbox" id="a11y10" onchange="updateProgress()"><label for="a11y10">Tables have proper headers → verify row/column context</label></li>
                        <li><input type="checkbox" id="a11y11" onchange="updateProgress()"><label for="a11y11">Dynamic content updates announced → verify ARIA live regions</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.3 Visual Accessibility</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="a11y12" onchange="updateProgress()"><label for="a11y12">Focus indicators visible → verify clear outline on focused elements</label></li>
                        <li><input type="checkbox" id="a11y13" onchange="updateProgress()"><label for="a11y13">Color contrast sufficient → verify text readable (4.5:1 ratio)</label></li>
                        <li><input type="checkbox" id="a11y14" onchange="updateProgress()"><label for="a11y14">Zoom to 200% → verify content still usable, no horizontal scroll</label></li>
                        <li><input type="checkbox" id="a11y15" onchange="updateProgress()"><label for="a11y15">Icons have text labels or tooltips → verify meaning clear</label></li>
                        <li><input type="checkbox" id="a11y16" onchange="updateProgress()"><label for="a11y16">Error states not color-only → verify icon or text indicator</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>37.4 Modal &amp; Focus Management</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="a11y17" onchange="updateProgress()"><label for="a11y17">Modal traps focus → verify Tab doesn't escape modal</label></li>
                        <li><input type="checkbox" id="a11y18" onchange="updateProgress()"><label for="a11y18">Focus returns after modal close → verify returns to trigger element</label></li>
                        <li><input type="checkbox" id="a11y19" onchange="updateProgress()"><label for="a11y19">Modal has accessible title → verify ARIA labelledby</label></li>
                        <li><input type="checkbox" id="a11y20" onchange="updateProgress()"><label for="a11y20">Dropdown menus trap focus appropriately → verify navigation</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-38" data-section="38">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 38</span>
                    <h3>BULK OPERATIONS</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">15</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Scope:</strong> Multi-select actions across modules</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>38.1 Bulk Selection</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="blk1" onchange="updateProgress()"><label for="blk1">Select all checkbox → verify all visible items selected</label></li>
                        <li><input type="checkbox" id="blk2" onchange="updateProgress()"><label for="blk2">Select all across pages → verify includes all pages or shows count</label></li>
                        <li><input type="checkbox" id="blk3" onchange="updateProgress()"><label for="blk3">Individual checkbox selection → verify count updates</label></li>
                        <li><input type="checkbox" id="blk4" onchange="updateProgress()"><label for="blk4">Deselect one after select all → verify partial state shown</label></li>
                        <li><input type="checkbox" id="blk5" onchange="updateProgress()"><label for="blk5">Navigate to different page → verify selection state persists or clears consistently</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>38.2 Bulk Actions</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="blk6" onchange="updateProgress()"><label for="blk6">Bulk delete assets → verify confirmation shows count</label></li>
                        <li><input type="checkbox" id="blk7" onchange="updateProgress()"><label for="blk7">Bulk delete → confirm → verify all deleted</label></li>
                        <li><input type="checkbox" id="blk8" onchange="updateProgress()"><label for="blk8">Bulk status change → verify all items updated</label></li>
                        <li><input type="checkbox" id="blk9" onchange="updateProgress()"><label for="blk9">Bulk assign to employee → verify assignments created</label></li>
                        <li><input type="checkbox" id="blk10" onchange="updateProgress()"><label for="blk10">Bulk approve leave requests → verify all approved</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>38.3 Progress &amp; Errors</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="blk11" onchange="updateProgress()"><label for="blk11">Bulk action on 50+ items → verify progress indicator shown</label></li>
                        <li><input type="checkbox" id="blk12" onchange="updateProgress()"><label for="blk12">Cancel bulk operation mid-way → verify partial completion handled</label></li>
                        <li><input type="checkbox" id="blk13" onchange="updateProgress()"><label for="blk13">Bulk action with some failures → verify error report shown</label></li>
                        <li><input type="checkbox" id="blk14" onchange="updateProgress()"><label for="blk14">Retry failed items from bulk action → verify can retry subset</label></li>
                        <li><input type="checkbox" id="blk15" onchange="updateProgress()"><label for="blk15">Undo bulk delete (if supported) → verify restoration works</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-39" data-section="39">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 39</span>
                    <h3>SESSION &amp; BROWSER TESTING</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">15</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Scope:</strong> Session management, cross-browser</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>39.1 Session Management</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ses1" onchange="updateProgress()"><label for="ses1">Session timeout → verify redirected to login</label></li>
                        <li><input type="checkbox" id="ses2" onchange="updateProgress()"><label for="ses2">Remember Me (if available) → verify session persists after browser close</label></li>
                        <li><input type="checkbox" id="ses3" onchange="updateProgress()"><label for="ses3">Logout → verify session fully cleared, cannot go back</label></li>
                        <li><input type="checkbox" id="ses4" onchange="updateProgress()"><label for="ses4">Login from new device → verify session created independently</label></li>
                        <li><input type="checkbox" id="ses5" onchange="updateProgress()"><label for="ses5">Activity extends session → verify timeout resets on interaction</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>39.2 Cross-Browser Testing</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ses6" onchange="updateProgress()"><label for="ses6">Chrome: Full application test → verify all features work</label></li>
                        <li><input type="checkbox" id="ses7" onchange="updateProgress()"><label for="ses7">Firefox: Forms and date pickers → verify input handling</label></li>
                        <li><input type="checkbox" id="ses8" onchange="updateProgress()"><label for="ses8">Safari: File uploads and downloads → verify work correctly</label></li>
                        <li><input type="checkbox" id="ses9" onchange="updateProgress()"><label for="ses9">Edge: Basic navigation and forms → verify compatibility</label></li>
                        <li><input type="checkbox" id="ses10" onchange="updateProgress()"><label for="ses10">Mobile Safari (iOS): Touch interactions → verify responsive</label></li>
                        <li><input type="checkbox" id="ses11" onchange="updateProgress()"><label for="ses11">Chrome Android: Forms and modals → verify mobile UX</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>39.3 Browser Storage</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="ses12" onchange="updateProgress()"><label for="ses12">Clear browser storage → verify app handles gracefully</label></li>
                        <li><input type="checkbox" id="ses13" onchange="updateProgress()"><label for="ses13">Private/Incognito mode → verify app works without persistent storage</label></li>
                        <li><input type="checkbox" id="ses14" onchange="updateProgress()"><label for="ses14">Block cookies → verify appropriate error message</label></li>
                        <li><input type="checkbox" id="ses15" onchange="updateProgress()"><label for="ses15">Preferences persist → verify settings saved across sessions</label></li>
                    </ul>
                </div>
            </div>
        </div>

        <div class="section active" id="section-40" data-section="40">
            <div class="section-header" onclick="toggleSection(this)">
                <div class="section-title">
                    <span class="section-badge">Section 40</span>
                    <h3>AUDIT, PERFORMANCE &amp; LOCALIZATION</h3>
                </div>
                <div class="section-progress">
                    <span class="progress-text"><span class="completed">0</span>/<span class="total">16</span></span>
                    <div class="progress-bar-mini"><div class="progress-fill-mini" style="width: 0%"></div></div>
                    <span class="toggle-icon">&#9660;</span>
                </div>
            </div>
            <div class="section-content">
                <div class="file-ref"><strong>Scope:</strong> Audit logs, performance, i18n</div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>40.1 Audit Logging</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="apl1" onchange="updateProgress()"><label for="apl1">View activity log page → verify loads and displays entries</label></li>
                        <li><input type="checkbox" id="apl2" onchange="updateProgress()"><label for="apl2">Filter activity by action type → verify correct results</label></li>
                        <li><input type="checkbox" id="apl3" onchange="updateProgress()"><label for="apl3">Filter activity by date range → verify date boundaries</label></li>
                        <li><input type="checkbox" id="apl4" onchange="updateProgress()"><label for="apl4">Verify log entry contains: who, what, when, IP address</label></li>
                        <li><input type="checkbox" id="apl5" onchange="updateProgress()"><label for="apl5">Sensitive data not in logs → verify passwords/tokens excluded</label></li>
                        <li><input type="checkbox" id="apl6" onchange="updateProgress()"><label for="apl6">Super admin actions logged → verify impersonation tracked</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>40.2 Performance</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="apl7" onchange="updateProgress()"><label for="apl7">Asset list with 1000+ items → verify pagination smooth</label></li>
                        <li><input type="checkbox" id="apl8" onchange="updateProgress()"><label for="apl8">Leave calendar with 12 months data → verify no lag</label></li>
                        <li><input type="checkbox" id="apl9" onchange="updateProgress()"><label for="apl9">Dashboard with many widgets → verify initial load < 3 seconds</label></li>
                        <li><input type="checkbox" id="apl10" onchange="updateProgress()"><label for="apl10">Report generation with large dataset → verify completes reasonably</label></li>
                        <li><input type="checkbox" id="apl11" onchange="updateProgress()"><label for="apl11">Search autocomplete → verify suggestions appear quickly</label></li>
                    </ul>
                </div>

                <div class="subsection">
                    <div class="subsection-header">
                        <span>40.3 Localization</span>
                    </div>
                    <ul class="checklist">
                        <li><input type="checkbox" id="apl12" onchange="updateProgress()"><label for="apl12">Currency displays correctly (QAR with symbol) → verify format</label></li>
                        <li><input type="checkbox" id="apl13" onchange="updateProgress()"><label for="apl13">Dates display in Qatar format → verify DD/MM/YYYY or configured format</label></li>
                        <li><input type="checkbox" id="apl14" onchange="updateProgress()"><label for="apl14">Numbers use correct separators → verify thousands/decimal</label></li>
                        <li><input type="checkbox" id="apl15" onchange="updateProgress()"><label for="apl15">Timezone displays correctly → verify Qatar time (UTC+3)</label></li>
                        <li><input type="checkbox" id="apl16" onchange="updateProgress()"><label for="apl16">Weekend days correct → verify Friday/Saturday shown as weekend</label></li>
                    </ul>
                </div>
            </div>
        </div>


        <footer>
            <p>Durj Platform - Comprehensive Test Checklist</p>
            <p>Last updated: January 2026</p>
            <p>Based on analysis of 17 code-review module files and 70+ unit test files</p>
            <div class="overall-progress">
                <div class="progress-bar">
                    <div class="progress-fill" id="overall-progress" style="width: 0%"></div>
                </div>
                <p><span id="progress-percentage">0%</span> Complete</p>
            </div>
        </footer>
    </div>

    <button class="print-btn" onclick="window.print()">&#128424; Print Checklist</button>

    <script>
        document.addEventListener('DOMContentLoaded', function() {
            loadProgress();
            updateProgress();
        });

        function toggleSection(header) {
            header.parentElement.classList.toggle('active');
        }

        function toggleToc() {
            document.getElementById('toc-content').classList.toggle('active');
        }

        function expandAll() {
            document.querySelectorAll('.section').forEach(s => s.classList.add('active'));
        }

        function collapseAll() {
            document.querySelectorAll('.section').forEach(s => s.classList.remove('active'));
        }

        function updateProgress() {
            const checkboxes = document.querySelectorAll('input[type="checkbox"]');
            const checked = document.querySelectorAll('input[type="checkbox"]:checked');
            const total = checkboxes.length;
            const completed = checked.length;
            const remaining = total - completed;
            const percentage = total > 0 ? Math.round((completed / total) * 100) : 0;

            document.getElementById('total-tests').textContent = total;
            document.getElementById('completed-count').textContent = completed;
            document.getElementById('remaining-count').textContent = remaining;
            document.getElementById('progress-percentage').textContent = percentage + '%';
            document.getElementById('overall-progress').style.width = percentage + '%';

            document.querySelectorAll('.section').forEach(section => {
                const sectionCheckboxes = section.querySelectorAll('input[type="checkbox"]');
                const sectionChecked = section.querySelectorAll('input[type="checkbox"]:checked');
                const sectionTotal = sectionCheckboxes.length;
                const sectionCompleted = sectionChecked.length;
                const sectionPercentage = sectionTotal > 0 ? Math.round((sectionCompleted / sectionTotal) * 100) : 0;

                const progressText = section.querySelector('.progress-text');
                const progressFill = section.querySelector('.progress-fill-mini');

                if (progressText) {
                    progressText.querySelector('.completed').textContent = sectionCompleted;
                    progressText.querySelector('.total').textContent = sectionTotal;
                }
                if (progressFill) {
                    progressFill.style.width = sectionPercentage + '%';
                }
            });

            checkboxes.forEach(cb => {
                const li = cb.closest('li');
                if (li) {
                    cb.checked ? li.classList.add('checked') : li.classList.remove('checked');
                }
            });

            saveProgress();
        }

        function saveProgress() {
            const checked = document.querySelectorAll('input[type="checkbox"]:checked');
            localStorage.setItem('durj-comprehensive-test-progress', JSON.stringify(Array.from(checked).map(cb => cb.id)));
        }

        function loadProgress() {
            const saved = localStorage.getItem('durj-comprehensive-test-progress');
            if (saved) {
                try {
                    JSON.parse(saved).forEach(id => {
                        const cb = document.getElementById(id);
                        if (cb) cb.checked = true;
                    });
                } catch (e) {}
            }
        }

        function resetProgress() {
            if (confirm('Are you sure you want to reset all progress? This cannot be undone.')) {
                document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
                localStorage.removeItem('durj-comprehensive-test-progress');
                updateProgress();
            }
        }

        function exportProgress() {
            const checked = document.querySelectorAll('input[type="checkbox"]:checked');
            const data = {
                exportDate: new Date().toISOString(),
                totalTests: document.querySelectorAll('input[type="checkbox"]').length,
                completedTests: checked.length,
                checkedIds: Array.from(checked).map(cb => cb.id)
            };
            const blob = new Blob([JSON.stringify(data, null, 2)], { type: 'application/json' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'durj-test-progress-' + new Date().toISOString().split('T')[0] + '.json';
            a.click();
            URL.revokeObjectURL(url);
        }

        function filterTests() {
            const query = document.getElementById('search-input').value.toLowerCase();
            document.querySelectorAll('.checklist li').forEach(item => {
                const label = item.querySelector('label');
                if (label) {
                    const text = label.textContent.toLowerCase();
                    item.style.display = (text.includes(query) || query === '') ? 'flex' : 'none';
                }
            });
            document.querySelectorAll('.section').forEach(section => {
                const visibleItems = section.querySelectorAll('.checklist li[style="display: flex"], .checklist li:not([style])');
                section.style.display = (query !== '' && visibleItems.length === 0) ? 'none' : 'block';
            });
        }
    </script>
</body>
</html>